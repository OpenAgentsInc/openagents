{"id":"openagents-42j","title":"Autonomous Coding Agent Infrastructure","description":"Build infrastructure for a semi-autonomous coding agent that can work overnight. Includes: core tools (read/bash/edit/write/grep/find/ls), multi-provider LLM support (OpenRouter/Anthropic/OpenAI/Google), agent loop with tool execution lifecycle, streaming with partial tool args, session persistence, and token accounting. Edit tool already ported and converted to Effect.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-01T23:14:22.265484-06:00","updated_at":"2025-12-01T23:15:38.954296-06:00"}
{"id":"openagents-42j.1","title":"Port read tool (safe file reading with offset/limit)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T23:14:34.418034-06:00","updated_at":"2025-12-01T23:38:05.14736-06:00","closed_at":"2025-12-01T23:38:05.14736-06:00","close_reason":"read tool ported to Effect","dependencies":[{"issue_id":"openagents-42j.1","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:34.418915-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.10","title":"Add Google Gemini provider","description":"Google Generative AI integration with Gemini models. Uses functionDeclarations format for tools.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-01T23:14:58.923783-06:00","updated_at":"2025-12-01T23:14:58.923783-06:00","dependencies":[{"issue_id":"openagents-42j.10","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:58.924166-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.11","title":"Unified provider abstraction","description":"Common interface for all LLM providers. Handles model selection, streaming, tool schemas, and token accounting.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T23:14:58.977487-06:00","updated_at":"2025-12-02T11:30:36.135825-06:00","closed_at":"2025-12-02T11:30:36.135825-06:00","close_reason":"Added unified ChatProvider abstraction","dependencies":[{"issue_id":"openagents-42j.11","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:58.977921-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.12","title":"Streaming with partial tool arguments","description":"Stream tool call arguments progressively so UI can render them as they arrive. TypeBox schema validation on partial JSON.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T23:15:12.397944-06:00","updated_at":"2025-12-02T11:33:40.833942-06:00","closed_at":"2025-12-02T11:33:40.833942-06:00","close_reason":"Added partial tool argument streaming helper","dependencies":[{"issue_id":"openagents-42j.12","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:15:12.398379-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.13","title":"Token and cost accounting","description":"Track token usage per request and session. Calculate costs based on model pricing.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-01T23:15:12.491705-06:00","updated_at":"2025-12-01T23:15:12.491705-06:00","dependencies":[{"issue_id":"openagents-42j.13","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:15:12.492099-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.14","title":"Session persistence (JSONL storage)","description":"Save and restore agent sessions. Store messages, tool calls, and results as JSONL. Support --continue to resume.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T23:15:12.538038-06:00","updated_at":"2025-12-01T23:59:51.147927-06:00","closed_at":"2025-12-01T23:59:51.147927-06:00","close_reason":"Implemented session persistence with JSONL storage, load/save functions, and tests","dependencies":[{"issue_id":"openagents-42j.14","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:15:12.538418-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.15","title":"Convert tool schemas to Effect Schema","description":"Port tool definitions using Effect Schema (effect/Schema) instead of TypeBox. The edit tool already demonstrates the pattern. Support runtime validation and JSON Schema generation for LLM providers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T23:15:12.589714-06:00","updated_at":"2025-12-02T11:35:50.874583-06:00","closed_at":"2025-12-02T11:35:50.874583-06:00","close_reason":"Tool schemas already on Effect; verified with tests","dependencies":[{"issue_id":"openagents-42j.15","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:15:12.59013-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.16","title":"Fix tool test file type errors (bash.test, edit.test, read.test, write.test)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-01T23:42:03.931445-06:00","updated_at":"2025-12-01T23:42:03.931445-06:00","dependencies":[{"issue_id":"openagents-42j.16","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:42:03.931917-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.17","title":"Fix cli.ts type errors (description option, ToolContent.text access)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-01T23:42:04.031908-06:00","updated_at":"2025-12-01T23:42:04.031908-06:00","dependencies":[{"issue_id":"openagents-42j.17","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:42:04.032351-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.18","title":"Fix openrouter-edit-demo.ts type errors (SDK types, unused imports)","description":"","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-01T23:42:04.077231-06:00","updated_at":"2025-12-01T23:42:04.077231-06:00","dependencies":[{"issue_id":"openagents-42j.18","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:42:04.0777-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.19","title":"Fix read.ts execute return type error","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T23:42:04.127916-06:00","updated_at":"2025-12-01T23:44:13.856062-06:00","closed_at":"2025-12-01T23:44:13.856062-06:00","close_reason":"Fixed Effect.gen pattern and mapped PlatformError to ToolExecutionError","dependencies":[{"issue_id":"openagents-42j.19","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:42:04.128367-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.2","title":"Port bash tool (shell execution with timeout and abort)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T23:14:34.51344-06:00","updated_at":"2025-12-01T23:41:09.157849-06:00","closed_at":"2025-12-01T23:41:09.157849-06:00","close_reason":"bash tool ported","dependencies":[{"issue_id":"openagents-42j.2","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:34.513863-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.3","title":"Port write tool (file creation/overwrite)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T23:14:34.61311-06:00","updated_at":"2025-12-01T23:41:20.410616-06:00","closed_at":"2025-12-01T23:41:20.410616-06:00","close_reason":"write tool ported","dependencies":[{"issue_id":"openagents-42j.3","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:34.613549-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.4","title":"Port grep tool (code search)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T23:14:34.663793-06:00","updated_at":"2025-12-02T11:41:09.515134-06:00","closed_at":"2025-12-02T11:41:09.515134-06:00","close_reason":"Ported grep tool with Effect and tests","dependencies":[{"issue_id":"openagents-42j.4","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:34.664214-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.5","title":"Port find tool (file discovery)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T23:14:34.717557-06:00","updated_at":"2025-12-02T11:45:13.326269-06:00","closed_at":"2025-12-02T11:45:13.326269-06:00","close_reason":"Ported find tool with Effect and tests","dependencies":[{"issue_id":"openagents-42j.5","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:34.717992-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.6","title":"Port ls tool (directory listing)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-01T23:14:34.767118-06:00","updated_at":"2025-12-01T23:14:34.767118-06:00","dependencies":[{"issue_id":"openagents-42j.6","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:34.767525-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.7","title":"Implement agent loop (tool execution lifecycle)","description":"Core loop that handles LLM responses, tool calls, and continues until task completion. Includes state machine for conversation flow.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-01T23:14:58.735593-06:00","updated_at":"2025-12-01T23:30:09.052428-06:00","closed_at":"2025-12-01T23:30:09.052428-06:00","close_reason":"Implemented agent loop with Effect pattern. Core loop handles LLM responses, executes tool calls, and continues until task completion. Uses new class-based Context.Tag pattern for OpenRouterClient service.","dependencies":[{"issue_id":"openagents-42j.7","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:58.736343-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.8","title":"Add Anthropic provider","description":"Direct Anthropic API integration with Claude models. Translate tool schemas to Anthropic format (input_schema).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T23:14:58.826501-06:00","updated_at":"2025-12-02T11:25:26.397356-06:00","closed_at":"2025-12-02T11:25:26.397356-06:00","close_reason":"Added Anthropic provider module","dependencies":[{"issue_id":"openagents-42j.8","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:58.826865-06:00","created_by":"daemon"}]}
{"id":"openagents-42j.9","title":"Add OpenAI provider","description":"OpenAI chat completions API integration with GPT models. Support both completions and responses APIs.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-01T23:14:58.872611-06:00","updated_at":"2025-12-02T11:28:16.735889-06:00","closed_at":"2025-12-02T11:28:16.735889-06:00","close_reason":"Added OpenAI provider module","dependencies":[{"issue_id":"openagents-42j.9","depends_on_id":"openagents-42j","type":"parent-child","created_at":"2025-12-01T23:14:58.873048-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb","title":"Epic: .openagents task system (replace beads)","description":"Replace external beads (bd) dependency with our own .openagents task system. Uses the exact same data schema as beads but implemented in Effect TypeScript. Goal: MechaCoder can pick tasks, update status, close tasks without external bd command.\n\nKey data types (from beads internal/types/types.go):\n- Task: id, title, description, status, priority, type, assignee, labels, deps, commits, createdAt, updatedAt, closedAt\n- Status: open | in_progress | blocked | closed\n- IssueType: bug | feature | task | epic | chore\n- Dependency: {id, type} where type is blocks | related | parent-child | discovered-from\n\nFiles:\n- .openagents/project.json - Project config\n- .openagents/tasks.jsonl - One task per line (like beads issues.jsonl)","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-02T10:36:14.182473-06:00","updated_at":"2025-12-02T10:37:03.948049-06:00"}
{"id":"openagents-5bb.1","title":"Task schema: Effect Schema definitions for Task, Status, IssueType, Dependency","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:36:20.776155-06:00","updated_at":"2025-12-02T10:43:49.174348-06:00","closed_at":"2025-12-02T10:43:49.174348-06:00","close_reason":"Implemented Effect Schema definitions for Task, Status, IssueType, Dependency, ProjectConfig with 26 passing tests","dependencies":[{"issue_id":"openagents-5bb.1","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:20.777055-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.2","title":"TaskService: CRUD operations for tasks.jsonl (create, update, close, list, ready)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:36:20.820981-06:00","updated_at":"2025-12-02T11:02:31.379753-06:00","closed_at":"2025-12-02T11:02:31.379753-06:00","close_reason":"Completed TaskService CRUD and tests","dependencies":[{"issue_id":"openagents-5bb.2","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:20.821414-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.3","title":"ProjectService: Load/save .openagents/project.json config","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:36:20.861261-06:00","updated_at":"2025-12-02T11:07:37.121158-06:00","closed_at":"2025-12-02T11:07:37.121158-06:00","close_reason":"Implemented ProjectService load/save with tests","dependencies":[{"issue_id":"openagents-5bb.3","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:20.861668-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.4","title":"BeadsConverter: Import beads JSONL into .openagents/tasks.jsonl","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T10:36:39.93582-06:00","updated_at":"2025-12-02T11:23:05.945044-06:00","closed_at":"2025-12-02T11:23:05.945044-06:00","close_reason":"Added beads import helper/CLI and tests","dependencies":[{"issue_id":"openagents-5bb.4","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:39.936271-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.5","title":"ID generator: Generate short hash IDs (oa-xxxxxx format)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:36:39.975327-06:00","updated_at":"2025-12-02T10:54:40.422441-06:00","closed_at":"2025-12-02T10:54:40.422441-06:00","close_reason":"Implemented ID generator with hash-based IDs, hierarchical IDs, and 27 passing tests","dependencies":[{"issue_id":"openagents-5bb.5","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:39.97865-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.6","title":"TaskPicker: Select next ready task by priority/age (replaces bd ready)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:36:40.019812-06:00","updated_at":"2025-12-02T11:10:39.337018-06:00","closed_at":"2025-12-02T11:10:39.337018-06:00","close_reason":"Implemented TaskPicker ready selection and sorting","dependencies":[{"issue_id":"openagents-5bb.6","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:40.020834-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.7","title":"Initialize .openagents directory: CLI command to create project.json and empty tasks.jsonl","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T10:36:52.333239-06:00","updated_at":"2025-12-02T11:17:04.263324-06:00","closed_at":"2025-12-02T11:17:04.263324-06:00","close_reason":"Added .openagents init CLI and helper","dependencies":[{"issue_id":"openagents-5bb.7","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:52.335344-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.8","title":"Integrate TaskService into do-one-bead.ts (replace bd commands)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:36:52.379123-06:00","updated_at":"2025-12-02T11:14:01.411587-06:00","closed_at":"2025-12-02T11:14:01.411587-06:00","close_reason":"Integrated .openagents TaskService into do-one-bead","dependencies":[{"issue_id":"openagents-5bb.8","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:52.379793-06:00","created_by":"daemon"}]}
{"id":"openagents-5bb.9","title":"Tests for TaskService and TaskSchema","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T10:36:52.419507-06:00","updated_at":"2025-12-02T11:19:43.225426-06:00","closed_at":"2025-12-02T11:19:43.225426-06:00","close_reason":"Added TaskService/Schema coverage for filters, readiness","dependencies":[{"issue_id":"openagents-5bb.9","depends_on_id":"openagents-5bb","type":"parent-child","created_at":"2025-12-02T10:36:52.420102-06:00","created_by":"daemon"}]}
