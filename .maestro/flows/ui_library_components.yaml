appId: com.openagents.app
name: UI Library → Agent Message
---
- launchApp
- openLink: "exp://localhost:8081"
# Open drawer if header button visible
- runFlow:
    when:
      visible:
        id: header-menu-button
    commands:
      - tapOn:
          id: header-menu-button
# If we’re on Settings, go back first (header back chevron)
- runFlow:
    when:
      visible:
        text: "Settings"
    commands:
      - tapOn:
          id: header-menu-button
- tapOn:
    id: drawer-library
# Wait for Library root by id
- extendedWaitUntil:
    visible:
      id: library-root
    timeout: 60000
# Tap sample by text
- tapOn:
    text: "Agent Message"
- tapOn:
    text: Agent Message
- extendedWaitUntil:
    visible:
      id: agent-message
    timeout: 30000
