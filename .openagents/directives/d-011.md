---
id: d-011
title: Comprehensive Storybook Coverage for All Rust Components
status: active
priority: high
created: 2025-12-21
updated: 2025-12-25T14:16:58Z
---

## Goal

Achieve 100% storybook coverage for all OpenAgents UI components using atomic design methodology. Every atom, molecule, organism, and screen across all crates must have a corresponding story demonstrating its variants, states, and usage patterns.

## Background

Component-driven development builds UIs bottom-up: atoms combine into molecules, molecules into organisms, organisms into screens. This methodology enables:

- **Isolation** - Develop and test components individually
- **Precision** - Debug at the granular level
- **Reusability** - Compose complex UIs from proven building blocks
- **Parallelization** - Teams work independently on components
- **Documentation** - Stories serve as living documentation

OpenAgents currently has **~70+ WGPUI/ACP components** spread across the UI crates, but only a subset have stories. This directive establishes the path to 100% coverage.

**Status Update (2025-12-25):** The Maud/HTMX storybook is archived. The target is the WGPUI storybook, and all ACP-parity components must be covered there. Legacy references to Maud/HTMX are historical context and should be mapped to WGPUI equivalents.

### Current State (Legacy Inventory)

| Crate | Components | With Stories | Coverage |
|-------|------------|--------------|----------|
| `crates/ui/` (recorder) | 37 | 27 | 73% |
| `crates/ui/` (shared) | 2 | 1 | 50% |
| `crates/wallet/` | 6 | 0 | 0% |
| `crates/gitafter/` | 7 | 0 | 0% |
| `crates/autopilot-gui/` | 9 | 0 | 0% |
| `src/gui/views/` (unified) | 2 | 0 | 0% |
| **Total** | **~63** | **28** | **44%** |

### Component Story Format (CSF) Principles

While CSF is JavaScript-based, its principles apply to Rust storybooks:

1. **Stories are code** - Executable examples, not documentation
2. **Hierarchical organization** - `atoms/Button`, `molecules/Card`
3. **Multiple variants** - Each component shows all states/configurations
4. **Self-documenting** - Include usage code examples
5. **Interoperable** - Consistent patterns across all components

## Architecture

### Atomic Design Hierarchy

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           ATOMIC DESIGN LAYERS                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  SCREENS (Pages)                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  dashboard_page, send_page, receive_page, history_page, chat_page    │   │
│  │  Complete views with data, routes, and full context                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ▲                                               │
│                              │ composed of                                   │
│  ORGANISMS                   │                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ToolLine, AgentLine, SessionHeader, chat_interface, rule_card      │   │
│  │  Complex, self-contained sections with their own logic               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ▲                                               │
│                              │ composed of                                   │
│  MOLECULES                   │                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  LineHeader, LineMeta, result_display, message_bubble, tool_panel   │   │
│  │  Groups of atoms that function as a unit                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ▲                                               │
│                              │ composed of                                   │
│  ATOMS                       │                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  status_dot, Button, cost_badge, token_badge, timestamp_badge       │   │
│  │  Fundamental building blocks that can't be broken down further       │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### Storybook Directory Structure

```
crates/storybook/
├── Cargo.toml
├── README.md
├── src/
│   ├── main.rs                    # Server, routes, hot-reload
│   ├── stories/
│   │   ├── mod.rs                 # Story module exports
│   │   │
│   │   ├── atoms/                 # ATOMS - Fundamental building blocks
│   │   │   ├── mod.rs
│   │   │   ├── index.rs           # Atoms overview gallery
│   │   │   ├── button.rs          # Button variants, sizes, states
│   │   │   ├── status_dot.rs      # Status indicator states
│   │   │   ├── badges/            # All badge atoms
│   │   │   │   ├── mod.rs
│   │   │   │   ├── cost.rs
│   │   │   │   ├── token.rs
│   │   │   │   ├── latency.rs
│   │   │   │   ├── timestamp.rs
│   │   │   │   ├── step.rs
│   │   │   │   ├── attempt.rs
│   │   │   │   ├── call_id.rs
│   │   │   │   └── tid.rs
│   │   │   ├── line_type_label.rs
│   │   │   ├── blob_ref.rs
│   │   │   ├── redacted_value.rs
│   │   │   └── result_arrow.rs
│   │   │
│   │   ├── molecules/             # MOLECULES - Atom compositions
│   │   │   ├── mod.rs
│   │   │   ├── index.rs           # Molecules overview gallery
│   │   │   ├── line_header.rs
│   │   │   ├── line_meta.rs
│   │   │   ├── result_display.rs
│   │   │   ├── mode_indicator.rs
│   │   │   ├── phase_indicator.rs
│   │   │   ├── budget_meter.rs
│   │   │   ├── cost_accumulator.rs
│   │   │   ├── metrics_footer.rs
│   │   │   ├── message_bubble.rs      # FROM autopilot-gui
│   │   │   ├── tool_call_panel.rs     # FROM autopilot-gui
│   │   │   ├── tool_result_panel.rs   # FROM autopilot-gui
│   │   │   ├── permission_badge.rs    # FROM autopilot-gui
│   │   │   └── status_badge.rs        # FROM desktop
│   │   │
│   │   ├── organisms/             # ORGANISMS - Complex sections
│   │   │   ├── mod.rs
│   │   │   ├── index.rs           # Organisms overview gallery
│   │   │   │
│   │   │   ├── recorder/          # Recorder log lines
│   │   │   │   ├── mod.rs
│   │   │   │   ├── user_line.rs
│   │   │   │   ├── agent_line.rs
│   │   │   │   ├── tool_line.rs
│   │   │   │   ├── mcp_line.rs
│   │   │   │   ├── subagent_line.rs
│   │   │   │   ├── recall_line.rs
│   │   │   │   ├── question_line.rs
│   │   │   │   ├── lifecycle_line.rs
│   │   │   │   ├── time_marker.rs
│   │   │   │   ├── phase_line.rs
│   │   │   │   └── hour_divider.rs
│   │   │   │
│   │   │   ├── sections/          # Recorder sections
│   │   │   │   ├── mod.rs
│   │   │   │   ├── session_header.rs
│   │   │   │   ├── session_sidebar.rs
│   │   │   │   ├── session_stats.rs
│   │   │   │   └── tool_index.rs
│   │   │   │
│   │   │   ├── chat_interface.rs      # FROM autopilot-gui
│   │   │   ├── permission_dialog.rs   # FROM autopilot-gui
│   │   │   ├── rule_card.rs           # FROM autopilot-gui
│   │   │   ├── repository_card.rs     # FROM gitafter
│   │   │   ├── publish_notification.rs # FROM gitafter
│   │   │   └── counter_fragment.rs    # FROM desktop
│   │   │
│   │   ├── screens/               # SCREENS - Full page compositions
│   │   │   ├── mod.rs
│   │   │   ├── index.rs           # Screens overview gallery
│   │   │   │
│   │   │   ├── wallet/            # Wallet screens
│   │   │   │   ├── mod.rs
│   │   │   │   ├── dashboard.rs
│   │   │   │   ├── send.rs
│   │   │   │   ├── receive.rs
│   │   │   │   ├── history.rs
│   │   │   │   └── settings.rs
│   │   │   │
│   │   │   ├── autopilot/         # Autopilot screens
│   │   │   │   ├── mod.rs
│   │   │   │   ├── dashboard.rs
│   │   │   │   ├── chat.rs
│   │   │   │   └── permissions.rs
│   │   │   │
│   │   │   ├── gitafter/          # GitAfter screens
│   │   │   │   ├── mod.rs
│   │   │   │   ├── home.rs
│   │   │   │   └── repository_detail.rs
│   │   │   │
│   │   │   ├── unified/           # Unified shell screens (src/gui/views/)
│   │   │   │   ├── mod.rs
│   │   │   │   └── layout.rs      # Tabbed navigation
│   │   │   │
│   │   │   └── recorder/          # Recorder full demo
│   │   │       ├── mod.rs
│   │   │       └── session_viewer.rs
│   │   │
│   │   └── layouts/               # LAYOUTS - Structural wrappers
│   │       ├── mod.rs
│   │       ├── base_document.rs   # HTML shell with Tailwind
│   │       ├── wallet_layout.rs
│   │       ├── autopilot_layout.rs
│   │       ├── gitafter_layout.rs
│   │       └── desktop_layout.rs
│   │
│   └── shared/                    # Storybook utilities
│       ├── mod.rs
│       ├── helpers.rs             # section_title, section, row, item, code_block
│       ├── mock_data.rs           # Reusable mock data for stories
│       └── constants.rs           # Story display constants
```

### Story Pattern

Every story follows a consistent structure:

```rust
use maud::{html, Markup};
use crate::shared::helpers::{section_title, section, row, item, code_block};

pub fn component_name_story() -> Markup {
    html! {
        // Title and description
        h1 class="text-2xl font-bold mb-2 pb-2 border-b border-border" {
            "Component Name"
        }
        p class="text-sm text-muted-foreground mb-6" {
            "Brief description of what this component does."
        }

        // Variants section
        (section_title("Variants"))
        (section(row(html! {
            (item("Default", component_default()))
            (item("Active", component_active()))
            (item("Disabled", component_disabled()))
        })))

        // Sizes section (if applicable)
        (section_title("Sizes"))
        (section(row(html! {
            (item("Small", component_small()))
            (item("Medium", component_medium()))
            (item("Large", component_large()))
        })))

        // States section (if applicable)
        (section_title("States"))
        (section(row(html! {
            (item("Success", component_success()))
            (item("Error", component_error()))
            (item("Loading", component_loading()))
        })))

        // Interactive demo (if applicable)
        (section_title("Interactive"))
        (section(html! {
            div id="demo-container" {
                (component_interactive())
            }
        }))

        // Usage code example
        (section_title("Usage"))
        (code_block(r#"
use ui::atoms::component_name;

// Default usage
let markup = component_name();

// With options
let markup = ComponentName::new()
    .variant(Variant::Active)
    .size(Size::Large)
    .build();
        "#))

        // Props/API documentation
        (section_title("API"))
        (section(html! {
            table class="w-full text-sm" {
                thead {
                    tr class="border-b border-border" {
                        th class="text-left p-2" { "Prop" }
                        th class="text-left p-2" { "Type" }
                        th class="text-left p-2" { "Default" }
                        th class="text-left p-2" { "Description" }
                    }
                }
                tbody {
                    tr class="border-b border-border" {
                        td class="p-2 font-mono" { "variant" }
                        td class="p-2 font-mono" { "Variant" }
                        td class="p-2 font-mono" { "Default" }
                        td class="p-2" { "Visual variant" }
                    }
                }
            }
        }))
    }
}
```

### Navigation Sidebar

```
┌─────────────────────────┐
│  OpenAgents Storybook   │
├─────────────────────────┤
│                         │
│  ATOMS                  │
│  ├─ Overview            │
│  ├─ Button              │
│  ├─ StatusDot           │
│  ├─ Badges              │
│  │   ├─ Cost            │
│  │   ├─ Token           │
│  │   ├─ Latency         │
│  │   └─ ...             │
│  ├─ LineTypeLabel       │
│  └─ ...                 │
│                         │
│  MOLECULES              │
│  ├─ Overview            │
│  ├─ LineHeader          │
│  ├─ LineMeta            │
│  ├─ MessageBubble       │
│  └─ ...                 │
│                         │
│  ORGANISMS              │
│  ├─ Overview            │
│  ├─ Recorder            │
│  │   ├─ UserLine        │
│  │   ├─ AgentLine       │
│  │   └─ ...             │
│  ├─ ChatInterface       │
│  └─ ...                 │
│                         │
│  SCREENS                │
│  ├─ Overview            │
│  ├─ Wallet              │
│  │   ├─ Dashboard       │
│  │   └─ ...             │
│  ├─ Autopilot           │
│  ├─ GitAfter            │
│  └─ Desktop             │
│                         │
│  LAYOUTS                │
│  ├─ BaseDocument        │
│  └─ ...                 │
│                         │
└─────────────────────────┘
```

## Success Criteria

### Phase 1: Reorganize Existing Stories (Foundation)
- [ ] Create `atoms/`, `molecules/`, `organisms/`, `screens/`, `layouts/` directories
- [ ] Move existing recorder atom stories to `stories/atoms/`
- [ ] Move existing recorder molecule stories to `stories/molecules/`
- [ ] Move existing recorder organism stories to `stories/organisms/recorder/`
- [ ] Move existing recorder section stories to `stories/organisms/sections/`
- [ ] Move existing button story to `stories/atoms/button.rs`
- [ ] Create index/overview pages for each category
- [ ] Update sidebar navigation with new hierarchy
- [ ] Verify all existing stories work after reorganization

### Phase 2: Complete Shared UI Atoms
- [ ] `base_document` story - HTML shell variants
- [ ] Verify Button story has all variants (already exists)
- [ ] Create badge sub-navigation for all badge types
- [ ] Ensure consistent code example format across atoms

### Phase 3: Unified Shell Stories (src/gui/views/)
- [ ] `layout` story - Unified tabbed navigation
- [ ] Verify route handlers render correctly for each tab

### Phase 4: Wallet GUI Stories
- [ ] `layout` story - Wallet layout with theme
- [ ] `dashboard_page` screen story - Identity + balance + actions
- [ ] `send_page` screen story - Send payment form
- [ ] `receive_page` screen story - Receive with address/invoice
- [ ] `history_page` screen story - Transaction list
- [ ] `settings_page` screen story - Relay configuration

### Phase 5: GitAfter Stories
- [ ] `home_page_with_repos` screen story - Repository list
- [ ] `repository_detail_page` screen story - Repo detail view
- [ ] `repository_card` organism story - Card variants
- [ ] `publish_status_notification` molecule story - Success/error states
- [ ] `publish_success_notification` molecule story
- [ ] `publish_error_notification` molecule story
- [ ] `relay_failure_item` atom story

### Phase 6: Autopilot GUI Stories
- [ ] `page` layout story - Base navigation layout
- [ ] `dashboard` screen story - Quick start + status
- [ ] `chat_interface` organism story - Full chat with mock messages
- [ ] `message_bubble` molecule story - User/assistant/system roles
- [ ] `permission_dialog` organism story - Modal with actions
- [ ] `permission_badge` atom story - Count badge
- [ ] `permissions_view` screen story - Rules management
- [ ] `rule_card` organism story - Rule display variants
- [ ] `tool_call_panel` molecule story - Tool execution display
- [ ] `tool_result_panel` molecule story - Result with timing

### Phase 7: Mock Data Library
- [ ] Create `shared/mock_data.rs` with reusable test data
- [ ] Mock transactions for wallet stories
- [ ] Mock repositories for gitafter stories
- [ ] Mock chat messages for autopilot stories
- [ ] Mock session data for recorder stories
- [ ] Mock permission rules for autopilot stories

### Phase 8: Interactive Stories
- [ ] Add HTMX interactivity to applicable stories
- [ ] WebSocket demo for real-time components
- [ ] Form validation demos for input components
- [ ] Collapsible/expandable demos for details components
- [ ] State persistence demos (localStorage)

### Phase 9: Documentation & Polish
- [ ] README with contribution guidelines
- [ ] Each story includes complete API documentation
- [ ] Code examples are copy-pasteable
- [ ] Consistent styling across all stories
- [ ] Performance optimization for large story sets
- [ ] Search/filter functionality for navigation

### Phase 10: CI Integration
- [ ] Build storybook in CI pipeline
- [ ] Screenshot tests for visual regression
- [ ] Story compilation validation (no broken stories)
- [ ] Coverage report (% of components with stories)

## Complete Component Inventory

### Atoms (14 existing + 2 new = 16 total)

| Component | Location | Story Status |
|-----------|----------|--------------|
| `status_dot` | ui/recorder/atoms | ✅ Has story |
| `attempt_badge` | ui/recorder/atoms | ✅ Has story |
| `blob_ref` | ui/recorder/atoms | ✅ Has story |
| `call_id_badge` | ui/recorder/atoms | ✅ Has story |
| `cost_badge` | ui/recorder/atoms | ✅ Has story |
| `latency_badge` | ui/recorder/atoms | ✅ Has story |
| `line_type_label` | ui/recorder/atoms | ✅ Has story |
| `step_badge` | ui/recorder/atoms | ✅ Has story |
| `timestamp_badge_elapsed` | ui/recorder/atoms | ✅ Has story |
| `timestamp_badge_wall` | ui/recorder/atoms | ✅ Has story |
| `tid_badge` | ui/recorder/atoms | ✅ Has story |
| `token_badge` | ui/recorder/atoms | ✅ Has story |
| `redacted_value` | ui/recorder/atoms | ✅ Has story |
| `result_arrow` | ui/recorder/atoms | ✅ Has story |
| `Button` | ui/src | ✅ Has story |
| `permission_badge` | autopilot-gui/views/components | ❌ Needs story |
| `relay_failure_item` | gitafter/views | ❌ Needs story |

### Molecules (8 existing + 7 new = 15 total)

| Component | Location | Story Status |
|-----------|----------|--------------|
| `budget_meter` | ui/recorder/molecules | ✅ Has story |
| `cost_accumulator` | ui/recorder/molecules | ✅ Has story |
| `LineHeader` | ui/recorder/molecules | ✅ Has story |
| `LineMeta` | ui/recorder/molecules | ✅ Has story |
| `metrics_footer` | ui/recorder/molecules | ✅ Has story |
| `mode_indicator` | ui/recorder/molecules | ✅ Has story |
| `phase_indicator` | ui/recorder/molecules | ✅ Has story |
| `result_display` | ui/recorder/molecules | ✅ Has story |
| `message_bubble` | autopilot-gui/views/components | ❌ Needs story |
| `tool_call_panel` | autopilot-gui/views/components | ❌ Needs story |
| `tool_result_panel` | autopilot-gui/views/components | ❌ Needs story |
| `status_badge` | autopilot-gui/views | ❌ Needs story |
| `publish_status_notification` | gitafter/views | ❌ Needs story |
| `publish_success_notification` | gitafter/views | ❌ Needs story |
| `publish_error_notification` | gitafter/views | ❌ Needs story |

### Organisms (11 existing + 7 new = 18 total)

| Component | Location | Story Status |
|-----------|----------|--------------|
| `AgentLine` | ui/recorder/organisms | ✅ Has story |
| `hour_divider` | ui/recorder/organisms | ✅ Has story |
| `lifecycle_line` | ui/recorder/organisms | ✅ Has story |
| `McpLine` | ui/recorder/organisms | ✅ Has story |
| `phase_line` | ui/recorder/organisms | ✅ Has story |
| `QuestionLine` | ui/recorder/organisms | ✅ Has story |
| `RecallLine` | ui/recorder/organisms | ✅ Has story |
| `SubagentLine` | ui/recorder/organisms | ✅ Has story |
| `time_marker` | ui/recorder/organisms | ✅ Has story |
| `ToolLine` | ui/recorder/organisms | ✅ Has story |
| `UserLine` | ui/recorder/organisms | ✅ Has story |
| `SessionHeader` | ui/recorder/sections | ✅ Has story |
| `session_sidebar` | ui/recorder/sections | ✅ Has story |
| `SessionStats` | ui/recorder/sections | ✅ Has story |
| `ToolIndex` | ui/recorder/sections | ✅ Has story |
| `chat_interface` | autopilot-gui/views | ❌ Needs story |
| `permission_dialog` | autopilot-gui/views/components | ❌ Needs story |
| `rule_card` | autopilot-gui/views | ❌ Needs story |
| `repository_card` | gitafter/views | ❌ Needs story |

### Screens (0 existing + 17 new = 17 total)

| Component | Location | Story Status |
|-----------|----------|--------------|
| `dashboard_page` (wallet) | wallet/gui | ❌ Needs story |
| `send_page` (wallet) | wallet/gui | ❌ Needs story |
| `receive_page` (wallet) | wallet/gui | ❌ Needs story |
| `history_page` (wallet) | wallet/gui | ❌ Needs story |
| `settings_page` (wallet) | wallet/gui | ❌ Needs story |
| `dashboard` (autopilot) | autopilot-gui/views | ❌ Needs story |
| `chat` (autopilot) | autopilot-gui/views | ❌ Needs story |
| `permissions_view` (autopilot) | autopilot-gui/views | ❌ Needs story |
| `home_page_with_repos` (gitafter) | gitafter/views | ❌ Needs story |
| `repository_detail_page` (gitafter) | gitafter/views | ❌ Needs story |
| `layout` (unified) | src/gui/views | ❌ Needs story |
| `session_viewer` (recorder) | storybook/recorder | ✅ Has story (demo) |

### Layouts (0 existing + 5 new = 5 total)

| Component | Location | Story Status |
|-----------|----------|--------------|
| `base_document` | ui/src | ❌ Needs story |
| `layout` (wallet) | wallet/gui | ❌ Needs story |
| `page` (autopilot) | autopilot-gui/views | ❌ Needs story |
| `layout` (unified) | src/gui/views | ❌ Needs story |
| `storybook_layout` | storybook | ✅ Exists (base_layout) |

## Key Files to Create

| File | Purpose |
|------|---------|
| `src/stories/atoms/mod.rs` | Atom story exports |
| `src/stories/atoms/index.rs` | Atoms gallery overview |
| `src/stories/molecules/mod.rs` | Molecule story exports |
| `src/stories/molecules/index.rs` | Molecules gallery overview |
| `src/stories/organisms/mod.rs` | Organism story exports |
| `src/stories/organisms/index.rs` | Organisms gallery overview |
| `src/stories/screens/mod.rs` | Screen story exports |
| `src/stories/screens/index.rs` | Screens gallery overview |
| `src/stories/layouts/mod.rs` | Layout story exports |
| `src/shared/mock_data.rs` | Reusable test data |
| `src/shared/helpers.rs` | Story helper functions |

## Key Files to Modify

| File | Change |
|------|--------|
| `src/main.rs` | Add routes for new story hierarchy |
| `src/stories/mod.rs` | Export new story modules |
| Existing recorder stories | Move to new directory structure |

## Dependencies

No new dependencies required. Current stack:

```toml
[dependencies]
actix-web = "4"
actix-ws = "0.3"
maud = { version = "0.26", features = ["actix-web"] }
tokio = { version = "1", features = ["macros", "rt-multi-thread"] }
open = "5"
listenfd = "1"
futures-util = "0.3"
ui = { path = "../ui" }
wallet = { path = "../wallet" }           # Add for wallet stories
autopilot-gui = { path = "../autopilot-gui" }  # Add for autopilot stories
gitafter = { path = "../gitafter" }       # Add for gitafter stories
# Note: crates/desktop was removed; unified shell is in src/gui/
```

## Testing Strategy

1. **Compilation tests** - All stories must compile
2. **Route tests** - All story routes return 200
3. **Visual regression** - Screenshot comparison on changes
4. **Coverage tracking** - Report % of components with stories
5. **Hot-reload verification** - WebSocket updates work

## Notes

### Design Principles

1. **Every component gets a story** - No exceptions
2. **Show all variants** - Default, active, disabled, error, loading, etc.
3. **Include real examples** - Use realistic mock data
4. **Document the API** - Props table with types and defaults
5. **Provide code examples** - Copy-pasteable usage snippets

### Naming Conventions

- Story file: `snake_case.rs` matching component name
- Story function: `{component}_story() -> Markup`
- Route: `/stories/{category}/{name}` in kebab-case
- Sidebar active key: matches route path

### Screen Stories

Screen stories are special - they show complete page compositions:
- Use mock data that represents realistic scenarios
- Show multiple states (empty, loading, populated, error)
- Include responsive behavior notes
- Document data flow and dependencies

### Migration Strategy

The reorganization in Phase 1 is critical:
1. Create new directories first
2. Move files one at a time
3. Update imports immediately
4. Test after each move
5. Update routes in batch at the end

## Related Directives

- d-009 (Autopilot GUI) - GUI components need storybook coverage
- d-010 (Unified Binary) - All binaries unified into single `openagents` binary; `crates/desktop/` deleted
- d-003 (Wallet) - Wallet GUI components need stories

## Notes on Unified Binary

As of 2025-12-21, all binaries were unified into a single `openagents` binary (see d-010). The `crates/desktop/` crate was deleted and its functionality merged into `src/gui/`. Screen stories for the unified shell should reference:
- `src/gui/views/layout.rs` - Tabbed navigation layout
- `src/gui/routes/*.rs` - Route handlers for each tab

## References

- Component-Driven Development: https://www.componentdriven.org/
- Atomic Design: https://bradfrost.com/blog/post/atomic-web-design/
- CSF Principles: Reference at ~/code/csf/
- Current Storybook: `crates/storybook/README.md`
