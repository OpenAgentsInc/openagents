---
id: d-020
title: WGPUI Integration - GPU-Accelerated UI Components
status: active
priority: high
created: 2025-12-24
updated: 2025-12-25T14:16:58Z
---

# d-020: WGPUI Integration - GPU-Accelerated UI Components

## Goal

Integrate the WGPUI GPU-accelerated rendering framework into OpenAgents and build a complete component library that achieves structural parity with all existing ACP components. As of d-025, WGPUI is the primary UI stack, so HTML-rendered components are legacy references only.

**Status Update (2025-12-25):** The HTML stack is archived. Treat any hybrid-architecture references below as historical context; new work should target WGPUI-only flows.

## Background

### What is WGPUI?

WGPUI is a cross-platform GPU-accelerated UI rendering library built on wgpu (WebGPU/Vulkan/Metal/DX12). It provides:

- **GPU Rendering**: Hardware-accelerated primitives (quads, text, rounded corners via SDF)
- **Text System**: High-quality text shaping via cosmic-text with efficient glyph atlas
- **Layout Engine**: CSS Flexbox layout via Taffy
- **Theme System**: Bloomberg-inspired dark theme with semantic tokens
- **Platform Abstraction**: Unified API for web (WASM) and desktop (winit)
- **Streaming Markdown**: Real-time markdown rendering with syntax highlighting

### Why WGPUI?

The current OpenAgents UI is server-rendered HTML (Maud + HTMX + Tailwind). This works well for most interfaces but has limitations:

| HTML Rendering | GPU Rendering (WGPUI) |
|----------------|----------------------|
| ~60fps limited by DOM | 60+ fps, unlimited |
| Text reflowing expensive | Text pre-shaped, cached |
| Scrolling stutters at scale | Smooth virtual scrolling |
| Limited animation control | Frame-accurate animation |
| Good for forms, settings | Best for chat, terminal, diff |

**Hybrid Architecture**: OpenAgents uses BOTH rendering systems:
- HTML (Maud/HTMX) for forms, settings, navigation, dashboards
- WGPUI for performance-critical surfaces (chat, terminal, diff, timeline)

### Archived Code Location

WGPUI and related components are archived in `~/code/backroom/archive/openagents/`:

```
backroom/archive/openagents/
├── wgpui/
│   ├── wgpui/              # Core rendering engine
│   │   ├── src/
│   │   │   ├── lib.rs
│   │   │   ├── color.rs    # Hsla color type
│   │   │   ├── geometry.rs # Point, Size, Bounds
│   │   │   ├── scene.rs    # Quad, TextRun, Scene
│   │   │   ├── layout.rs   # Taffy integration
│   │   │   ├── text.rs     # cosmic-text + atlas
│   │   │   ├── renderer.rs # wgpu pipelines
│   │   │   ├── theme.rs    # Color tokens
│   │   │   ├── hit_test.rs # Hit testing
│   │   │   ├── input.rs    # Input events
│   │   │   ├── scroll.rs   # Scroll containers
│   │   │   ├── markdown/   # Streaming markdown
│   │   │   ├── shaders/    # WGSL shaders
│   │   │   └── platform/   # web.rs, desktop.rs
│   │   └── docs/
│   │       ├── ARCHITECTURE.md
│   │       ├── LAYOUT.md
│   │       ├── RENDERING.md
│   │       ├── TEXT.md
│   │       └── THEME.md
│   │
│   └── hud/                # Sci-fi HUD components
│       ├── src/
│       │   ├── background/ # dot_grid, grid_lines, moving_lines
│       │   ├── button/     # hud_button
│       │   ├── data/       # card, code_block, list, table
│       │   ├── effects/    # illuminator
│       │   ├── feedback/   # alert, loading, modal, progress, tooltip
│       │   ├── form/       # checkbox, select, text_input, toggle
│       │   ├── frame/      # circle, corners, header, lines, octagon
│       │   ├── indicator/  # figure, meter, separator, status_light
│       │   ├── nav/        # breadcrumbs, nav, pagination, tabs
│       │   ├── text/       # decipher, sequence
│       │   ├── animator/   # Animation system
│       │   └── theme.rs    # Arwes-style white-on-black
│       └── docs/
│           ├── README.md
│           ├── getting-started.md
│           └── theming.md
│
└── coder/
    └── coder/
        ├── widgets/        # Widget library
        │   ├── button.rs
        │   ├── div.rs
        │   ├── text.rs
        │   ├── text_input.rs
        │   ├── scroll.rs
        │   ├── list.rs     # VirtualList
        │   ├── widget.rs   # Widget trait
        │   └── context.rs  # Paint/Event context
        └── surfaces_*/     # IDE surfaces
            ├── chat/       # Chat thread
            ├── terminal/   # ANSI terminal
            ├── diff/       # Diff viewer
            └── timeline/   # Agent workflow
```

### Target Parity: ACP Components

The current ACP components in `crates/ui/src/acp/` represent the target structure:

**Atoms (12 components)**:
- checkpoint_badge, content_type_icon, entry_marker
- feedback_button, keybinding_hint, mode_badge
- model_badge, permission_button, streaming_indicator
- thinking_toggle, tool_icon, tool_status_badge

**Molecules (10 components)**:
- checkpoint_restore, diff_header, entry_actions
- message_header, mode_selector, model_selector
- permission_bar, terminal_header, thinking_block, tool_header

**Organisms (10 components)**:
- assistant_message, diff_tool_call, permission_dialog
- search_tool_call, terminal_tool_call, thread_controls
- thread_entry, tool_call_card, user_message

**Sections (5 components)**:
- message_editor, thread_feedback, thread_header, thread_view

## Architecture

### Hybrid Rendering Model

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          OPENAGENTS UI ARCHITECTURE                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                        Native Window (wry/tao)                          │ │
│  ├────────────────────────────────────────────────────────────────────────┤ │
│  │                                                                          │ │
│  │  ┌─────────────────────────────┐  ┌─────────────────────────────────┐  │ │
│  │  │     HTML Layer (WebView)    │  │    WGPUI Layer (Canvas)         │  │ │
│  │  │                             │  │                                  │  │ │
│  │  │  • Maud templates           │  │  • GPU-accelerated rendering    │  │ │
│  │  │  • HTMX interactions        │  │  • Chat thread view             │  │ │
│  │  │  • Tailwind styling         │  │  • Terminal emulator            │  │ │
│  │  │  • Forms & settings         │  │  • Diff viewer                  │  │ │
│  │  │  • Navigation               │  │  • Timeline visualization       │  │ │
│  │  │  • Dashboards               │  │  • Markdown streaming           │  │ │
│  │  │                             │  │  • Virtualized lists            │  │ │
│  │  └─────────────────────────────┘  └─────────────────────────────────┘  │ │
│  │                                                                          │ │
│  │                     ┌──────────────────────────┐                        │ │
│  │                     │   Message Bridge (IPC)   │                        │ │
│  │                     │   HTML ↔ WGPUI events    │                        │ │
│  │                     └──────────────────────────┘                        │ │
│  │                                                                          │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                       Actix-Web Server (localhost)                      │ │
│  │  • Routes → HTML responses                                              │ │
│  │  • WebSocket → Real-time updates                                        │ │
│  │  • Static assets → WGPUI WASM bundle                                    │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### WGPUI Crate Structure

```
crates/wgpui/
├── Cargo.toml
├── README.md
├── src/
│   ├── lib.rs              # Public API + WASM entry
│   │
│   ├── core/               # Core rendering primitives
│   │   ├── mod.rs
│   │   ├── color.rs        # Hsla
│   │   ├── geometry.rs     # Point, Size, Bounds, Edges
│   │   ├── scene.rs        # Scene, Quad, TextRun
│   │   ├── hit_test.rs     # Hit testing
│   │   └── input.rs        # InputEvent, Key, Mouse
│   │
│   ├── renderer/           # GPU rendering
│   │   ├── mod.rs
│   │   ├── pipeline.rs     # Render pipelines
│   │   ├── buffers.rs      # GPU buffers
│   │   └── shaders/
│   │       ├── quad.wgsl
│   │       └── text.wgsl
│   │
│   ├── text/               # Text rendering
│   │   ├── mod.rs
│   │   ├── system.rs       # TextSystem
│   │   ├── atlas.rs        # Glyph atlas
│   │   └── shaping.rs      # cosmic-text wrapper
│   │
│   ├── layout/             # Layout engine
│   │   ├── mod.rs
│   │   └── engine.rs       # Taffy wrapper
│   │
│   ├── scroll/             # Scrolling
│   │   ├── mod.rs
│   │   └── container.rs
│   │
│   ├── markdown/           # Markdown rendering
│   │   ├── mod.rs
│   │   ├── parser.rs
│   │   ├── renderer.rs
│   │   ├── streaming.rs
│   │   └── highlighter.rs
│   │
│   ├── theme/              # Theme system
│   │   ├── mod.rs
│   │   ├── tokens.rs       # Color/spacing tokens
│   │   └── dark.rs         # Default dark theme
│   │
│   └── platform/           # Platform abstraction
│       ├── mod.rs
│       ├── web.rs          # WASM platform
│       └── desktop.rs      # winit platform
│
├── atoms/                  # WGPUI Atoms (parity with ACP)
│   ├── mod.rs
│   ├── status_dot.rs
│   ├── tool_icon.rs
│   ├── mode_badge.rs
│   ├── model_badge.rs
│   ├── streaming_indicator.rs
│   ├── thinking_toggle.rs
│   ├── tool_status_badge.rs
│   ├── permission_button.rs
│   ├── feedback_button.rs
│   ├── keybinding_hint.rs
│   ├── entry_marker.rs
│   ├── checkpoint_badge.rs
│   └── content_type_icon.rs
│
├── molecules/              # WGPUI Molecules
│   ├── mod.rs
│   ├── message_header.rs
│   ├── tool_header.rs
│   ├── terminal_header.rs
│   ├── diff_header.rs
│   ├── thinking_block.rs
│   ├── permission_bar.rs
│   ├── mode_selector.rs
│   ├── model_selector.rs
│   ├── entry_actions.rs
│   └── checkpoint_restore.rs
│
├── organisms/              # WGPUI Organisms
│   ├── mod.rs
│   ├── user_message.rs
│   ├── assistant_message.rs
│   ├── tool_call_card.rs
│   ├── terminal_tool_call.rs
│   ├── diff_tool_call.rs
│   ├── search_tool_call.rs
│   ├── thread_entry.rs
│   ├── thread_controls.rs
│   └── permission_dialog.rs
│
├── sections/               # WGPUI Sections (surfaces)
│   ├── mod.rs
│   ├── thread_view.rs      # Chat thread surface
│   ├── thread_header.rs
│   ├── thread_feedback.rs
│   └── message_editor.rs
│
├── hud/                    # Sci-fi HUD components (from archive)
│   ├── mod.rs
│   ├── background/
│   ├── frame/
│   ├── indicator/
│   ├── nav/
│   └── effects/
│
└── widgets/                # Base widget system
    ├── mod.rs
    ├── widget.rs           # Widget trait
    ├── context.rs          # Paint/Event context
    ├── div.rs
    ├── text.rs
    ├── button.rs
    ├── text_input.rs
    ├── scroll_view.rs
    └── virtual_list.rs
```

### Widget Trait

```rust
/// Core widget abstraction for WGPUI components
pub trait Widget {
    /// Unique identifier for this widget
    fn id(&self) -> WidgetId;
    
    /// Calculate desired size given constraints
    fn measure(&self, ctx: &mut MeasureContext) -> Size;
    
    /// Layout children and return final bounds
    fn layout(&mut self, bounds: Bounds, ctx: &mut LayoutContext);
    
    /// Paint the widget to the scene
    fn paint(&self, scene: &mut Scene, ctx: &mut PaintContext);
    
    /// Handle input event, return whether consumed
    fn event(&mut self, event: &InputEvent, ctx: &mut EventContext) -> EventResult;
    
    /// Get child widgets for traversal
    fn children(&self) -> &[Box<dyn Widget>] { &[] }
}
```

### Theme Alignment

WGPUI theme tokens must align with Tailwind tokens for visual consistency:

| Tailwind Class | WGPUI Token | Value |
|----------------|-------------|-------|
| `bg-background` | `theme::bg::APP` | `#0a0a0a` |
| `bg-card` | `theme::bg::SURFACE` | `#1a1a1a` |
| `bg-muted` | `theme::bg::MUTED` | `#262626` |
| `text-foreground` | `theme::text::PRIMARY` | `#fafafa` |
| `text-muted-foreground` | `theme::text::MUTED` | `#a1a1a1` |
| `border-border` | `theme::border::DEFAULT` | `#404040` |
| `bg-primary` | `theme::accent::PRIMARY` | `#00a8ff` |

## Success Criteria

### Phase 1: Core Framework (Foundation)
- [ ] Create `crates/wgpui/` with core module structure
- [ ] Port `color.rs`, `geometry.rs` from archive
- [ ] Port `scene.rs` with Quad and TextRun primitives
- [ ] Port `renderer.rs` with wgpu pipelines
- [ ] Port `text.rs` with cosmic-text integration
- [ ] Port `layout.rs` with Taffy integration
- [ ] Port `platform/web.rs` for WASM target
- [ ] Port `theme.rs` with aligned tokens
- [ ] Add to workspace Cargo.toml
- [ ] Verify WASM build: `cargo build -p wgpui --target wasm32-unknown-unknown`
- [ ] Verify native build: `cargo build -p wgpui`

### Phase 2: Widget System
- [ ] Port `widget.rs` trait definition
- [ ] Port `context.rs` (PaintContext, EventContext)
- [ ] Port `div.rs` container widget
- [ ] Port `text.rs` text widget
- [ ] Port `button.rs` button widget
- [ ] Port `text_input.rs` input widget
- [ ] Port `scroll.rs` scroll container
- [ ] Port `list.rs` VirtualList for efficient scrolling
- [ ] Add hit testing support
- [ ] Add input event routing

### Phase 3: Atoms (ACP Parity)
- [ ] Implement `status_dot` - Status indicator with color states
- [ ] Implement `tool_icon` - Tool-specific icons
- [ ] Implement `mode_badge` - Mode indicator badge
- [ ] Implement `model_badge` - Model name badge
- [ ] Implement `streaming_indicator` - Streaming state animation
- [ ] Implement `thinking_toggle` - Expand/collapse thinking
- [ ] Implement `tool_status_badge` - Tool execution status
- [ ] Implement `permission_button` - Permission action buttons
- [ ] Implement `feedback_button` - Thumbs up/down
- [ ] Implement `keybinding_hint` - Keyboard shortcut display
- [ ] Implement `entry_marker` - Thread entry type marker
- [ ] Implement `checkpoint_badge` - Checkpoint indicator
- [ ] Implement `content_type_icon` - Content type icons

### Phase 4: Molecules
- [ ] Implement `message_header` - Message metadata row
- [ ] Implement `tool_header` - Tool call header
- [ ] Implement `terminal_header` - Terminal header with exit code
- [ ] Implement `diff_header` - Diff file header
- [ ] Implement `thinking_block` - Collapsible thinking display
- [ ] Implement `permission_bar` - Permission request bar
- [ ] Implement `mode_selector` - Mode dropdown
- [ ] Implement `model_selector` - Model dropdown
- [ ] Implement `entry_actions` - Entry action buttons
- [ ] Implement `checkpoint_restore` - Checkpoint restore UI

### Phase 5: Organisms
- [ ] Implement `user_message` - User message with avatar
- [ ] Implement `assistant_message` - Assistant message with streaming
- [ ] Implement `tool_call_card` - Generic tool call container
- [ ] Implement `terminal_tool_call` - Terminal with ANSI output
- [ ] Implement `diff_tool_call` - Diff viewer with syntax highlighting
- [ ] Implement `search_tool_call` - Search results display
- [ ] Implement `thread_entry` - Generic thread entry wrapper
- [ ] Implement `thread_controls` - Stop/interrupt controls
- [ ] Implement `permission_dialog` - Modal permission dialog

### Phase 6: Markdown & Streaming
- [ ] Port `markdown/parser.rs`
- [ ] Port `markdown/renderer.rs`
- [ ] Port `markdown/streaming.rs` with fade-in
- [ ] Port `markdown/highlighter.rs` with syntect
- [ ] Add code block language detection
- [ ] Add inline code styling
- [ ] Add blockquote styling
- [ ] Add list rendering (ordered/unordered)

### Phase 7: Sections (Surfaces)
- [ ] Implement `thread_view` - Full chat thread surface
- [ ] Implement `thread_header` - Thread title and controls
- [ ] Implement `thread_feedback` - Thread-level feedback UI
- [ ] Implement `message_editor` - Message input with toolbar

### Phase 8: HUD Components (Optional, from archive)
- [ ] Port `hud/frame/corners.rs` - Corner decorations
- [ ] Port `hud/frame/header.rs` - Sci-fi header frame
- [ ] Port `hud/indicator/status_light.rs` - Animated status
- [ ] Port `hud/indicator/meter.rs` - Progress meters
- [ ] Port `hud/background/grid_lines.rs` - Grid background
- [ ] Port `hud/nav/tabs.rs` - Animated tabs
- [ ] Port `hud/animator/` - Animation system

### Phase 9: Integration
- [ ] Add WGPUI canvas to webview (IPC bridge)
- [ ] Route WGPUI surfaces to canvas element
- [ ] Implement HTML ↔ WGPUI event bridge
- [ ] Add WGPUI asset serving from Actix
- [ ] Add WebSocket updates for WGPUI surfaces

### Phase 10: Testing & Documentation
- [ ] Unit tests for all primitives
- [ ] Visual regression tests via screenshot
- [ ] Performance benchmarks (render time, frame rate)
- [ ] API documentation for all public items
- [ ] Integration guide for embedding WGPUI surfaces
- [ ] Storybook entries for WGPUI components

## Key Files to Create

| File | Purpose |
|------|---------|
| `crates/wgpui/Cargo.toml` | Crate manifest with wgpu, cosmic-text deps |
| `crates/wgpui/src/lib.rs` | Public API exports |
| `crates/wgpui/src/core/*.rs` | Core primitives (color, geometry, scene) |
| `crates/wgpui/src/renderer/*.rs` | GPU rendering pipeline |
| `crates/wgpui/src/text/*.rs` | Text shaping and atlas |
| `crates/wgpui/src/layout/*.rs` | Taffy layout wrapper |
| `crates/wgpui/src/theme/*.rs` | Theme tokens |
| `crates/wgpui/src/platform/*.rs` | Web/desktop platform |
| `crates/wgpui/src/atoms/*.rs` | Atom components |
| `crates/wgpui/src/molecules/*.rs` | Molecule components |
| `crates/wgpui/src/organisms/*.rs` | Organism components |
| `crates/wgpui/src/sections/*.rs` | Section components |
| `crates/wgpui/src/widgets/*.rs` | Widget system |
| `Cargo.toml` (workspace) | Add wgpui to members |

## Dependencies

### External

```toml
[dependencies]
wgpu = "24"
bytemuck = { version = "1.19", features = ["derive"] }
cosmic-text = "0.12"
taffy = "0.6"
syntect = { version = "5", default-features = false }
pulldown-cmark = "0.12"

# Web platform
[target.'cfg(target_arch = "wasm32")'.dependencies]
wasm-bindgen = "0.2"
wasm-bindgen-futures = "0.4"
web-sys = { version = "0.3", features = ["Window", "Document", "HtmlCanvasElement", "ResizeObserver"] }
console_error_panic_hook = "0.1"

# Desktop platform
[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
winit = "0.30"
pollster = "0.4"
```

### Internal

- None initially (standalone crate)
- Later: `ui` (for shared types), `recorder` (for rlog types)

## Testing Strategy

1. **Unit Tests**: Core primitives (color conversion, geometry math)
2. **Widget Tests**: Layout behavior, event handling
3. **Visual Tests**: Screenshot comparison for component rendering
4. **Performance Tests**: Render time, frame rate under load
5. **WASM Tests**: Browser compatibility, canvas integration

## Issues to Create

| ID | Title | Priority | Phase |
|----|-------|----------|-------|
| wgpui-001 | Create wgpui crate skeleton with Cargo.toml | High | 1 |
| wgpui-002 | Port color.rs and geometry.rs primitives | High | 1 |
| wgpui-003 | Port scene.rs with Quad and TextRun | High | 1 |
| wgpui-004 | Port renderer.rs with wgpu pipelines | High | 1 |
| wgpui-005 | Port text.rs with cosmic-text integration | High | 1 |
| wgpui-006 | Port layout.rs with Taffy wrapper | High | 1 |
| wgpui-007 | Port platform/web.rs for WASM | High | 1 |
| wgpui-008 | Port theme.rs with aligned tokens | High | 1 |
| wgpui-009 | Port Widget trait and context types | High | 2 |
| wgpui-010 | Port Div container widget | Medium | 2 |
| wgpui-011 | Port Text widget | Medium | 2 |
| wgpui-012 | Port Button widget | Medium | 2 |
| wgpui-013 | Port TextInput widget | Medium | 2 |
| wgpui-014 | Port ScrollView with virtual scrolling | Medium | 2 |
| wgpui-015 | Port VirtualList for large lists | Medium | 2 |
| wgpui-016 | Implement status_dot atom | Medium | 3 |
| wgpui-017 | Implement tool_icon atom | Medium | 3 |
| wgpui-018 | Implement mode_badge atom | Medium | 3 |
| wgpui-019 | Implement model_badge atom | Medium | 3 |
| wgpui-020 | Implement streaming_indicator atom | Medium | 3 |
| wgpui-021 | Implement thinking_toggle atom | Medium | 3 |
| wgpui-022 | Implement tool_status_badge atom | Medium | 3 |
| wgpui-023 | Implement remaining atoms (6 total) | Medium | 3 |
| wgpui-024 | Implement message_header molecule | Medium | 4 |
| wgpui-025 | Implement tool_header molecule | Medium | 4 |
| wgpui-026 | Implement thinking_block molecule | Medium | 4 |
| wgpui-027 | Implement remaining molecules (7 total) | Medium | 4 |
| wgpui-028 | Implement user_message organism | Medium | 5 |
| wgpui-029 | Implement assistant_message organism | Medium | 5 |
| wgpui-030 | Implement tool_call_card organism | Medium | 5 |
| wgpui-031 | Implement terminal_tool_call organism | Medium | 5 |
| wgpui-032 | Implement diff_tool_call organism | Medium | 5 |
| wgpui-033 | Implement remaining organisms (4 total) | Medium | 5 |
| wgpui-034 | Port markdown parser | Medium | 6 |
| wgpui-035 | Port markdown renderer with syntax highlighting | Medium | 6 |
| wgpui-036 | Port streaming markdown with fade-in | Medium | 6 |
| wgpui-037 | Implement thread_view section | Medium | 7 |
| wgpui-038 | Implement message_editor section | Medium | 7 |
| wgpui-039 | Add WGPUI canvas to webview | Low | 9 |
| wgpui-040 | Implement HTML ↔ WGPUI event bridge | Low | 9 |
| wgpui-041 | Add Storybook entries for WGPUI components | Low | 10 |
| wgpui-042 | Performance benchmarks and optimization | Low | 10 |

## Notes

### Not Replacing, Augmenting

WGPUI is **not** replacing the HTML UI. The hybrid approach means:
- Forms, settings, navigation remain HTML (better accessibility, easier styling)
- Performance-critical surfaces (chat, terminal, diff) use WGPUI
- Both coexist in the same window via IPC bridge

### Porting Strategy

Components should be ported from the archive, not rewritten from scratch:
1. Copy file from archive to new location
2. Update imports to new module structure
3. Verify compilation
4. Add tests
5. Update to use new theme tokens if needed

### Theme Consistency

WGPUI components must match the visual style of HTML components:
- Same color values (just different format: CSS vs HSLA)
- Same spacing scale
- Same typography (Vera Mono)
- Same sharp corners (no border radius)

### Performance Targets

| Metric | Target |
|--------|--------|
| Frame rate | 60 fps sustained |
| Input latency | <16ms |
| Scroll smoothness | No jank at 10k items |
| Streaming render | Real-time at 100 tokens/sec |
| WASM size | <2MB gzipped |

## Related Directives

- **d-011** (Storybook) - WGPUI components need storybook coverage
- **d-017** (ACP Integration) - ACP events flow to WGPUI surfaces
- **d-009** (Autopilot GUI) - Chat surface uses WGPUI thread_view

## References

- [wgpu Documentation](https://docs.rs/wgpu)
- [cosmic-text](https://github.com/pop-os/cosmic-text)
- [Taffy Layout](https://github.com/DioxusLabs/taffy)
- [Arwes Sci-Fi UI](https://arwes.dev/)
- [Archived WGPUI Code](~/code/backroom/archive/openagents/wgpui/)
- [Zed ACP Implementation](~/code/zed/crates/agent_servers/)
