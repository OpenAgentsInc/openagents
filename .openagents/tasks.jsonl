{"id":"oa-281868","title":"Implement tasks CLI (tasks:init, tasks:list, tasks:ready)","description":"Create a CLI wrapper around TaskService/ProjectService for external agents.\n\nCommands to implement:\n- tasks:init - Initialize .openagents for a repo\n- tasks:list - List tasks with filters, output JSON\n- tasks:ready - List ready tasks (no open blockers)\n\nThe CLI should accept flags and output JSON for machine parsing.\nSee docs/mechacoder/TASK-SPEC.md for full spec.","status":"closed","priority":1,"type":"task","labels":["cli","task-system"],"deps":[],"commits":[],"createdAt":"2025-12-02T18:36:30.684Z","updatedAt":"2025-12-02T18:36:54.515Z","closedAt":"2025-12-02T18:36:54.515Z","closeReason":"Implemented tasks CLI with init, list, ready, next, create, update commands"}
{"id":"oa-ab3cfc","title":"Implement tasks CLI (tasks:next, tasks:create, tasks:update)","description":"Continue CLI implementation with remaining commands:\n\n- tasks:next - Atomically pick next ready task, mark in_progress, return it\n- tasks:create - Create new task from flags or JSON stdin\n- tasks:update - Update/close task from JSON stdin\n\nThese commands enable external agents (Claude Code, Codex) to interact with the task system.\nSee docs/mechacoder/TASK-SPEC.md for full spec.","status":"closed","priority":1,"type":"task","labels":["cli","task-system"],"deps":[],"commits":[],"createdAt":"2025-12-02T18:36:30.686Z","updatedAt":"2025-12-02T18:36:54.667Z","closedAt":"2025-12-02T18:36:54.667Z","closeReason":"Implemented tasks CLI with init, list, ready, next, create, update commands"}
{"id":"oa-a2d2a1","title":"Add package.json scripts for tasks CLI","description":"Add npm scripts to package.json for the tasks CLI:\n\n```json\n{\n  \"scripts\": {\n    \"tasks:init\": \"bun src/tasks/cli.ts init\",\n    \"tasks:list\": \"bun src/tasks/cli.ts list\",\n    \"tasks:ready\": \"bun src/tasks/cli.ts ready\",\n    \"tasks:next\": \"bun src/tasks/cli.ts next\",\n    \"tasks:create\": \"bun src/tasks/cli.ts create\",\n    \"tasks:update\": \"bun src/tasks/cli.ts update\"\n  }\n}\n```\n\nThis enables external agents to use `bun run tasks:*` commands.","status":"closed","priority":2,"type":"task","labels":["cli","task-system"],"deps":[],"commits":[],"createdAt":"2025-12-02T18:36:30.686Z","updatedAt":"2025-12-02T18:36:54.827Z","closedAt":"2025-12-02T18:36:54.827Z","closeReason":"Added package.json scripts for tasks CLI"}
{"id":"oa-ba2bbc","title":"Document task CLI usage in AGENTS.md","description":"Add a section to AGENTS.md explaining how to use the tasks CLI:\n\n- When to use CLI vs TaskService directly\n- Example commands for external agents\n- JSON input/output formats\n- Link to TASK-SPEC.md for full details","status":"closed","priority":2,"type":"task","labels":["docs","task-system"],"deps":[],"commits":[],"createdAt":"2025-12-02T18:36:30.687Z","updatedAt":"2025-12-02T18:36:55.023Z","closedAt":"2025-12-02T18:36:55.023Z","closeReason":"Documented task CLI usage in AGENTS.md"}
{"id":"oa-c9003e","title":"Add OPENAGENTS-TASKS-SPEC link to mechacoder README","description":"","status":"closed","priority":2,"type":"task","labels":["docs","mechacoder"],"deps":[],"commits":[],"createdAt":"2025-12-02T18:44:57.396Z","updatedAt":"2025-12-02T18:53:50.622Z","closedAt":"2025-12-02T18:53:50.622Z","closeReason":"Added TASK-SPEC.md link to mechacoder README"}
{"id":"oa-c9db6e","title":"Add example do-one-task usage to MECHACODER-OPS","description":"","status":"closed","priority":2,"type":"task","labels":["docs","mechacoder"],"deps":[],"commits":[],"createdAt":"2025-12-02T18:44:57.585Z","updatedAt":"2025-12-02T18:53:50.814Z","closedAt":"2025-12-02T18:53:50.814Z","closeReason":"Added do-one-task and overnight examples to MECHACODER-OPS quick reference"}
{"id":"oa-73016a","title":"Add minimal MechaCoder desktop demo task for Golden Loop v2","description":"Create a simple demo task that MechaCoder can complete to prove Golden Loop v2 works. This could be adding a trivial comment or updating a version string.","status":"closed","priority":1,"type":"task","labels":["golden-loop","demo"],"deps":[],"commits":["8b17612185f12efc664aea29f9d6a28fa08aa5fb"],"createdAt":"2025-12-02T18:44:57.770Z","updatedAt":"2025-12-02T18:50:09.431Z","closedAt":"2025-12-02T18:50:09.431Z","closeReason":"Golden Loop v2 demo completed - version bump in package.json and electrobun.config.ts"}
{"id":"oa-b78d3f","title":"HUD-1: Flow model types + sample data","description":"Define FlowNode/PositionedNode/Connection/Point and related types in src/flow/model.ts. Add src/flow/sample-data.ts with a MechaCoder factory tree matching docs/hud/flow.md (root -> MechaCoder -> repos -> tasks -> phases).","status":"closed","priority":1,"type":"task","labels":["hud","flow","model"],"deps":[],"commits":["35f8d4e5fd9c93902731fa6f8cf46bf2007ec117"],"createdAt":"2025-12-02T19:14:00.804Z","updatedAt":"2025-12-02T19:21:31.247Z","closedAt":"2025-12-02T19:21:31.247Z","closeReason":"Implemented Flow model types + sample data"}
{"id":"oa-138548","title":"HUD-2: Flow layout engine (calculateLayout)","description":"Implement src/flow/layout.ts with calculateLayout(LayoutInput): LayoutOutput. Use LayoutConfig + Direction, compute subtree sizes and positions, and produce nodes + connections. Fail-fast on missing sizes or invalid trees. Add unit tests for small sample trees.","status":"closed","priority":1,"type":"task","labels":["hud","flow","layout"],"deps":[],"commits":["29e84b304dd0f0eef1c09ce8089a8629262c2b08"],"createdAt":"2025-12-02T19:14:00.953Z","updatedAt":"2025-12-02T19:51:20.490Z","closedAt":"2025-12-02T19:51:20.490Z","closeReason":"Implemented Flow layout engine with calculateLayout function and 9 unit tests"}
{"id":"oa-91a779","title":"HUD-3: Flow connection path builder","description":"Implement src/flow/path.ts with buildRoundedPath(points, config) -> SVG path string. Detect corners and apply cornerRadius. Add tests with snapshot-style assertions for simple polylines.","status":"closed","priority":2,"type":"task","labels":["hud","flow","path"],"deps":[],"commits":["02ee7a5266619ecb62b8e4663222aa306164b89c"],"createdAt":"2025-12-02T19:14:01.109Z","updatedAt":"2025-12-02T20:19:05.676Z","closedAt":"2025-12-02T20:19:05.676Z","closeReason":"Implemented buildRoundedPath for SVG path generation with rounded corners"}
{"id":"oa-5fc569","title":"HUD-4: Canvas state reducer (pan/zoom)","description":"Implement src/flow/canvas.ts with CanvasState/CanvasEvent/CanvasConfig and reduceCanvasState. Support PAN_START/PAN_MOVE/PAN_END/ZOOM/RESET and basic inertial panning. Add tests for zoom-around-pointer and pan behavior.","status":"closed","priority":2,"type":"task","labels":["hud","flow","canvas"],"deps":[],"commits":["4b0b01261c57364603d8d84e0f1a3f30db023204"],"createdAt":"2025-12-02T19:14:01.266Z","updatedAt":"2025-12-02T20:56:46.789Z","closedAt":"2025-12-02T20:56:46.789Z","closeReason":"Implemented canvas reducer with pan/zoom/inertia"}
{"id":"oa-6ee331","title":"HUD-5: MechaCoder state to FlowNode tree","description":"Implement src/flow/mechacoder-map.ts. Define MechaCoderState (derived from .openagents/tasks.jsonl + recent run logs) and buildMechaCoderFlowTree(state): FlowNode. Add fixtures/tests that mirror the example tree in docs/hud/flow.md.","status":"closed","priority":2,"type":"task","labels":["hud","flow","mechacoder"],"deps":[],"commits":["c9294e6c44a1d55624e5575a32066c1cd6bbd4b8"],"createdAt":"2025-12-02T19:14:01.418Z","updatedAt":"2025-12-02T21:00:24.072Z","closedAt":"2025-12-02T21:00:24.072Z","closeReason":"Implemented MechaCoder state to FlowNode tree mapping"}
{"id":"oa-4e4f76","title":"HUD-6: Minimal SVG host renderer for Flow layout","description":"Implement src/flow-host-svg/render.ts that takes LayoutOutput + CanvasState and returns a minimal SVG representation (nodes as boxes, connections as paths). No React required; pure functions returning descriptor objects. Add example usage wired to sample-data.ts.","status":"closed","priority":3,"type":"task","labels":["hud","flow","host","svg"],"deps":[],"commits":["39a18b3e03138d5db4b05e5be9c040feafc9d730"],"createdAt":"2025-12-02T19:14:01.569Z","updatedAt":"2025-12-02T21:03:53.959Z","closedAt":"2025-12-02T21:03:53.959Z","closeReason":"Implemented minimal SVG host renderer"}
{"id":"oa-5b9b22","title":"HUD-docs: add Flow section link to README","description":"Update README.md to add a link to the HUD spec (docs/hud/flow.md) under a new 'HUD Flow Editor' section. Just add a one-line description and a link, nothing fancy.","status":"closed","priority":2,"type":"task","labels":["hud","docs"],"deps":[],"commits":[],"createdAt":"2025-12-02T20:06:04.357Z","updatedAt":"2025-12-02T20:19:05.830Z","closedAt":"2025-12-02T20:19:05.830Z","closeReason":"Superseded - used HUD-3 for testing instead"}
{"id":"oa-98ee2b","title":"HUD-7: Integrate flow HUD into Electrobun mainview","description":"Wire the flow HUD into the desktop app so it renders in the Electrobun mainview. Use the layout/path/canvas/mechacoder-map modules to render either sample-data.ts or the live MechaCoder state tree. Include a minimal SVG host view with pan/zoom and rounded connection paths, and a simple entry point in src/mainview that mounts the renderer and shows the HUD on app launch. Verify it runs under the dev build.","status":"closed","priority":2,"type":"feature","labels":["hud","ui","flow","electrobun"],"deps":[{"id":"oa-6ee331","type":"blocks"},{"id":"oa-4e4f76","type":"blocks"}],"commits":["f4e34d3826e516bef48fcff826e23b946cb0cb60"],"createdAt":"2025-12-02T21:01:38.081Z","updatedAt":"2025-12-02T21:09:52.236Z","closedAt":"2025-12-02T21:09:52.236Z","closeReason":"Integrated flow HUD into Electrobun mainview with pan/zoom"}
{"id":"oa-1a7f58","title":"HUD-8: MechaCoder state snapshot from .openagents","description":"Build a MechaCoder state loader that reads real project data (at least .openagents/tasks.jsonl and recent docs/logs run logs) and produces a MechaCoderState object usable by mechacoder-map/buildMechaCoderFlowTree. Include task status rollups, deps, and last-run info where available. Expose a function/service that returns the latest snapshot (poll or on-demand) for consumption by the HUD.","status":"closed","priority":1,"type":"feature","labels":["hud","flow","mechacoder","data"],"deps":[{"id":"oa-6ee331","type":"blocks"}],"commits":["8cb2bc78763fa3bfd1341dba7da5ebd30bb63af1"],"createdAt":"2025-12-02T21:02:03.082Z","updatedAt":"2025-12-02T23:24:23.214Z","closedAt":"2025-12-02T23:24:23.214Z","closeReason":"Added MechaCoder state snapshot loader for HUD"}
{"id":"oa-924781","title":"HUD-9: Live HUD data pipeline in Electrobun","description":"Plumb the MechaCoder state snapshot into the Electrobun mainview HUD so it reflects real data instead of sample trees. Wire the state loader (HUD-8) into the mainview integration (HUD-7), add polling or file-watch over .openagents/tasks.jsonl and docs/logs to refresh, and update the SVG host when state changes. Ensure it degrades gracefully if files are missing and verify the HUD shows current tasks/phases when running the app in dev mode.","status":"closed","priority":1,"type":"feature","labels":["hud","ui","flow","electrobun","mechacoder"],"deps":[{"id":"oa-98ee2b","type":"blocks"},{"id":"oa-1a7f58","type":"blocks"},{"id":"oa-6ee331","type":"blocks"},{"id":"oa-4e4f76","type":"blocks"}],"commits":["d6f6875c48ed9927e0d672f0268a17dd77468912"],"createdAt":"2025-12-02T21:02:09.498Z","updatedAt":"2025-12-02T23:29:36.678Z","closedAt":"2025-12-02T23:29:36.678Z","closeReason":"Live HUD uses MechaCoder state loader"}
{"id":"oa-b18af7","title":"HUD-7a: Polish flow HUD styling","description":"","status":"closed","priority":1,"type":"task","labels":["hud","styling"],"deps":[],"commits":["20eb54b06ad82cea9ae35af23be7da27d749fd06"],"createdAt":"2025-12-02T21:21:14.009Z","updatedAt":"2025-12-02T21:21:36.840Z","closedAt":"2025-12-02T21:21:36.840Z","closeReason":"Polished styling with Unkey-inspired theme"}
{"id":"oa-8052d4","title":"HUD-7b: Revamp flow node styling closer to Unkey","description":"Improve HUD node visuals to match Unkey’s flow editor: redesign node cards, connection styling, and backgrounds; add grid background similar to Unkey; reference external designs (unkey repo docs/flow-editor-architecture.md, flow-editor-summary.md, and oapreclean AgentNode component) and build updated look for nodes.","status":"closed","priority":1,"type":"task","labels":["hud","ui","styling"],"deps":[],"commits":[],"createdAt":"2025-12-02T21:27:34.422Z","updatedAt":"2025-12-02T21:32:53.844Z","closedAt":"2025-12-02T21:32:53.844Z","closeReason":"Revamped flow HUD nodes to Unkey-inspired cards with dotted grid background and updated styling"}
{"id":"oa-4a5050","title":"HUD-7c: Increase HUD spacing and disable text selection on pan","description":"Address layout overlap and text selection during canvas drag: increase layout spacing/padding so nodes are not stacked, and ensure dragging the canvas does not select node text.","status":"closed","priority":1,"type":"task","labels":["hud","ui","styling"],"deps":[],"commits":[],"createdAt":"2025-12-02T21:36:36.564Z","updatedAt":"2025-12-02T22:21:31.279Z","closedAt":"2025-12-02T22:21:31.279Z","closeReason":"Reduced padding to 12 and enlarged root node to avoid negative content; spacing 220 preserved"}
{"id":"oa-d0a323","title":"Validate .openagents task system and close openagents-5bb","description":"Verify the .openagents task substrate matches the spec: inspect TaskService/ProjectService/ID/Init/BeadsConverter, run bun test, and smoke-test the init CLI in a throwaway directory. Optionally exercise the beads converter against .beads/issues.jsonl. If everything matches NEXT-INSTRUCTIONS, document the checks in logs and close the legacy openagents-5bb epic without changing schema.","status":"closed","priority":1,"type":"task","labels":["task-system","mechacoder","golden-loop","ops"],"deps":[],"commits":["c275c43028c35ff9441de7cbd5d651812b6b56e7"],"createdAt":"2025-12-02T23:17:36.147Z","updatedAt":"2025-12-02T23:31:33.710Z","closedAt":"2025-12-02T23:31:33.710Z","closeReason":"Verified .openagents task system, init CLI smoke test, tests green"}
{"id":"oa-721753","title":"openagents-42j: Autonomous coding agent infrastructure","description":"Migrate the openagents-42j bead plan into .openagents tasks. Deliver the Golden Loop-friendly sequencing from NEXT-INSTRUCTIONS: core tools (grep/find/ls), tool schema/provider abstraction, provider adapters (Anthropic/OpenAI/Gemini), streaming partial tool args, token/cost accounting, and cleanup/type-fix tasks. Maintain the no-questions-asked workflow and keep tests green.","status":"closed","priority":1,"type":"epic","labels":["openagents-42j","mechacoder","golden-loop","infra","tools","llm"],"deps":[{"id":"oa-d0a323","type":"blocks"}],"commits":["1b6f578e865c2d4a6508a32f88f89c193cf70c47"],"createdAt":"2025-12-02T23:17:41.209Z","updatedAt":"2025-12-02T23:34:09.323Z","closedAt":"2025-12-02T23:34:09.323Z","closeReason":"openagents-42j bead plan migrated into .openagents tasks; sequencing captured"}
{"id":"oa-0a46dd","title":"openagents-42j.4: audit/port grep tool to Effect","description":"Ensure the grep tool matches the 42j.4 plan: Effect-based implementation, robust error handling, and tests similar to read/edit/write tools. Verify existing code against NEXT-INSTRUCTIONS, add coverage or fixes if needed, and close as done if already clean.","status":"open","priority":3,"type":"task","labels":["openagents-42j","tools","search","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:17:55.115Z","updatedAt":"2025-12-02T23:17:55.115Z","closedAt":null}
{"id":"oa-3fdf42","title":"openagents-42j.5: audit/port find tool to Effect","description":"Verify the find tool from 42j.5 is implemented with Effect patterns, recursive file discovery, limits, and solid tests. Bring it to parity with NEXT-INSTRUCTIONS and close as completed/no-op if already correct.","status":"open","priority":3,"type":"task","labels":["openagents-42j","tools","filesystem","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:00.479Z","updatedAt":"2025-12-02T23:18:00.479Z","closedAt":null}
{"id":"oa-3e4265","title":"HUD-7d: Improve stacked node readability","description":"Improve readability when multiple nodes stack vertically (agent->repo->tasks) by adjusting renderer/layout: avoid text overlap, add per-level spacing rules or alternating alignment, and ensure connections don’t obscure labels. Investigate vertical stack readability in current HUD view (agent/repos/tasks tree) and propose/layout fixes.","status":"closed","priority":1,"type":"task","labels":["hud","ui","layout"],"deps":[],"commits":["86f832c4a6d451144af80a2d1a0418a92f220afa"],"createdAt":"2025-12-02T23:18:05.293Z","updatedAt":"2025-12-02T23:35:50.018Z","closedAt":"2025-12-02T23:35:50.018Z","closeReason":"Increased HUD spacing to avoid stacked node overlap"}
{"id":"oa-b9c06b","title":"openagents-42j.6: audit/port ls tool to Effect","description":"Confirm the ls tool meets 42j.6 expectations: directory listing with recursion/hidden toggles, Effect error handling, and tests aligned with read/write/grep patterns. Patch gaps if any and close if already satisfied.","status":"open","priority":3,"type":"task","labels":["openagents-42j","tools","filesystem","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:06.852Z","updatedAt":"2025-12-02T23:18:06.852Z","closedAt":null}
{"id":"oa-9fe048","title":"openagents-42j.15: convert tool schemas to Effect Schema","description":"Replace or bridge legacy tool schemas with effect/Schema definitions across the tool surface per NEXT-INSTRUCTIONS. Align with TaskService schema patterns, keep type safety for partial args/streaming, and add/adjust tests to cover conversions.","status":"closed","priority":2,"type":"task","labels":["openagents-42j","schema","tools","effect","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":["096a4ed76a36523657bdca60cf99f8e22ae30433"],"createdAt":"2025-12-02T23:18:11.627Z","updatedAt":"2025-12-02T23:41:02.270Z","closedAt":"2025-12-02T23:41:02.270Z","closeReason":"Tool schemas already use effect/Schema with coverage; no changes needed"}
{"id":"oa-a930db","title":"openagents-42j.11: unify LLM provider abstraction","description":"Implement or validate a unified chat/tool provider interface that Anthropic/OpenAI/Gemini adapters plug into, per NEXT-INSTRUCTIONS. Ensure provider tests exist, mappings stay type-safe, and downstream agent code uses the abstraction.","status":"closed","priority":2,"type":"task","labels":["openagents-42j","llm","infrastructure","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":["8ade0fcf6ef58236e07b46a7bcc5a70c6665fdf9"],"createdAt":"2025-12-02T23:18:16.483Z","updatedAt":"2025-12-02T23:42:22.894Z","closedAt":"2025-12-02T23:42:22.894Z","closeReason":"Unified ChatProvider abstraction already implemented and tested; no changes needed"}
{"id":"oa-9c7437","title":"openagents-42j.8: add Anthropic provider","description":"Add or validate Anthropic chat/tool provider support behind the unified abstraction: model/config wiring, tool schema conversion, streaming handling, and tests. Document any required secrets and ensure Golden Loop safety (no push on failing tests).","status":"closed","priority":2,"type":"feature","labels":["openagents-42j","llm","anthropic","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":["5d61e81d610ba4af08948ea2d7c14e5f9adebfa5"],"createdAt":"2025-12-02T23:18:21.112Z","updatedAt":"2025-12-02T23:43:56.801Z","closedAt":"2025-12-02T23:43:56.801Z","closeReason":"Anthropic provider layer already present; provider abstraction and tests cover unified chat"}
{"id":"oa-4bf1ff","title":"openagents-42j.9: add OpenAI provider","description":"Implement or confirm OpenAI chat/tool adapter behind the unified provider abstraction: tool/function mapping, streaming, config, and tests. Ensure compatibility with partial tool args and token accounting where applicable.","status":"closed","priority":2,"type":"feature","labels":["openagents-42j","llm","openai","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":["7ab5c1ba9eac566f35f2a390da98bd77e5a32cf4","4b226f28226f2697c41c51e75561a7f1fcb35f9c"],"createdAt":"2025-12-02T23:18:25.540Z","updatedAt":"2025-12-02T23:48:15.936Z","closedAt":"2025-12-02T23:48:15.936Z","closeReason":"OpenAI provider already implemented with unified abstraction and tests"}
{"id":"oa-7105ab","title":"openagents-42j.10: add Google Gemini provider","description":"Add or verify Gemini tool/call adapter behind the unified provider abstraction: functionDeclaration mapping, safety configs, streaming behavior, and tests mirroring OpenAI/Anthropic flows.","status":"open","priority":3,"type":"feature","labels":["openagents-42j","llm","gemini","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:30.067Z","updatedAt":"2025-12-02T23:18:30.067Z","closedAt":null}
{"id":"oa-db1aee","title":"openagents-42j.12: streaming with partial tool args","description":"Implement or validate partial tool-argument streaming so LLM providers can stream function args safely. Ensure Effect Schema-backed parser, provider wiring, and tests cover chunked JSON behavior per NEXT-INSTRUCTIONS.","status":"open","priority":2,"type":"task","labels":["openagents-42j","llm","streaming","tools","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:35.092Z","updatedAt":"2025-12-02T23:18:35.092Z","closedAt":null}
{"id":"oa-a335c6","title":"openagents-42j.13: token and cost accounting","description":"Implement or confirm token/cost accounting for streamed and non-streamed responses across providers, per NEXT-INSTRUCTIONS. Provide tests that exercise usage parsing and edge cases (missing usage).","status":"open","priority":3,"type":"task","labels":["openagents-42j","llm","accounting","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:39.694Z","updatedAt":"2025-12-02T23:18:39.694Z","closedAt":null}
{"id":"oa-a0defb","title":"openagents-42j.16: tool test file type fixes (audit/close)","description":"Audit tool test files for the legacy type errors noted in 42j.16. If already resolved, close as no-op with notes; otherwise fix the typings and keep tests green.","status":"open","priority":3,"type":"chore","labels":["openagents-42j","types","tools","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:44.578Z","updatedAt":"2025-12-02T23:18:44.578Z","closedAt":null}
{"id":"oa-b28f94","title":"openagents-42j.17: cli.ts type fixes (audit/close)","description":"Check the CLI entrypoint noted in 42j.17 for type errors; if already clean, close as no-op with evidence. Otherwise fix typings/tests without regressing behavior.","status":"open","priority":3,"type":"chore","labels":["openagents-42j","types","cli","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:49.216Z","updatedAt":"2025-12-02T23:18:49.216Z","closedAt":null}
{"id":"oa-a29f81","title":"openagents-42j.18: openrouter-edit-demo.ts type fixes (audit/close)","description":"Review openrouter-edit-demo.ts for the legacy type errors referenced in 42j.18. If already fixed, close as no-op with notes; otherwise clean up typings/tests while keeping behavior intact.","status":"open","priority":4,"type":"chore","labels":["openagents-42j","types","demo","mechacoder"],"deps":[{"id":"oa-d0a323","type":"blocks"},{"id":"oa-721753","type":"related"}],"commits":[],"createdAt":"2025-12-02T23:18:54.291Z","updatedAt":"2025-12-02T23:18:54.291Z","closedAt":null}
{"id":"oa-2bef3e","title":"Enhance run logs to capture full agent I/O","description":"The current run logs (e.g., .openagents/run-logs/20251202/run-20251202-204743-cfww.jsonl) only show minimal event stubs (tool names, argsPreview, ok flags). Add a richer run log pipeline that captures full agent I/O: full prompts/llm responses, complete tool inputs/outputs, streamed chunks, reasoning/final messages, and relevant config/session metadata for each turn. Ensure sensitive data handling is considered (mask secrets as needed) while preserving high-fidelity replay/debug capability. Apply to the run-logs written under .openagents/run-logs/*.jsonl and update any viewers/tests accordingly.","status":"closed","priority":1,"type":"feature","labels":["logging","mechacoder","run-logs","observability"],"deps":[],"commits":["7e4fa2a0ee969f1571155077352fb20e361accf9"],"createdAt":"2025-12-02T23:19:47.511Z","updatedAt":"2025-12-02T23:39:26.601Z","closedAt":"2025-12-02T23:39:26.601Z","closeReason":"Enhanced run-logs with full I/O events and sanitization"}
{"id":"oa-9fc3b4","title":"Add agentLoop Effect tests and verification coverage","description":"Create focused Effect-based tests for src/agent/loop.ts to cover core behaviors: event emission (turn_start/llm_request/llm_response/tool_call/tool_result/edit_detected), tool execution and argument parsing errors, verification state transitions (dirtySinceVerify, typecheckOk/testsOk on bash outputs), and maxTurns/no-response error paths. Use mocked OpenRouterClient responses and stub tools to avoid network. Ensure the tests are deterministic and runnable via bun test.","status":"closed","priority":1,"type":"task","labels":["tests","agent","effect","mechacoder"],"deps":[],"commits":["b4df440c7182a1d91d4511884d28e5c2382e5664"],"createdAt":"2025-12-02T23:45:58.706Z","updatedAt":"2025-12-02T23:49:23.570Z","closedAt":"2025-12-02T23:49:23.570Z","closeReason":"Added agentLoop tests covering events, tool errors, verification state"}
{"id":"oa-5df2a2","title":"Add CLI integration tests for tasks/tools/agent entrypoints","description":"Increase testability of our CLIs by adding bun test coverage for src/tasks/cli.ts, src/tools/cli.ts, and agent wrappers (do-one-task.ts/overnight.ts/run.ts). Use temporary fixture repos with .openagents to verify parsing, JSON output, status transitions (next/create/update), and basic tool invocations. Mock OpenRouterClient/FS where needed to avoid network and git side effects.","status":"open","priority":2,"type":"task","labels":["tests","cli","mechacoder","task-system"],"deps":[],"commits":[],"createdAt":"2025-12-02T23:46:03.420Z","updatedAt":"2025-12-02T23:46:03.420Z","closedAt":null}
{"id":"oa-b017a3","title":"Add LLM provider test coverage (Anthropic/OpenRouter client)","description":"Add Effect-based tests for src/llm/anthropic.ts and src/llm/openrouter.ts to validate request construction, tool/function mapping, streaming chunk handling, and error surfaces without real network calls. Include fixtures for tool schemas and ensure token usage metadata is propagated for accounting. Mirror existing OpenAI/Gemini tests for consistency.","status":"open","priority":2,"type":"task","labels":["tests","llm","mechacoder","anthropic","openrouter"],"deps":[],"commits":[],"createdAt":"2025-12-02T23:46:07.672Z","updatedAt":"2025-12-02T23:46:07.672Z","closedAt":null}
