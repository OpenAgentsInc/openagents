<div class="layout-wrapper">
  <!-- Sidebar Toggle (Always Visible) -->
  <button class="sidebar-toggle-fixed" onclick="document.getElementById('sidebar').classList.toggle('sidebar-closed'); document.querySelector('.main-content').classList.toggle('sidebar-collapsed'); document.querySelector('.input-area').classList.toggle('sidebar-collapsed-input')" data-sidebar="trigger">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left">
      <rect width="18" height="18" x="3" y="3" rx="2"></rect>
      <path d="M9 3v18"></path>
    </svg>
    <span class="sr-only">Toggle Sidebar</span>
  </button>
  
  <!-- Sidebar -->
  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
      <!-- Sidebar Header -->
      <div class="sidebar-header">
        <div class="header-top">
          <a href="/" class="logo">
            <span class="logo-text">OpenAgents</span>
          </a>
        </div>
        <div class="new-chat-wrapper">
          <button onclick="window.location.href='/'" class="new-chat-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            <span>New chat</span>
          </button>
        </div>
        <div class="search-wrapper">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="search-icon">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.3-4.3"></path>
          </svg>
          <input type="text" placeholder="Search" class="search-input" />
        </div>
      </div>
      
      <!-- Sidebar Content -->
      <div class="sidebar-content">
        <!-- Thread list will be populated dynamically -->
        <div id="thread-list-container">
          <!-- Thread groups will be inserted here -->
        </div>
      </div>
      
      <!-- Sidebar Footer -->
      <div class="sidebar-footer">
        <nav class="footer-nav">
          <a href="/store" class="footer-link">
            <span>Agent Store</span>
            <span class="badge">Beta</span>
          </a>
          <a href="/agents" class="footer-link">My Agents</a>
          <a href="/settings" class="footer-link">Settings</a>
          <a href="/import" class="footer-link">Import</a>
          <div class="footer-divider"></div>
          <a href="/blog" class="footer-link">Blog</a>
          <a href="https://openagents.com/docs" class="footer-link">
            <span>Docs</span>
          </a>
          <a href="https://stacker.news/~openagents" target="_blank" class="footer-link">
            <span>Community</span>
            <svg class="external-link" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
              <polyline points="15 3 21 3 21 9"></polyline>
              <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
          </a>
          <a href="https://github.com/OpenAgentsInc/openagents" target="_blank" class="footer-link">
            <span>Source code</span>
            <svg class="external-link" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
              <polyline points="15 3 21 3 21 9"></polyline>
              <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
          </a>
          <div class="footer-bottom">
            <a href="/terms">Terms</a>
            <span>Â·</span>
            <a href="/privacy">Privacy</a>
          </div>
        </nav>
      </div>
    </div>
  </aside>
  
  <!-- Main Content -->
  <main class="main-content">
    <!-- Messages Area -->
    <div id="messages-container" class="messages-container">
      <div class="messages-inner">
        <!-- Messages will be dynamically added here -->
      </div>
    </div>
    
    <!-- Input Area -->
    <div class="input-area">
      <div class="input-wrapper">
        <div class="input-container">
          <div class="input-gradient-wrapper">
            <form class="chat-form">
              <div class="input-content">
                <div class="input-row">
                  <textarea 
                    id="chat-input"
                    name="input" 
                    placeholder="Message OpenAgents..." 
                    class="chat-input" 
                    rows="1"
                    autocomplete="off"
                    autofocus
                  ></textarea>
                </div>
                <div class="input-actions">
                  <div class="left-actions">
                    <div class="model-selector-container">
                      <button id="model-selector-button" type="button" class="model-selector-button" onclick="toggleModelDropdown()">
                        <span id="selected-model-name">Llama 4 Scout 17B</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="m6 9 6 6 6-6"></path>
                        </svg>
                      </button>
                      <div id="model-selector-dropdown" class="model-selector-dropdown">
                        <!-- Model options will be populated dynamically -->
                      </div>
                    </div>
                    <button type="button" class="search-button" title="Web search (Pro feature)" disabled>
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path>
                        <path d="M2 12h20"></path>
                      </svg>
                      <span>Search</span>
                    </button>
                    <button type="button" class="attach-button" title="Attach files (Pro feature)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13.234 20.252 21 12.3"></path>
                        <path d="m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486"></path>
                      </svg>
                    </button>
                  </div>
                  <div class="right-actions">
                    <button id="submit-button" type="submit" class="submit-button" disabled>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m5 12 7-7 7 7"></path>
                        <path d="M12 19V5"></path>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>