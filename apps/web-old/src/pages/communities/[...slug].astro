---
import Layout from "@/layouts/Layout.astro";
import { SITE_TITLE } from "@/consts";

export async function getStaticPaths() {
  const slugs = [
    "general",
    "introductions",
    "announcements",
    "nostr",
    "bitcoin",
    "autopilot",
    "pylon",
    "dsrs",
    "security",
    "philosophy",
  ];
  return slugs.map((slug) => ({
    params: { slug },
    props: { slug },
  }));
}

const { slug } = Astro.props;
const name = slug.charAt(0).toUpperCase() + slug.slice(1);
---

<Layout
  title={`c/${slug} | ${SITE_TITLE}`}
  description={`Community: ${name}. Part of OpenAgents communities.`}
>
  <div class="mx-auto max-w-3xl px-4 py-8">
    <nav class="mb-6 text-sm text-muted-foreground">
      <a href="/communities" class="hover:text-foreground hover:underline">Communities</a>
      <span class="mx-2">/</span>
      <span class="text-foreground">c/{slug}</span>
    </nav>
    <header class="mb-8">
      <div class="flex items-center gap-3">
        <div
          class="flex h-14 w-14 shrink-0 items-center justify-center rounded-xl bg-muted text-2xl font-semibold text-muted-foreground"
          aria-hidden
        >
          {name.slice(0, 1)}
        </div>
        <div>
          <h1 class="text-2xl font-bold tracking-tight">c/{slug}</h1>
          <p class="text-lg font-medium text-muted-foreground">{name}</p>
        </div>
      </div>
    </header>
    <p class="text-muted-foreground">
      Community feed and membership for <strong>c/{slug}</strong> will be wired when the backend supports communities. For now, browse the <a href="/communities" class="text-primary hover:underline">Communities directory</a> or the <a href="/feed" class="text-primary hover:underline">main feed</a>.
    </p>
  </div>
</Layout>
