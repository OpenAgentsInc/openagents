/**
 * Cloudflare Workers config for apps/web.
 * Custom domain openagents.com: add in Dashboard → Workers & Pages → openagents-web-app → Settings → Domains & routes
 * (remove openagents.com from the old "web" worker first, then add route for openagents.com/* to this worker).
 * https://developers.cloudflare.com/workers/wrangler/configuration/
 */
{
	"$schema": "node_modules/wrangler/config-schema.json",
	"name": "openagents-web-app",
	"compatibility_date": "2025-09-02",
	"compatibility_flags": ["nodejs_compat"],
	"main": "@tanstack/react-start/server-entry",
	"observability": {
		"enabled": true
	},
	"vars": {
		"WORKOS_REDIRECT_URI": "https://openagents.com/callback",
		"OA_ADMIN_EMAILS": "chris@openagents.com"
	}
	// Set secrets for production:
	// - wrangler secret put WORKOS_CLIENT_ID
	// - wrangler secret put WORKOS_API_KEY
	// - wrangler secret put WORKOS_COOKIE_PASSWORD
	// Managed OpenClaw (chat tools):
	// - wrangler secret put OA_INTERNAL_KEY   # used to call /api/openclaw/* (beta internal auth)
	// - wrangler secret put PUBLIC_API_URL    # OpenClaw API base (e.g. https://openagents.com/api)
}
