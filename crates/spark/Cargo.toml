[package]
name = "openagents-spark"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
description = "Spark Bitcoin payment integration for OpenAgents"

[lints]
workspace = true

[lib]
path = "src/lib.rs"

[dependencies]
# BIP39 mnemonic handling (same as nostr crate)
bip39 = "2.2.0"

# BIP32 derivation and secp256k1 (same as nostr crate)
bitcoin = { version = "0.32.6", features = ["serde"] }

# Error handling
thiserror.workspace = true

# Async trait helpers (wasm storage)
async-trait.workspace = true

# Hex encoding
hex.workspace = true

# Serialization
serde.workspace = true
serde_json.workspace = true

# Directory utilities
dirs = "6.0.0"

# Breez SDK Spark - local path from spark-sdk
breez-sdk-spark = { path = "../../../spark-sdk/crates/breez-sdk/core" }

# Async runtime (non-wasm only)
[target.'cfg(not(all(target_family = "wasm", target_os = "unknown")))'.dependencies]
tokio = { version = "1", default-features = false, features = ["time"] }

[dev-dependencies]
tokio = { workspace = true, features = ["macros", "rt"] }
testing = { path = "../testing" }
