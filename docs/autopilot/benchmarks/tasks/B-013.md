# B-013: Cross-File Consistency

## Description
Tests the agent's ability to maintain consistency across multiple files when making a change that affects multiple locations.

## Category
consistency

## Difficulty
Advanced

## Setup
Creates a mock TypeScript/JavaScript project structure:
- `types.ts`: Type definitions for UserData interface
- `api.ts`: API functions using UserData
- `utils.ts`: Utility functions using UserData
- `tests.ts`: Test file with UserData references

All files reference a field `userName` which needs to be renamed to `username` (lowercase 'n').

## Task Prompt
```
Rename the field 'userName' to 'username' across all TypeScript files to follow naming conventions. Make sure to update all references including type definitions, usages, and tests.
```

## Validation Criteria
1. All 4 files must be updated
2. No occurrences of 'userName' should remain in any .ts file
3. Each file should have correct number of 'username' occurrences:
   - types.ts: 1 occurrence
   - api.ts: 2 occurrences
   - utils.ts: 1 occurrence
   - tests.ts: 3 occurrences

## Success Metrics
- Execution time < 60 seconds (typical)
- All references found via code search
- Consistent renaming across all files

## Common Failures
- Missing one or more files during update
- Inconsistent casing (Username, username, user_name)
- Breaking test assertions by not updating expected values
- Partial updates (updating types but not usages)

## Custom Metrics
- `files_modified`: Number of files that were changed (should be 4)
- `remaining_old_references`: Count of 'userName' still in codebase (should be 0)

## Skills Tested
- Multi-file code search (grep/ripgrep)
- Understanding code context and relationships
- Maintaining consistency across related files
- Comprehensive validation

## Notes
This benchmark is particularly challenging because it requires:
1. Finding all references across multiple files
2. Understanding that comments and tests also need updates
3. Verifying completeness of the change

Real-world equivalent: Refactoring field names for consistency with a style guide.
