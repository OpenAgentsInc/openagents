{
  "name": "fm-mini-suite",
  "version": "1.0.0",
  "description": "FM regression test suite - exercises write_file, read_file, run_command, edit_file",
  "tasks": [
    {
      "id": "fm-hello-world",
      "name": "Hello World",
      "description": "Create a file called hello.txt with \"Hello, world!\" as the content.",
      "difficulty": "easy",
      "category": "implementation",
      "verification": {
        "type": "custom",
        "script": "test -f hello.txt && grep -q 'Hello, world!' hello.txt"
      },
      "timeout_seconds": 120,
      "max_turns": 50,
      "tags": ["write_file", "basic"]
    },
    {
      "id": "fm-read-and-echo",
      "name": "Read and Echo",
      "description": "There is a file called source.txt in the current directory. Read its contents and create a new file called echo.txt with the exact same content.",
      "difficulty": "easy",
      "category": "implementation",
      "setup": [
        "printf 'This is the source content.\\nIt has multiple lines.\\nPlease copy it exactly.' > source.txt"
      ],
      "verification": {
        "type": "custom",
        "script": "test -f echo.txt && diff -q source.txt echo.txt"
      },
      "timeout_seconds": 120,
      "max_turns": 50,
      "tags": ["read_file", "write_file"]
    },
    {
      "id": "fm-append-to-file",
      "name": "Append to File",
      "description": "There is a file called log.txt with some content. Append the text \"[DONE]\" on a new line at the end of the file.",
      "difficulty": "easy",
      "category": "implementation",
      "setup": [
        "printf 'Task started.\\nProcessing...\\n' > log.txt"
      ],
      "verification": {
        "type": "custom",
        "script": "test -f log.txt && grep -q '\\[DONE\\]' log.txt && tail -1 log.txt | grep -q '\\[DONE\\]'"
      },
      "timeout_seconds": 120,
      "max_turns": 50,
      "tags": ["read_file", "write_file", "append"]
    },
    {
      "id": "fm-list-directory",
      "name": "List Directory",
      "description": "Use a command to list the files in the current directory and save the output to a file called listing.txt",
      "difficulty": "easy",
      "category": "implementation",
      "setup": [
        "echo 'content1' > file1.txt",
        "echo 'content2' > file2.txt",
        "echo '{}' > data.json"
      ],
      "verification": {
        "type": "custom",
        "script": "test -f listing.txt && grep -q 'file1.txt' listing.txt && grep -q 'file2.txt' listing.txt"
      },
      "timeout_seconds": 120,
      "max_turns": 50,
      "tags": ["run_command", "write_file"]
    },
    {
      "id": "fm-create-and-run",
      "name": "Create and Run Script",
      "description": "Create a bash script called greet.sh that prints \"Hello from script!\" when executed. Then run the script and save its output to result.txt",
      "difficulty": "medium",
      "category": "implementation",
      "verification": {
        "type": "custom",
        "script": "test -f greet.sh && test -f result.txt && grep -q 'Hello from script!' result.txt"
      },
      "timeout_seconds": 180,
      "max_turns": 75,
      "tags": ["write_file", "run_command", "scripting"]
    },
    {
      "id": "fm-simple-edit",
      "name": "Simple Edit",
      "description": "There is a file called config.txt that contains 'DEBUG=false'. Change it to 'DEBUG=true'.",
      "difficulty": "easy",
      "category": "implementation",
      "setup": [
        "printf '# Configuration\\nDEBUG=false\\nVERBOSE=true\\n' > config.txt"
      ],
      "verification": {
        "type": "custom",
        "script": "test -f config.txt && grep -q 'DEBUG=true' config.txt && grep -q 'VERBOSE=true' config.txt"
      },
      "timeout_seconds": 120,
      "max_turns": 50,
      "tags": ["edit_file", "read_file"]
    },
    {
      "id": "fm-word-count",
      "name": "Word Count",
      "description": "Count the number of words in document.txt and write ONLY the number to count.txt",
      "difficulty": "easy",
      "category": "implementation",
      "setup": [
        "echo 'The quick brown fox jumps over the lazy dog.' > document.txt"
      ],
      "verification": {
        "type": "custom",
        "script": "test -f count.txt && grep -q '9' count.txt"
      },
      "timeout_seconds": 120,
      "max_turns": 50,
      "tags": ["run_command", "read_file", "write_file"]
    }
  ]
}
