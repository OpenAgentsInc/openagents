{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.hydrateProjects = hydrateProjects;\n  exports.listProjects = listProjects;\n  exports.getProject = getProject;\n  exports.getActiveProject = getActiveProject;\n  exports.setActiveProject = setActiveProject;\n  exports.upsertProject = upsertProject;\n  exports.removeProject = removeProject;\n  exports.mergeProjectTodos = mergeProjectTodos;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var KEY = '@openagents/projects-v1';\n  var ACTIVE_KEY = '@openagents/projects-active-v1';\n  var mem = {};\n  var activeId = null;\n  function hydrateProjects() {\n    return _hydrateProjects.apply(this, arguments);\n  }\n  function _hydrateProjects() {\n    _hydrateProjects = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var raw = yield AsyncStorage.default.getItem(KEY);\n        mem = raw ? JSON.parse(raw) : {};\n        activeId = yield AsyncStorage.default.getItem(ACTIVE_KEY);\n      } catch {\n        mem = {};\n        activeId = null;\n      }\n    });\n    return _hydrateProjects.apply(this, arguments);\n  }\n  function persist() {\n    return _persist.apply(this, arguments);\n  }\n  function _persist() {\n    _persist = (0, _asyncToGenerator.default)(function* () {\n      try {\n        yield AsyncStorage.default.setItem(KEY, JSON.stringify(mem));\n      } catch {}\n    });\n    return _persist.apply(this, arguments);\n  }\n  function persistActive() {\n    return _persistActive.apply(this, arguments);\n  }\n  function _persistActive() {\n    _persistActive = (0, _asyncToGenerator.default)(function* () {\n      try {\n        if (activeId) yield AsyncStorage.default.setItem(ACTIVE_KEY, activeId);else yield AsyncStorage.default.removeItem(ACTIVE_KEY);\n      } catch {}\n    });\n    return _persistActive.apply(this, arguments);\n  }\n  function listProjects() {\n    return Object.values(mem).sort((a, b) => a.name.localeCompare(b.name));\n  }\n  function getProject(id) {\n    return mem[id];\n  }\n  function getActiveProject() {\n    return activeId ? mem[activeId] : undefined;\n  }\n  function setActiveProject(_x) {\n    return _setActiveProject.apply(this, arguments);\n  }\n  function _setActiveProject() {\n    _setActiveProject = (0, _asyncToGenerator.default)(function* (id) {\n      activeId = id;\n      yield persistActive();\n    });\n    return _setActiveProject.apply(this, arguments);\n  }\n  function upsertProject(_x2) {\n    return _upsertProject.apply(this, arguments);\n  }\n  function _upsertProject() {\n    _upsertProject = (0, _asyncToGenerator.default)(function* (p) {\n      mem[p.id] = {\n        ...p,\n        updatedAt: Date.now(),\n        createdAt: p.createdAt ?? Date.now()\n      };\n      yield persist();\n    });\n    return _upsertProject.apply(this, arguments);\n  }\n  function removeProject(_x3) {\n    return _removeProject.apply(this, arguments);\n  }\n  function _removeProject() {\n    _removeProject = (0, _asyncToGenerator.default)(function* (id) {\n      delete mem[id];\n      if (activeId === id) {\n        activeId = null;\n        yield persistActive();\n      }\n      yield persist();\n    });\n    return _removeProject.apply(this, arguments);\n  }\n  function mergeProjectTodos(_x4, _x5) {\n    return _mergeProjectTodos.apply(this, arguments);\n  }\n  function _mergeProjectTodos() {\n    _mergeProjectTodos = (0, _asyncToGenerator.default)(function* (projectId, todos) {\n      var p = mem[projectId];\n      if (!p) return;\n      p.todos = todos;\n      p.attentionCount = todos.filter(t => !t.completed).length;\n      p.updatedAt = Date.now();\n      yield persist();\n    });\n    return _mergeProjectTodos.apply(this, arguments);\n  }\n});","lineCount":127,"map":[[12,2,42,0,"exports"],[12,9,42,0],[12,10,42,0,"hydrateProjects"],[12,25,42,0],[12,28,42,0,"hydrateProjects"],[12,43,42,0],[13,2,64,0,"exports"],[13,9,64,0],[13,10,64,0,"listProjects"],[13,22,64,0],[13,25,64,0,"listProjects"],[13,37,64,0],[14,2,68,0,"exports"],[14,9,68,0],[14,10,68,0,"getProject"],[14,20,68,0],[14,23,68,0,"getProject"],[14,33,68,0],[15,2,72,0,"exports"],[15,9,72,0],[15,10,72,0,"getActiveProject"],[15,26,72,0],[15,29,72,0,"getActiveProject"],[15,45,72,0],[16,2,76,0,"exports"],[16,9,76,0],[16,10,76,0,"setActiveProject"],[16,26,76,0],[16,29,76,0,"setActiveProject"],[16,45,76,0],[17,2,81,0,"exports"],[17,9,81,0],[17,10,81,0,"upsertProject"],[17,23,81,0],[17,26,81,0,"upsertProject"],[17,39,81,0],[18,2,86,0,"exports"],[18,9,86,0],[18,10,86,0,"removeProject"],[18,23,86,0],[18,26,86,0,"removeProject"],[18,39,86,0],[19,2,92,0,"exports"],[19,9,92,0],[19,10,92,0,"mergeProjectTodos"],[19,27,92,0],[19,30,92,0,"mergeProjectTodos"],[19,47,92,0],[20,2,99,1],[20,6,99,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,99,1],[20,45,99,1,"require"],[20,52,99,1],[20,53,99,1,"_dependencyMap"],[20,67,99,1],[21,2,99,1],[21,6,99,1,"_asyncToGenerator"],[21,23,99,1],[21,26,99,1,"_interopDefault"],[21,41,99,1],[21,42,99,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,99,1],[22,2,1,0],[22,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,1,0],[22,45,1,0,"require"],[22,52,1,0],[22,53,1,0,"_dependencyMap"],[22,67,1,0],[23,2,1,0],[23,6,1,0,"AsyncStorage"],[23,18,1,0],[23,21,1,0,"_interopDefault"],[23,36,1,0],[23,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,1,0],[24,2,36,0],[24,6,36,6,"KEY"],[24,9,36,9],[24,12,36,12],[24,37,36,37],[25,2,37,0],[25,6,37,6,"ACTIVE_KEY"],[25,16,37,16],[25,19,37,19],[25,51,37,51],[26,2,39,0],[26,6,39,4,"mem"],[26,9,39,35],[26,12,39,38],[26,13,39,39],[26,14,39,40],[27,2,40,0],[27,6,40,4,"activeId"],[27,14,40,30],[27,17,40,33],[27,21,40,37],[28,2,40,38],[28,11,42,22,"hydrateProjects"],[28,26,42,37,"hydrateProjects"],[28,27,42,37],[29,4,42,37],[29,11,42,37,"_hydrateProjects"],[29,27,42,37],[29,28,42,37,"apply"],[29,33,42,37],[29,40,42,37,"arguments"],[29,49,42,37],[30,2,42,37],[31,2,42,37],[31,11,42,37,"_hydrateProjects"],[31,28,42,37],[32,4,42,37,"_hydrateProjects"],[32,20,42,37],[32,27,42,37,"_asyncToGenerator"],[32,44,42,37],[32,45,42,37,"default"],[32,52,42,37],[32,54,42,7],[32,67,42,55],[33,6,43,2],[33,10,43,6],[34,8,44,4],[34,12,44,10,"raw"],[34,15,44,13],[34,24,44,22,"AsyncStorage"],[34,36,44,34],[34,37,44,34,"default"],[34,44,44,34],[34,45,44,35,"getItem"],[34,52,44,42],[34,53,44,43,"KEY"],[34,56,44,46],[34,57,44,47],[35,8,45,4,"mem"],[35,11,45,7],[35,14,45,10,"raw"],[35,17,45,13],[35,20,45,16,"JSON"],[35,24,45,20],[35,25,45,21,"parse"],[35,30,45,26],[35,31,45,27,"raw"],[35,34,45,30],[35,35,45,31],[35,38,45,34],[35,39,45,35],[35,40,45,36],[36,8,46,4,"activeId"],[36,16,46,12],[36,25,46,22,"AsyncStorage"],[36,37,46,34],[36,38,46,34,"default"],[36,45,46,34],[36,46,46,35,"getItem"],[36,53,46,42],[36,54,46,43,"ACTIVE_KEY"],[36,64,46,53],[36,65,46,75],[37,6,47,2],[37,7,47,3],[37,8,47,4],[37,14,47,10],[38,8,48,4,"mem"],[38,11,48,7],[38,14,48,10],[38,15,48,11],[38,16,48,12],[39,8,49,4,"activeId"],[39,16,49,12],[39,19,49,15],[39,23,49,19],[40,6,50,2],[41,4,51,0],[41,5,51,1],[42,4,51,1],[42,11,51,1,"_hydrateProjects"],[42,27,51,1],[42,28,51,1,"apply"],[42,33,51,1],[42,40,51,1,"arguments"],[42,49,51,1],[43,2,51,1],[44,2,51,1],[44,11,53,15,"persist"],[44,18,53,22,"persist"],[44,19,53,22],[45,4,53,22],[45,11,53,22,"_persist"],[45,19,53,22],[45,20,53,22,"apply"],[45,25,53,22],[45,32,53,22,"arguments"],[45,41,53,22],[46,2,53,22],[47,2,53,22],[47,11,53,22,"_persist"],[47,20,53,22],[48,4,53,22,"_persist"],[48,12,53,22],[48,19,53,22,"_asyncToGenerator"],[48,36,53,22],[48,37,53,22,"default"],[48,44,53,22],[48,46,53,0],[48,59,53,25],[49,6,54,2],[49,10,54,6],[50,8,54,8],[50,14,54,14,"AsyncStorage"],[50,26,54,26],[50,27,54,26,"default"],[50,34,54,26],[50,35,54,27,"setItem"],[50,42,54,34],[50,43,54,35,"KEY"],[50,46,54,38],[50,48,54,40,"JSON"],[50,52,54,44],[50,53,54,45,"stringify"],[50,62,54,54],[50,63,54,55,"mem"],[50,66,54,58],[50,67,54,59],[50,68,54,60],[51,6,54,62],[51,7,54,63],[51,8,54,64],[51,14,54,70],[51,15,54,71],[52,4,55,0],[52,5,55,1],[53,4,55,1],[53,11,55,1,"_persist"],[53,19,55,1],[53,20,55,1,"apply"],[53,25,55,1],[53,32,55,1,"arguments"],[53,41,55,1],[54,2,55,1],[55,2,55,1],[55,11,57,15,"persistActive"],[55,24,57,28,"persistActive"],[55,25,57,28],[56,4,57,28],[56,11,57,28,"_persistActive"],[56,25,57,28],[56,26,57,28,"apply"],[56,31,57,28],[56,38,57,28,"arguments"],[56,47,57,28],[57,2,57,28],[58,2,57,28],[58,11,57,28,"_persistActive"],[58,26,57,28],[59,4,57,28,"_persistActive"],[59,18,57,28],[59,25,57,28,"_asyncToGenerator"],[59,42,57,28],[59,43,57,28,"default"],[59,50,57,28],[59,52,57,0],[59,65,57,31],[60,6,58,2],[60,10,58,6],[61,8,59,4],[61,12,59,8,"activeId"],[61,20,59,16],[61,22,59,18],[61,28,59,24,"AsyncStorage"],[61,40,59,36],[61,41,59,36,"default"],[61,48,59,36],[61,49,59,37,"setItem"],[61,56,59,44],[61,57,59,45,"ACTIVE_KEY"],[61,67,59,55],[61,69,59,57,"activeId"],[61,77,59,65],[61,78,59,66],[61,79,59,67],[61,84,60,9],[61,90,60,15,"AsyncStorage"],[61,102,60,27],[61,103,60,27,"default"],[61,110,60,27],[61,111,60,28,"removeItem"],[61,121,60,38],[61,122,60,39,"ACTIVE_KEY"],[61,132,60,49],[61,133,60,50],[62,6,61,2],[62,7,61,3],[62,8,61,4],[62,14,61,10],[62,15,61,11],[63,4,62,0],[63,5,62,1],[64,4,62,1],[64,11,62,1,"_persistActive"],[64,25,62,1],[64,26,62,1,"apply"],[64,31,62,1],[64,38,62,1,"arguments"],[64,47,62,1],[65,2,62,1],[66,2,64,7],[66,11,64,16,"listProjects"],[66,23,64,28,"listProjects"],[66,24,64,28],[66,26,64,42],[67,4,65,2],[67,11,65,9,"Object"],[67,17,65,15],[67,18,65,16,"values"],[67,24,65,22],[67,25,65,23,"mem"],[67,28,65,26],[67,29,65,27],[67,30,65,28,"sort"],[67,34,65,32],[67,35,65,33],[67,36,65,34,"a"],[67,37,65,35],[67,39,65,37,"b"],[67,40,65,38],[67,45,65,43,"a"],[67,46,65,44],[67,47,65,45,"name"],[67,51,65,49],[67,52,65,50,"localeCompare"],[67,65,65,63],[67,66,65,64,"b"],[67,67,65,65],[67,68,65,66,"name"],[67,72,65,70],[67,73,65,71],[67,74,65,72],[68,2,66,0],[69,2,68,7],[69,11,68,16,"getProject"],[69,21,68,26,"getProject"],[69,22,68,27,"id"],[69,24,68,40],[69,26,68,63],[70,4,69,2],[70,11,69,9,"mem"],[70,14,69,12],[70,15,69,13,"id"],[70,17,69,15],[70,18,69,16],[71,2,70,0],[72,2,72,7],[72,11,72,16,"getActiveProject"],[72,27,72,32,"getActiveProject"],[72,28,72,32],[72,30,72,56],[73,4,73,2],[73,11,73,9,"activeId"],[73,19,73,17],[73,22,73,20,"mem"],[73,25,73,23],[73,26,73,24,"activeId"],[73,34,73,32],[73,35,73,33],[73,38,73,36,"undefined"],[73,47,73,45],[74,2,74,0],[75,2,74,1],[75,11,76,22,"setActiveProject"],[75,27,76,38,"setActiveProject"],[75,28,76,38,"_x"],[75,30,76,38],[76,4,76,38],[76,11,76,38,"_setActiveProject"],[76,28,76,38],[76,29,76,38,"apply"],[76,34,76,38],[76,41,76,38,"arguments"],[76,50,76,38],[77,2,76,38],[78,2,76,38],[78,11,76,38,"_setActiveProject"],[78,29,76,38],[79,4,76,38,"_setActiveProject"],[79,21,76,38],[79,28,76,38,"_asyncToGenerator"],[79,45,76,38],[79,46,76,38,"default"],[79,53,76,38],[79,55,76,7],[79,66,76,39,"id"],[79,68,76,59],[79,70,76,76],[80,6,77,2,"activeId"],[80,14,77,10],[80,17,77,13,"id"],[80,19,77,15],[81,6,78,2],[81,12,78,8,"persistActive"],[81,25,78,21],[81,26,78,22],[81,27,78,23],[82,4,79,0],[82,5,79,1],[83,4,79,1],[83,11,79,1,"_setActiveProject"],[83,28,79,1],[83,29,79,1,"apply"],[83,34,79,1],[83,41,79,1,"arguments"],[83,50,79,1],[84,2,79,1],[85,2,79,1],[85,11,81,22,"upsertProject"],[85,24,81,35,"upsertProject"],[85,25,81,35,"_x2"],[85,28,81,35],[86,4,81,35],[86,11,81,35,"_upsertProject"],[86,25,81,35],[86,26,81,35,"apply"],[86,31,81,35],[86,38,81,35,"arguments"],[86,47,81,35],[87,2,81,35],[88,2,81,35],[88,11,81,35,"_upsertProject"],[88,26,81,35],[89,4,81,35,"_upsertProject"],[89,18,81,35],[89,25,81,35,"_asyncToGenerator"],[89,42,81,35],[89,43,81,35,"default"],[89,50,81,35],[89,52,81,7],[89,63,81,36,"p"],[89,64,81,46],[89,66,81,63],[90,6,82,2,"mem"],[90,9,82,5],[90,10,82,6,"p"],[90,11,82,7],[90,12,82,8,"id"],[90,14,82,10],[90,15,82,11],[90,18,82,14],[91,8,82,16],[91,11,82,19,"p"],[91,12,82,20],[92,8,82,22,"updatedAt"],[92,17,82,31],[92,19,82,33,"Date"],[92,23,82,37],[92,24,82,38,"now"],[92,27,82,41],[92,28,82,42],[92,29,82,43],[93,8,82,45,"createdAt"],[93,17,82,54],[93,19,82,56,"p"],[93,20,82,57],[93,21,82,58,"createdAt"],[93,30,82,67],[93,34,82,71,"Date"],[93,38,82,75],[93,39,82,76,"now"],[93,42,82,79],[93,43,82,80],[94,6,82,82],[94,7,82,83],[95,6,83,2],[95,12,83,8,"persist"],[95,19,83,15],[95,20,83,16],[95,21,83,17],[96,4,84,0],[96,5,84,1],[97,4,84,1],[97,11,84,1,"_upsertProject"],[97,25,84,1],[97,26,84,1,"apply"],[97,31,84,1],[97,38,84,1,"arguments"],[97,47,84,1],[98,2,84,1],[99,2,84,1],[99,11,86,22,"removeProject"],[99,24,86,35,"removeProject"],[99,25,86,35,"_x3"],[99,28,86,35],[100,4,86,35],[100,11,86,35,"_removeProject"],[100,25,86,35],[100,26,86,35,"apply"],[100,31,86,35],[100,38,86,35,"arguments"],[100,47,86,35],[101,2,86,35],[102,2,86,35],[102,11,86,35,"_removeProject"],[102,26,86,35],[103,4,86,35,"_removeProject"],[103,18,86,35],[103,25,86,35,"_asyncToGenerator"],[103,42,86,35],[103,43,86,35,"default"],[103,50,86,35],[103,52,86,7],[103,63,86,36,"id"],[103,65,86,49],[103,67,86,66],[104,6,87,2],[104,13,87,9,"mem"],[104,16,87,12],[104,17,87,13,"id"],[104,19,87,15],[104,20,87,16],[105,6,88,2],[105,10,88,6,"activeId"],[105,18,88,14],[105,23,88,19,"id"],[105,25,88,21],[105,27,88,23],[106,8,88,25,"activeId"],[106,16,88,33],[106,19,88,36],[106,23,88,40],[107,8,88,42],[107,14,88,48,"persistActive"],[107,27,88,61],[107,28,88,62],[107,29,88,63],[108,6,88,65],[109,6,89,2],[109,12,89,8,"persist"],[109,19,89,15],[109,20,89,16],[109,21,89,17],[110,4,90,0],[110,5,90,1],[111,4,90,1],[111,11,90,1,"_removeProject"],[111,25,90,1],[111,26,90,1,"apply"],[111,31,90,1],[111,38,90,1,"arguments"],[111,47,90,1],[112,2,90,1],[113,2,90,1],[113,11,92,22,"mergeProjectTodos"],[113,28,92,39,"mergeProjectTodos"],[113,29,92,39,"_x4"],[113,32,92,39],[113,34,92,39,"_x5"],[113,37,92,39],[114,4,92,39],[114,11,92,39,"_mergeProjectTodos"],[114,29,92,39],[114,30,92,39,"apply"],[114,35,92,39],[114,42,92,39,"arguments"],[114,51,92,39],[115,2,92,39],[116,2,92,39],[116,11,92,39,"_mergeProjectTodos"],[116,30,92,39],[117,4,92,39,"_mergeProjectTodos"],[117,22,92,39],[117,29,92,39,"_asyncToGenerator"],[117,46,92,39],[117,47,92,39,"default"],[117,54,92,39],[117,56,92,7],[117,67,92,40,"projectId"],[117,76,92,60],[117,78,92,62,"todos"],[117,83,92,82],[117,85,92,99],[118,6,93,2],[118,10,93,8,"p"],[118,11,93,9],[118,14,93,12,"mem"],[118,17,93,15],[118,18,93,16,"projectId"],[118,27,93,25],[118,28,93,26],[119,6,94,2],[119,10,94,6],[119,11,94,7,"p"],[119,12,94,8],[119,14,94,10],[120,6,95,2,"p"],[120,7,95,3],[120,8,95,4,"todos"],[120,13,95,9],[120,16,95,12,"todos"],[120,21,95,17],[121,6,96,2,"p"],[121,7,96,3],[121,8,96,4,"attentionCount"],[121,22,96,18],[121,25,96,21,"todos"],[121,30,96,26],[121,31,96,27,"filter"],[121,37,96,33],[121,38,96,34,"t"],[121,39,96,35],[121,43,96,39],[121,44,96,40,"t"],[121,45,96,41],[121,46,96,42,"completed"],[121,55,96,51],[121,56,96,52],[121,57,96,53,"length"],[121,63,96,59],[122,6,97,2,"p"],[122,7,97,3],[122,8,97,4,"updatedAt"],[122,17,97,13],[122,20,97,16,"Date"],[122,24,97,20],[122,25,97,21,"now"],[122,28,97,24],[122,29,97,25],[122,30,97,26],[123,6,98,2],[123,12,98,8,"persist"],[123,19,98,15],[123,20,98,16],[123,21,98,17],[124,4,99,0],[124,5,99,1],[125,4,99,1],[125,11,99,1,"_mergeProjectTodos"],[125,29,99,1],[125,30,99,1,"apply"],[125,35,99,1],[125,42,99,1,"arguments"],[125,51,99,1],[126,2,99,1],[127,0,99,1],[127,3]],"functionMap":{"names":["<global>","hydrateProjects","persist","persistActive","listProjects","Object.values.sort$argument_0","getProject","getActiveProject","setActiveProject","upsertProject","removeProject","mergeProjectTodos","todos.filter$argument_0"],"mappings":"AAA;OCyC;CDS;AEE;CFE;AGE;CHK;OIE;iCCC,sCD;CJC;OME;CNE;OOE;CPE;OQE;CRG;OSE;CTG;OUE;CVI;OWE;kCCI,iBD;CXG"},"hasCjsExports":false},"type":"js/module"}]}