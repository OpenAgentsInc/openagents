{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // ~~strike through~~\n  //\n  'use strict';\n\n  // Insert each marker as a separate text token, and add it to delimiter list\n  //\n  module.exports.tokenize = function strikethrough(state, silent) {\n    var i,\n      scanned,\n      token,\n      len,\n      ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n    if (silent) {\n      return false;\n    }\n    if (marker !== 0x7E /* ~ */) {\n      return false;\n    }\n    scanned = state.scanDelims(state.pos, true);\n    len = scanned.length;\n    ch = String.fromCharCode(marker);\n    if (len < 2) {\n      return false;\n    }\n    if (len % 2) {\n      token = state.push('text', '', 0);\n      token.content = ch;\n      len--;\n    }\n    for (i = 0; i < len; i += 2) {\n      token = state.push('text', '', 0);\n      token.content = ch + ch;\n      state.delimiters.push({\n        marker: marker,\n        length: 0,\n        // disable \"rule of 3\" length checks meant for emphasis\n        jump: i,\n        token: state.tokens.length - 1,\n        end: -1,\n        open: scanned.can_open,\n        close: scanned.can_close\n      });\n    }\n    state.pos += scanned.length;\n    return true;\n  };\n  function postProcess(state, delimiters) {\n    var i,\n      j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n    for (i = 0; i < max; i++) {\n      startDelim = delimiters[i];\n      if (startDelim.marker !== 0x7E /* ~ */) {\n        continue;\n      }\n      if (startDelim.end === -1) {\n        continue;\n      }\n      endDelim = delimiters[startDelim.end];\n      token = state.tokens[startDelim.token];\n      token.type = 's_open';\n      token.tag = 's';\n      token.nesting = 1;\n      token.markup = '~~';\n      token.content = '';\n      token = state.tokens[endDelim.token];\n      token.type = 's_close';\n      token.tag = 's';\n      token.nesting = -1;\n      token.markup = '~~';\n      token.content = '';\n      if (state.tokens[endDelim.token - 1].type === 'text' && state.tokens[endDelim.token - 1].content === '~') {\n        loneMarkers.push(endDelim.token - 1);\n      }\n    }\n\n    // If a marker sequence has an odd number of characters, it's splitted\n    // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n    // start of the sequence.\n    //\n    // So, we have to move all those markers after subsequent s_close tags.\n    //\n    while (loneMarkers.length) {\n      i = loneMarkers.pop();\n      j = i + 1;\n      while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n        j++;\n      }\n      j--;\n      if (i !== j) {\n        token = state.tokens[j];\n        state.tokens[j] = state.tokens[i];\n        state.tokens[i] = token;\n      }\n    }\n  }\n\n  // Walk through delimiter list and replace text tokens with tags\n  //\n  module.exports.postProcess = function strikethrough(state) {\n    var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n    postProcess(state, state.delimiters);\n    for (curr = 0; curr < max; curr++) {\n      if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n        postProcess(state, tokens_meta[curr].delimiters);\n      }\n    }\n  };\n});","lineCount":118,"map":[[2,2,1,0],[3,2,2,0],[4,2,3,0],[4,14,3,12],[6,2,6,0],[7,2,7,0],[8,2,8,0,"module"],[8,8,8,6],[8,9,8,7,"exports"],[8,16,8,14],[8,17,8,15,"tokenize"],[8,25,8,23],[8,28,8,26],[8,37,8,35,"strikethrough"],[8,50,8,48,"strikethrough"],[8,51,8,49,"state"],[8,56,8,54],[8,58,8,56,"silent"],[8,64,8,62],[8,66,8,64],[9,4,9,2],[9,8,9,6,"i"],[9,9,9,7],[10,6,9,9,"scanned"],[10,13,9,16],[11,6,9,18,"token"],[11,11,9,23],[12,6,9,25,"len"],[12,9,9,28],[13,6,9,30,"ch"],[13,8,9,32],[14,6,10,6,"start"],[14,11,10,11],[14,14,10,14,"state"],[14,19,10,19],[14,20,10,20,"pos"],[14,23,10,23],[15,6,11,6,"marker"],[15,12,11,12],[15,15,11,15,"state"],[15,20,11,20],[15,21,11,21,"src"],[15,24,11,24],[15,25,11,25,"charCodeAt"],[15,35,11,35],[15,36,11,36,"start"],[15,41,11,41],[15,42,11,42],[16,4,13,2],[16,8,13,6,"silent"],[16,14,13,12],[16,16,13,14],[17,6,13,16],[17,13,13,23],[17,18,13,28],[18,4,13,30],[19,4,15,2],[19,8,15,6,"marker"],[19,14,15,12],[19,19,15,17],[19,23,15,21],[19,33,15,30],[20,6,15,32],[20,13,15,39],[20,18,15,44],[21,4,15,46],[22,4,17,2,"scanned"],[22,11,17,9],[22,14,17,12,"state"],[22,19,17,17],[22,20,17,18,"scanDelims"],[22,30,17,28],[22,31,17,29,"state"],[22,36,17,34],[22,37,17,35,"pos"],[22,40,17,38],[22,42,17,40],[22,46,17,44],[22,47,17,45],[23,4,18,2,"len"],[23,7,18,5],[23,10,18,8,"scanned"],[23,17,18,15],[23,18,18,16,"length"],[23,24,18,22],[24,4,19,2,"ch"],[24,6,19,4],[24,9,19,7,"String"],[24,15,19,13],[24,16,19,14,"fromCharCode"],[24,28,19,26],[24,29,19,27,"marker"],[24,35,19,33],[24,36,19,34],[25,4,21,2],[25,8,21,6,"len"],[25,11,21,9],[25,14,21,12],[25,15,21,13],[25,17,21,15],[26,6,21,17],[26,13,21,24],[26,18,21,29],[27,4,21,31],[28,4,23,2],[28,8,23,6,"len"],[28,11,23,9],[28,14,23,12],[28,15,23,13],[28,17,23,15],[29,6,24,4,"token"],[29,11,24,9],[29,14,24,20,"state"],[29,19,24,25],[29,20,24,26,"push"],[29,24,24,30],[29,25,24,31],[29,31,24,37],[29,33,24,39],[29,35,24,41],[29,37,24,43],[29,38,24,44],[29,39,24,45],[30,6,25,4,"token"],[30,11,25,9],[30,12,25,10,"content"],[30,19,25,17],[30,22,25,20,"ch"],[30,24,25,22],[31,6,26,4,"len"],[31,9,26,7],[31,11,26,9],[32,4,27,2],[33,4,29,2],[33,9,29,7,"i"],[33,10,29,8],[33,13,29,11],[33,14,29,12],[33,16,29,14,"i"],[33,17,29,15],[33,20,29,18,"len"],[33,23,29,21],[33,25,29,23,"i"],[33,26,29,24],[33,30,29,28],[33,31,29,29],[33,33,29,31],[34,6,30,4,"token"],[34,11,30,9],[34,14,30,20,"state"],[34,19,30,25],[34,20,30,26,"push"],[34,24,30,30],[34,25,30,31],[34,31,30,37],[34,33,30,39],[34,35,30,41],[34,37,30,43],[34,38,30,44],[34,39,30,45],[35,6,31,4,"token"],[35,11,31,9],[35,12,31,10,"content"],[35,19,31,17],[35,22,31,20,"ch"],[35,24,31,22],[35,27,31,25,"ch"],[35,29,31,27],[36,6,33,4,"state"],[36,11,33,9],[36,12,33,10,"delimiters"],[36,22,33,20],[36,23,33,21,"push"],[36,27,33,25],[36,28,33,26],[37,8,34,6,"marker"],[37,14,34,12],[37,16,34,14,"marker"],[37,22,34,20],[38,8,35,6,"length"],[38,14,35,12],[38,16,35,14],[38,17,35,15],[39,8,35,17],[40,8,36,6,"jump"],[40,12,36,10],[40,14,36,14,"i"],[40,15,36,15],[41,8,37,6,"token"],[41,13,37,11],[41,15,37,14,"state"],[41,20,37,19],[41,21,37,20,"tokens"],[41,27,37,26],[41,28,37,27,"length"],[41,34,37,33],[41,37,37,36],[41,38,37,37],[42,8,38,6,"end"],[42,11,38,9],[42,15,38,16],[43,8,39,6,"open"],[43,12,39,10],[43,14,39,14,"scanned"],[43,21,39,21],[43,22,39,22,"can_open"],[43,30,39,30],[44,8,40,6,"close"],[44,13,40,11],[44,15,40,14,"scanned"],[44,22,40,21],[44,23,40,22,"can_close"],[45,6,41,4],[45,7,41,5],[45,8,41,6],[46,4,42,2],[47,4,44,2,"state"],[47,9,44,7],[47,10,44,8,"pos"],[47,13,44,11],[47,17,44,15,"scanned"],[47,24,44,22],[47,25,44,23,"length"],[47,31,44,29],[48,4,46,2],[48,11,46,9],[48,15,46,13],[49,2,47,0],[49,3,47,1],[50,2,50,0],[50,11,50,9,"postProcess"],[50,22,50,20,"postProcess"],[50,23,50,21,"state"],[50,28,50,26],[50,30,50,28,"delimiters"],[50,40,50,38],[50,42,50,40],[51,4,51,2],[51,8,51,6,"i"],[51,9,51,7],[52,6,51,9,"j"],[52,7,51,10],[53,6,52,6,"startDelim"],[53,16,52,16],[54,6,53,6,"endDelim"],[54,14,53,14],[55,6,54,6,"token"],[55,11,54,11],[56,6,55,6,"loneMarkers"],[56,17,55,17],[56,20,55,20],[56,22,55,22],[57,6,56,6,"max"],[57,9,56,9],[57,12,56,12,"delimiters"],[57,22,56,22],[57,23,56,23,"length"],[57,29,56,29],[58,4,58,2],[58,9,58,7,"i"],[58,10,58,8],[58,13,58,11],[58,14,58,12],[58,16,58,14,"i"],[58,17,58,15],[58,20,58,18,"max"],[58,23,58,21],[58,25,58,23,"i"],[58,26,58,24],[58,28,58,26],[58,30,58,28],[59,6,59,4,"startDelim"],[59,16,59,14],[59,19,59,17,"delimiters"],[59,29,59,27],[59,30,59,28,"i"],[59,31,59,29],[59,32,59,30],[60,6,61,4],[60,10,61,8,"startDelim"],[60,20,61,18],[60,21,61,19,"marker"],[60,27,61,25],[60,32,61,30],[60,36,61,34],[60,46,61,43],[61,8,62,6],[62,6,63,4],[63,6,65,4],[63,10,65,8,"startDelim"],[63,20,65,18],[63,21,65,19,"end"],[63,24,65,22],[63,31,65,29],[63,33,65,31],[64,8,66,6],[65,6,67,4],[66,6,69,4,"endDelim"],[66,14,69,12],[66,17,69,15,"delimiters"],[66,27,69,25],[66,28,69,26,"startDelim"],[66,38,69,36],[66,39,69,37,"end"],[66,42,69,40],[66,43,69,41],[67,6,71,4,"token"],[67,11,71,9],[67,14,71,20,"state"],[67,19,71,25],[67,20,71,26,"tokens"],[67,26,71,32],[67,27,71,33,"startDelim"],[67,37,71,43],[67,38,71,44,"token"],[67,43,71,49],[67,44,71,50],[68,6,72,4,"token"],[68,11,72,9],[68,12,72,10,"type"],[68,16,72,14],[68,19,72,20],[68,27,72,28],[69,6,73,4,"token"],[69,11,73,9],[69,12,73,10,"tag"],[69,15,73,13],[69,18,73,20],[69,21,73,23],[70,6,74,4,"token"],[70,11,74,9],[70,12,74,10,"nesting"],[70,19,74,17],[70,22,74,20],[70,23,74,21],[71,6,75,4,"token"],[71,11,75,9],[71,12,75,10,"markup"],[71,18,75,16],[71,21,75,20],[71,25,75,24],[72,6,76,4,"token"],[72,11,76,9],[72,12,76,10,"content"],[72,19,76,17],[72,22,76,20],[72,24,76,22],[73,6,78,4,"token"],[73,11,78,9],[73,14,78,20,"state"],[73,19,78,25],[73,20,78,26,"tokens"],[73,26,78,32],[73,27,78,33,"endDelim"],[73,35,78,41],[73,36,78,42,"token"],[73,41,78,47],[73,42,78,48],[74,6,79,4,"token"],[74,11,79,9],[74,12,79,10,"type"],[74,16,79,14],[74,19,79,20],[74,28,79,29],[75,6,80,4,"token"],[75,11,80,9],[75,12,80,10,"tag"],[75,15,80,13],[75,18,80,20],[75,21,80,23],[76,6,81,4,"token"],[76,11,81,9],[76,12,81,10,"nesting"],[76,19,81,17],[76,24,81,22],[77,6,82,4,"token"],[77,11,82,9],[77,12,82,10,"markup"],[77,18,82,16],[77,21,82,20],[77,25,82,24],[78,6,83,4,"token"],[78,11,83,9],[78,12,83,10,"content"],[78,19,83,17],[78,22,83,20],[78,24,83,22],[79,6,85,4],[79,10,85,8,"state"],[79,15,85,13],[79,16,85,14,"tokens"],[79,22,85,20],[79,23,85,21,"endDelim"],[79,31,85,29],[79,32,85,30,"token"],[79,37,85,35],[79,40,85,38],[79,41,85,39],[79,42,85,40],[79,43,85,41,"type"],[79,47,85,45],[79,52,85,50],[79,58,85,56],[79,62,86,8,"state"],[79,67,86,13],[79,68,86,14,"tokens"],[79,74,86,20],[79,75,86,21,"endDelim"],[79,83,86,29],[79,84,86,30,"token"],[79,89,86,35],[79,92,86,38],[79,93,86,39],[79,94,86,40],[79,95,86,41,"content"],[79,102,86,48],[79,107,86,53],[79,110,86,56],[79,112,86,58],[80,8,88,6,"loneMarkers"],[80,19,88,17],[80,20,88,18,"push"],[80,24,88,22],[80,25,88,23,"endDelim"],[80,33,88,31],[80,34,88,32,"token"],[80,39,88,37],[80,42,88,40],[80,43,88,41],[80,44,88,42],[81,6,89,4],[82,4,90,2],[84,4,92,2],[85,4,93,2],[86,4,94,2],[87,4,95,2],[88,4,96,2],[89,4,97,2],[90,4,98,2],[90,11,98,9,"loneMarkers"],[90,22,98,20],[90,23,98,21,"length"],[90,29,98,27],[90,31,98,29],[91,6,99,4,"i"],[91,7,99,5],[91,10,99,8,"loneMarkers"],[91,21,99,19],[91,22,99,20,"pop"],[91,25,99,23],[91,26,99,24],[91,27,99,25],[92,6,100,4,"j"],[92,7,100,5],[92,10,100,8,"i"],[92,11,100,9],[92,14,100,12],[92,15,100,13],[93,6,102,4],[93,13,102,11,"j"],[93,14,102,12],[93,17,102,15,"state"],[93,22,102,20],[93,23,102,21,"tokens"],[93,29,102,27],[93,30,102,28,"length"],[93,36,102,34],[93,40,102,38,"state"],[93,45,102,43],[93,46,102,44,"tokens"],[93,52,102,50],[93,53,102,51,"j"],[93,54,102,52],[93,55,102,53],[93,56,102,54,"type"],[93,60,102,58],[93,65,102,63],[93,74,102,72],[93,76,102,74],[94,8,103,6,"j"],[94,9,103,7],[94,11,103,9],[95,6,104,4],[96,6,106,4,"j"],[96,7,106,5],[96,9,106,7],[97,6,108,4],[97,10,108,8,"i"],[97,11,108,9],[97,16,108,14,"j"],[97,17,108,15],[97,19,108,17],[98,8,109,6,"token"],[98,13,109,11],[98,16,109,14,"state"],[98,21,109,19],[98,22,109,20,"tokens"],[98,28,109,26],[98,29,109,27,"j"],[98,30,109,28],[98,31,109,29],[99,8,110,6,"state"],[99,13,110,11],[99,14,110,12,"tokens"],[99,20,110,18],[99,21,110,19,"j"],[99,22,110,20],[99,23,110,21],[99,26,110,24,"state"],[99,31,110,29],[99,32,110,30,"tokens"],[99,38,110,36],[99,39,110,37,"i"],[99,40,110,38],[99,41,110,39],[100,8,111,6,"state"],[100,13,111,11],[100,14,111,12,"tokens"],[100,20,111,18],[100,21,111,19,"i"],[100,22,111,20],[100,23,111,21],[100,26,111,24,"token"],[100,31,111,29],[101,6,112,4],[102,4,113,2],[103,2,114,0],[105,2,117,0],[106,2,118,0],[107,2,119,0,"module"],[107,8,119,6],[107,9,119,7,"exports"],[107,16,119,14],[107,17,119,15,"postProcess"],[107,28,119,26],[107,31,119,29],[107,40,119,38,"strikethrough"],[107,53,119,51,"strikethrough"],[107,54,119,52,"state"],[107,59,119,57],[107,61,119,59],[108,4,120,2],[108,8,120,6,"curr"],[108,12,120,10],[109,6,121,6,"tokens_meta"],[109,17,121,17],[109,20,121,20,"state"],[109,25,121,25],[109,26,121,26,"tokens_meta"],[109,37,121,37],[110,6,122,6,"max"],[110,9,122,9],[110,12,122,12,"state"],[110,17,122,17],[110,18,122,18,"tokens_meta"],[110,29,122,29],[110,30,122,30,"length"],[110,36,122,36],[111,4,124,2,"postProcess"],[111,15,124,13],[111,16,124,14,"state"],[111,21,124,19],[111,23,124,21,"state"],[111,28,124,26],[111,29,124,27,"delimiters"],[111,39,124,37],[111,40,124,38],[112,4,126,2],[112,9,126,7,"curr"],[112,13,126,11],[112,16,126,14],[112,17,126,15],[112,19,126,17,"curr"],[112,23,126,21],[112,26,126,24,"max"],[112,29,126,27],[112,31,126,29,"curr"],[112,35,126,33],[112,37,126,35],[112,39,126,37],[113,6,127,4],[113,10,127,8,"tokens_meta"],[113,21,127,19],[113,22,127,20,"curr"],[113,26,127,24],[113,27,127,25],[113,31,127,29,"tokens_meta"],[113,42,127,40],[113,43,127,41,"curr"],[113,47,127,45],[113,48,127,46],[113,49,127,47,"delimiters"],[113,59,127,57],[113,61,127,59],[114,8,128,6,"postProcess"],[114,19,128,17],[114,20,128,18,"state"],[114,25,128,23],[114,27,128,25,"tokens_meta"],[114,38,128,36],[114,39,128,37,"curr"],[114,43,128,41],[114,44,128,42],[114,45,128,43,"delimiters"],[114,55,128,53],[114,56,128,54],[115,6,129,4],[116,4,130,2],[117,2,131,0],[117,3,131,1],[118,0,131,2],[118,3]],"functionMap":{"names":["<global>","strikethrough","postProcess"],"mappings":"AAA;0BCO;CDuC;AEG;CFgE;6BCK;CDY"},"hasCjsExports":true},"type":"js/module"}]}