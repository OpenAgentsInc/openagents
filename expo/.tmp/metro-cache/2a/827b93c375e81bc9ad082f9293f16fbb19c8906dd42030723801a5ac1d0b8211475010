{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":41,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":56},"end":{"line":6,"column":31,"index":146}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}},{"name":"../common/constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":148},"end":{"line":8,"column":56,"index":204}}],"key":"idWbZNLFwwT/Ddx2GDw2qAzUgZM=","exportNames":["*"],"imports":1}},{"name":"../fabricUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":274},"end":{"line":10,"column":61,"index":335}}],"key":"ZVfFH5AYEX8+P/wT0N7617eOwLE=","exportNames":["*"],"imports":1}},{"name":"../mutables","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":336},"end":{"line":11,"column":42,"index":378}}],"key":"IDRZr6dviDL7zsjT4xI3gPwtNYo=","exportNames":["*"],"imports":1}},{"name":"../platformFunctions/findNodeHandle","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":379},"end":{"line":12,"column":69,"index":448}}],"key":"1isdGYORv8bBV0ZCFH0po00eajE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAnimatedRef\", {\n    enumerable: true,\n    get: function () {\n      return useAnimatedRef;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1]);\n  var _reactNativeWorklets = require(_dependencyMap[2]);\n  var _commonConstants = require(_dependencyMap[3]);\n  var _fabricUtils = require(_dependencyMap[4]);\n  var _mutables = require(_dependencyMap[5]);\n  var _platformFunctionsFindNodeHandle = require(_dependencyMap[6]);\n  function getComponentOrScrollable(ref) {\n    return ref.getNativeScrollRef?.() ?? ref.getScrollableNode?.() ?? ref;\n  }\n  function useAnimatedRefBase(getWrapper) {\n    var observers = (0, _react.useRef)(new Map()).current;\n    var wrapperRef = (0, _react.useRef)(null);\n    var resultRef = (0, _react.useRef)(null);\n    if (!resultRef.current) {\n      var fun = ref => {\n        if (ref) {\n          wrapperRef.current = getWrapper(ref);\n\n          // We have to unwrap the tag from the shadow node wrapper.\n          fun.getTag = () => (0, _platformFunctionsFindNodeHandle.findNodeHandle)(getComponentOrScrollable(ref));\n          fun.current = ref;\n          if (observers.size) {\n            var currentTag = fun?.getTag?.() ?? null;\n            observers.forEach((cleanup, observer) => {\n              // Perform the cleanup before calling the observer again.\n              // This ensures that all events that were set up in the observer\n              // are cleaned up before the observer sets up new events during\n              // the next call.\n              cleanup?.();\n              observers.set(observer, observer(currentTag));\n            });\n          }\n        }\n        return wrapperRef.current;\n      };\n      fun.observe = observer => {\n        // Call observer immediately to get the initial value\n        var cleanup = observer(fun?.getTag?.() ?? null);\n        observers.set(observer, cleanup);\n        return () => {\n          observers.get(observer)?.();\n          observers.delete(observer);\n        };\n      };\n      fun.current = null;\n      resultRef.current = fun;\n    }\n    return resultRef.current;\n  }\n  var _worklet_11847143387474_init_data = {\n    code: \"function reactNativeReanimated_useAnimatedRefTs1(){const{sharedWrapper}=this.__closure;return function(){return sharedWrapper.value;};}\"\n  };\n  function useAnimatedRefNative() {\n    var _useState = (0, _react.useState)(() => (0, _mutables.makeMutable)(null)),\n      _useState2 = (0, _slicedToArray.default)(_useState, 1),\n      sharedWrapper = _useState2[0];\n    var resultRef = useAnimatedRefBase(ref => {\n      var currentWrapper = (0, _fabricUtils.getShadowNodeWrapperFromRef)(getComponentOrScrollable(ref));\n      sharedWrapper.value = currentWrapper;\n      return currentWrapper;\n    });\n    if (!_reactNativeWorklets.serializableMappingCache.get(resultRef)) {\n      var animatedRefSerializableHandle = (0, _reactNativeWorklets.createSerializable)({\n        __init: function reactNativeReanimated_useAnimatedRefTs1Factory(_ref) {\n          var _worklet_11847143387474_init_data = _ref._worklet_11847143387474_init_data,\n            sharedWrapper = _ref.sharedWrapper;\n          var reactNativeReanimated_useAnimatedRefTs1 = function () {\n            return () => sharedWrapper.value;\n          };\n          reactNativeReanimated_useAnimatedRefTs1.__closure = {\n            sharedWrapper\n          };\n          reactNativeReanimated_useAnimatedRefTs1.__workletHash = 11847143387474;\n          reactNativeReanimated_useAnimatedRefTs1.__initData = _worklet_11847143387474_init_data;\n          return reactNativeReanimated_useAnimatedRefTs1;\n        }({\n          _worklet_11847143387474_init_data,\n          sharedWrapper\n        })\n      });\n      _reactNativeWorklets.serializableMappingCache.set(resultRef, animatedRefSerializableHandle);\n    }\n    return resultRef;\n  }\n  function useAnimatedRefWeb() {\n    return useAnimatedRefBase(ref => getComponentOrScrollable(ref));\n  }\n\n  /**\n   * Lets you get a reference of a view that you can use inside a worklet.\n   *\n   * @returns An object with a `.current` property which contains an instance of\n   *   the reference object.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/core/useAnimatedRef\n   */\n  var useAnimatedRef = _commonConstants.SHOULD_BE_USE_WEB ? useAnimatedRefWeb : useAnimatedRefNative;\n});","lineCount":116,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,119,0,"Object"],[12,8,119,0],[12,9,119,0,"defineProperty"],[12,23,119,0],[12,24,119,0,"exports"],[12,31,119,0],[13,4,119,0,"enumerable"],[13,14,119,0],[14,4,119,0,"get"],[14,7,119,0],[14,18,119,0,"get"],[14,19,119,0],[15,6,119,0],[15,13,119,0,"useAnimatedRef"],[15,27,119,0],[16,4,119,0],[17,2,119,0],[18,2,121,25],[18,6,121,25,"_babelRuntimeHelpersSlicedToArray"],[18,39,121,25],[18,42,121,25,"require"],[18,49,121,25],[18,50,121,25,"_dependencyMap"],[18,64,121,25],[19,2,121,25],[19,6,121,25,"_slicedToArray"],[19,20,121,25],[19,23,121,25,"_interopDefault"],[19,38,121,25],[19,39,121,25,"_babelRuntimeHelpersSlicedToArray"],[19,72,121,25],[20,2,2,0],[20,6,2,0,"_react"],[20,12,2,0],[20,15,2,0,"require"],[20,22,2,0],[20,23,2,0,"_dependencyMap"],[20,37,2,0],[21,2,3,0],[21,6,3,0,"_reactNativeWorklets"],[21,26,3,0],[21,29,3,0,"require"],[21,36,3,0],[21,37,3,0,"_dependencyMap"],[21,51,3,0],[22,2,8,0],[22,6,8,0,"_commonConstants"],[22,22,8,0],[22,25,8,0,"require"],[22,32,8,0],[22,33,8,0,"_dependencyMap"],[22,47,8,0],[23,2,10,0],[23,6,10,0,"_fabricUtils"],[23,18,10,0],[23,21,10,0,"require"],[23,28,10,0],[23,29,10,0,"_dependencyMap"],[23,43,10,0],[24,2,11,0],[24,6,11,0,"_mutables"],[24,15,11,0],[24,18,11,0,"require"],[24,25,11,0],[24,26,11,0,"_dependencyMap"],[24,40,11,0],[25,2,12,0],[25,6,12,0,"_platformFunctionsFindNodeHandle"],[25,38,12,0],[25,41,12,0,"require"],[25,48,12,0],[25,49,12,0,"_dependencyMap"],[25,63,12,0],[26,2,20,0],[26,11,20,9,"getComponentOrScrollable"],[26,35,20,33,"getComponentOrScrollable"],[26,36,20,34,"ref"],[26,39,20,49],[26,41,20,51],[27,4,21,2],[27,11,21,9,"ref"],[27,14,21,12],[27,15,21,13,"getNativeScrollRef"],[27,33,21,31],[27,36,21,34],[27,37,21,35],[27,41,21,39,"ref"],[27,44,21,42],[27,45,21,43,"getScrollableNode"],[27,62,21,60],[27,65,21,63],[27,66,21,64],[27,70,21,68,"ref"],[27,73,21,71],[28,2,22,0],[29,2,24,0],[29,11,24,9,"useAnimatedRefBase"],[29,29,24,27,"useAnimatedRefBase"],[29,30,25,2,"getWrapper"],[29,40,25,46],[29,42,26,21],[30,4,27,2],[30,8,27,8,"observers"],[30,17,27,17],[30,20,27,20],[30,24,27,20,"useRef"],[30,30,27,26],[30,31,27,26,"useRef"],[30,37,27,26],[30,39,28,4],[30,43,28,8,"Map"],[30,46,28,11],[30,47,28,12],[30,48,29,2],[30,49,29,3],[30,50,29,4,"current"],[30,57,29,11],[31,4,30,2],[31,8,30,8,"wrapperRef"],[31,18,30,18],[31,21,30,21],[31,25,30,21,"useRef"],[31,31,30,27],[31,32,30,27,"useRef"],[31,38,30,27],[31,40,30,54],[31,44,30,58],[31,45,30,59],[32,4,31,2],[32,8,31,8,"resultRef"],[32,17,31,17],[32,20,31,20],[32,24,31,20,"useRef"],[32,30,31,26],[32,31,31,26,"useRef"],[32,37,31,26],[32,39,31,53],[32,43,31,57],[32,44,31,58],[33,4,33,2],[33,8,33,6],[33,9,33,7,"resultRef"],[33,18,33,16],[33,19,33,17,"current"],[33,26,33,24],[33,28,33,26],[34,6,34,4],[34,10,34,10,"fun"],[34,13,34,13],[34,16,34,37,"ref"],[34,19,34,40],[34,23,34,45],[35,8,35,6],[35,12,35,10,"ref"],[35,15,35,13],[35,17,35,15],[36,10,36,8,"wrapperRef"],[36,20,36,18],[36,21,36,19,"current"],[36,28,36,26],[36,31,36,29,"getWrapper"],[36,41,36,39],[36,42,36,40,"ref"],[36,45,36,43],[36,46,36,44],[38,10,38,8],[39,10,39,8,"fun"],[39,13,39,11],[39,14,39,12,"getTag"],[39,20,39,18],[39,23,39,21],[39,29,39,27],[39,33,39,27,"findNodeHandle"],[39,65,39,41],[39,66,39,41,"findNodeHandle"],[39,80,39,41],[39,82,39,42,"getComponentOrScrollable"],[39,106,39,66],[39,107,39,67,"ref"],[39,110,39,70],[39,111,39,71],[39,112,39,72],[40,10,40,8,"fun"],[40,13,40,11],[40,14,40,12,"current"],[40,21,40,19],[40,24,40,22,"ref"],[40,27,40,25],[41,10,42,8],[41,14,42,12,"observers"],[41,23,42,21],[41,24,42,22,"size"],[41,28,42,26],[41,30,42,28],[42,12,43,10],[42,16,43,16,"currentTag"],[42,26,43,26],[42,29,43,29,"fun"],[42,32,43,32],[42,34,43,34,"getTag"],[42,40,43,40],[42,43,43,43],[42,44,43,44],[42,48,43,48],[42,52,43,52],[43,12,44,10,"observers"],[43,21,44,19],[43,22,44,20,"forEach"],[43,29,44,27],[43,30,44,28],[43,31,44,29,"cleanup"],[43,38,44,36],[43,40,44,38,"observer"],[43,48,44,46],[43,53,44,51],[44,14,45,12],[45,14,46,12],[46,14,47,12],[47,14,48,12],[48,14,49,12,"cleanup"],[48,21,49,19],[48,24,49,22],[48,25,49,23],[49,14,50,12,"observers"],[49,23,50,21],[49,24,50,22,"set"],[49,27,50,25],[49,28,50,26,"observer"],[49,36,50,34],[49,38,50,36,"observer"],[49,46,50,44],[49,47,50,45,"currentTag"],[49,57,50,55],[49,58,50,56],[49,59,50,57],[50,12,51,10],[50,13,51,11],[50,14,51,12],[51,10,52,8],[52,8,53,6],[53,8,55,6],[53,15,55,13,"wrapperRef"],[53,25,55,23],[53,26,55,24,"current"],[53,33,55,31],[54,6,56,4],[54,7,56,6],[55,6,58,4,"fun"],[55,9,58,7],[55,10,58,8,"observe"],[55,17,58,15],[55,20,58,19,"observer"],[55,28,58,48],[55,32,58,53],[56,8,59,6],[57,8,60,6],[57,12,60,12,"cleanup"],[57,19,60,19],[57,22,60,22,"observer"],[57,30,60,30],[57,31,60,31,"fun"],[57,34,60,34],[57,36,60,36,"getTag"],[57,42,60,42],[57,45,60,45],[57,46,60,46],[57,50,60,50],[57,54,60,54],[57,55,60,55],[58,8,61,6,"observers"],[58,17,61,15],[58,18,61,16,"set"],[58,21,61,19],[58,22,61,20,"observer"],[58,30,61,28],[58,32,61,30,"cleanup"],[58,39,61,37],[58,40,61,38],[59,8,63,6],[59,15,63,13],[59,21,63,19],[60,10,64,8,"observers"],[60,19,64,17],[60,20,64,18,"get"],[60,23,64,21],[60,24,64,22,"observer"],[60,32,64,30],[60,33,64,31],[60,36,64,34],[60,37,64,35],[61,10,65,8,"observers"],[61,19,65,17],[61,20,65,18,"delete"],[61,26,65,24],[61,27,65,25,"observer"],[61,35,65,33],[61,36,65,34],[62,8,66,6],[62,9,66,7],[63,6,67,4],[63,7,67,5],[64,6,69,4,"fun"],[64,9,69,7],[64,10,69,8,"current"],[64,17,69,15],[64,20,69,18],[64,24,69,22],[65,6,70,4,"resultRef"],[65,15,70,13],[65,16,70,14,"current"],[65,23,70,21],[65,26,70,24,"fun"],[65,29,70,27],[66,4,71,2],[67,4,73,2],[67,11,73,9,"resultRef"],[67,20,73,18],[67,21,73,19,"current"],[67,28,73,26],[68,2,74,0],[69,2,74,1],[69,6,74,1,"_worklet_11847143387474_init_data"],[69,39,74,1],[70,4,74,1,"code"],[70,8,74,1],[71,2,74,1],[72,2,76,0],[72,11,76,9,"useAnimatedRefNative"],[72,31,76,29,"useAnimatedRefNative"],[72,32,76,29],[72,34,78,23],[73,4,79,2],[73,8,79,2,"_useState"],[73,17,79,2],[73,20,79,26],[73,24,79,26,"useState"],[73,30,79,34],[73,31,79,34,"useState"],[73,39,79,34],[73,41,79,35],[73,47,80,4],[73,51,80,4,"makeMutable"],[73,60,80,15],[73,61,80,15,"makeMutable"],[73,72,80,15],[73,74,80,42],[73,78,80,46],[73,79,81,2],[73,80,81,3],[74,6,81,3,"_useState2"],[74,16,81,3],[74,23,81,3,"_slicedToArray"],[74,37,81,3],[74,38,81,3,"default"],[74,45,81,3],[74,47,81,3,"_useState"],[74,56,81,3],[75,6,79,9,"sharedWrapper"],[75,19,79,22],[75,22,79,22,"_useState2"],[75,32,79,22],[76,4,83,2],[76,8,83,8,"resultRef"],[76,17,83,17],[76,20,83,20,"useAnimatedRefBase"],[76,38,83,38],[76,39,83,46,"ref"],[76,42,83,49],[76,46,83,54],[77,6,84,4],[77,10,84,10,"currentWrapper"],[77,24,84,24],[77,27,84,27],[77,31,84,27,"getShadowNodeWrapperFromRef"],[77,43,84,54],[77,44,84,54,"getShadowNodeWrapperFromRef"],[77,71,84,54],[77,73,85,6,"getComponentOrScrollable"],[77,97,85,30],[77,98,85,31,"ref"],[77,101,85,34],[77,102,86,4],[77,103,86,5],[78,6,88,4,"sharedWrapper"],[78,19,88,17],[78,20,88,18,"value"],[78,25,88,23],[78,28,88,26,"currentWrapper"],[78,42,88,40],[79,6,90,4],[79,13,90,11,"currentWrapper"],[79,27,90,25],[80,4,91,2],[80,5,91,3],[80,6,91,4],[81,4,93,2],[81,8,93,6],[81,9,93,7,"serializableMappingCache"],[81,29,93,31],[81,30,93,31,"serializableMappingCache"],[81,54,93,31],[81,55,93,32,"get"],[81,58,93,35],[81,59,93,36,"resultRef"],[81,68,93,45],[81,69,93,46],[81,71,93,48],[82,6,94,4],[82,10,94,10,"animatedRefSerializableHandle"],[82,39,94,39],[82,42,94,42],[82,46,94,42,"createSerializable"],[82,66,94,60],[82,67,94,60,"createSerializable"],[82,85,94,60],[82,87,94,61],[83,8,95,6,"__init"],[83,14,95,12],[83,16,95,14],[83,25,95,14,"reactNativeReanimated_useAnimatedRefTs1Factory"],[83,72,95,14,"_ref"],[83,76,95,14],[84,10,95,14],[84,14,95,14,"_worklet_11847143387474_init_data"],[84,47,95,14],[84,50,95,14,"_ref"],[84,54,95,14],[84,55,95,14,"_worklet_11847143387474_init_data"],[84,88,95,14],[85,12,97,21,"sharedWrapper"],[85,25,97,34],[85,28,97,34,"_ref"],[85,32,97,34],[85,33,97,21,"sharedWrapper"],[85,46,97,34],[86,10,97,34],[86,14,97,34,"reactNativeReanimated_useAnimatedRefTs1"],[86,53,97,34],[86,65,97,34,"reactNativeReanimated_useAnimatedRefTs1"],[86,66,97,34],[86,68,95,37],[87,12,97,8],[87,19,97,15],[87,25,97,21,"sharedWrapper"],[87,38,97,34],[87,39,97,35,"value"],[87,44,97,40],[88,10,98,6],[88,11,98,7],[89,10,98,7,"reactNativeReanimated_useAnimatedRefTs1"],[89,49,98,7],[89,50,98,7,"__closure"],[89,59,98,7],[90,12,97,21,"sharedWrapper"],[91,10,97,34],[92,10,97,34,"reactNativeReanimated_useAnimatedRefTs1"],[92,49,97,34],[92,50,97,34,"__workletHash"],[92,63,97,34],[93,10,97,34,"reactNativeReanimated_useAnimatedRefTs1"],[93,49,97,34],[93,50,97,34,"__initData"],[93,60,97,34],[93,63,97,34,"_worklet_11847143387474_init_data"],[93,96,97,34],[94,10,97,34],[94,17,97,34,"reactNativeReanimated_useAnimatedRefTs1"],[94,56,97,34],[95,8,97,34],[95,9,95,14],[96,10,95,14,"_worklet_11847143387474_init_data"],[96,43,95,14],[97,10,97,21,"sharedWrapper"],[98,8,97,34],[99,6,99,4],[99,7,99,5],[99,8,99,6],[100,6,100,4,"serializableMappingCache"],[100,26,100,28],[100,27,100,28,"serializableMappingCache"],[100,51,100,28],[100,52,100,29,"set"],[100,55,100,32],[100,56,100,33,"resultRef"],[100,65,100,42],[100,67,100,44,"animatedRefSerializableHandle"],[100,96,100,73],[100,97,100,74],[101,4,101,2],[102,4,103,2],[102,11,103,9,"resultRef"],[102,20,103,18],[103,2,104,0],[104,2,106,0],[104,11,106,9,"useAnimatedRefWeb"],[104,28,106,26,"useAnimatedRefWeb"],[104,29,106,26],[104,31,108,23],[105,4,109,2],[105,11,109,9,"useAnimatedRefBase"],[105,29,109,27],[105,30,109,35,"ref"],[105,33,109,38],[105,37,109,43,"getComponentOrScrollable"],[105,61,109,67],[105,62,109,68,"ref"],[105,65,109,71],[105,66,109,72],[105,67,109,73],[106,2,110,0],[108,2,112,0],[109,0,113,0],[110,0,114,0],[111,0,115,0],[112,0,116,0],[113,0,117,0],[114,0,118,0],[115,2,119,7],[115,6,119,13,"useAnimatedRef"],[115,20,119,27],[115,23,119,30,"SHOULD_BE_USE_WEB"],[115,39,119,47],[115,40,119,47,"SHOULD_BE_USE_WEB"],[115,57,119,47],[115,60,120,4,"useAnimatedRefWeb"],[115,77,120,21],[115,80,121,4,"useAnimatedRefNative"],[115,100,121,24],[116,0,121,25],[116,3]],"functionMap":{"names":["<global>","getComponentOrScrollable","useAnimatedRefBase","<anonymous>","fun.getTag","observers.forEach$argument_0","fun.observe","useAnimatedRefNative","useState$argument_0","useAnimatedRefBase$argument_0","createSerializable$argument_0.__init","useAnimatedRefWeb"],"mappings":"AAA;ACmB;CDE;AEE;oCCU;qBCK,mDD;4BEK;WFO;KDK;kBIE;aHK;OGG;KJC;CFO;AOE;mCCG;+CDC;6CEG;GFQ;cGI;ePE,yBO;OHC;CPM;AWE;kCFG,sCE;CXC"},"hasCjsExports":false},"type":"js/module"}]}