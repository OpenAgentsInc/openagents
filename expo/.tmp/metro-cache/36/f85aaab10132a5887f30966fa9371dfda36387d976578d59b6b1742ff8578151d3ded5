{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"../config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":110},"end":{"line":7,"column":43,"index":153}}],"key":"pHqFJJBAh3HI9ZCkK8fFRwPv3x0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.EntryExitTransition = EntryExitTransition;\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _config = require(_dependencyMap[1]);\n  var ExitingFinalStep = 49;\n  var EnteringStartStep = 50;\n  // Layout transitions on web work in \"reverse order\". It means that the element is rendered at its destination and then, at the beginning of the animation,\n  // we move it back to its starting point.\n  // This function is responsible for adding transition data into beginning of each keyframe step.\n  // Doing so will ensure that the element will perform animation from correct position.\n  function addTransformToKeepPosition(keyframeStyleData, animationStyle, transformData, isExiting) {\n    for (var _ref of Object.entries(animationStyle)) {\n      var _ref2 = (0, _slicedToArray.default)(_ref, 2);\n      var timestamp = _ref2[0];\n      var styles = _ref2[1];\n      if (styles.transform !== undefined) {\n        // If transform was defined, we want to put transform from transition at the beginning, hence we use `unshift`\n        styles.transform.unshift(transformData);\n      } else {\n        // If transform was undefined, we simply add transform from transition\n        styles.transform = [transformData];\n      }\n      var newTimestamp = parseInt(timestamp) / 2;\n      var index = isExiting ? Math.min(newTimestamp, ExitingFinalStep) // We want to squeeze exiting animation from range 0-100 into range 0-49\n      : newTimestamp + EnteringStartStep; // Entering animation will start from 50 and go up to 100\n\n      keyframeStyleData[`${index}`] = styles;\n    }\n  }\n\n  // EntryExit transition consists of two animations - exiting and entering.\n  // In Keyframes one cannot simply specify animation for given frame. Switching from one animation\n  // to the other one between steps 49 and 50 may lead to flickers, since browser tries to interpolate\n  // one step into the other. To avoid that, we set components' `opacity` to 0 right before switching animation\n  // and set it again to 1 when component is in right position. Hiding component between animations\n  // prevents flickers.\n  function hideComponentBetweenAnimations(keyframeStyleData) {\n    // We have to take into account that some animations have already defined `opacity`.\n    // In that case, we don't want to override it.\n    var opacityInStep = new Map();\n    if (keyframeStyleData[0].opacity === undefined) {\n      opacityInStep.set(48, 1);\n      opacityInStep.set(49, 0);\n    }\n    if (keyframeStyleData[50].opacity === undefined) {\n      opacityInStep.set(50, 0);\n      opacityInStep.set(51, 1);\n    }\n    for (var _ref3 of opacityInStep) {\n      var _ref4 = (0, _slicedToArray.default)(_ref3, 2);\n      var step = _ref4[0];\n      var opacity = _ref4[1];\n      keyframeStyleData[step] = {\n        ...keyframeStyleData[step],\n        opacity\n      };\n    }\n  }\n  function EntryExitTransition(name, transitionData) {\n    var exitingAnimationData = structuredClone(_config.AnimationsData[transitionData.exiting]);\n    var enteringAnimationData = structuredClone(_config.AnimationsData[transitionData.entering]);\n    var additionalExitingData = {\n      translateX: `${transitionData.translateX}px`,\n      translateY: `${transitionData.translateY}px`,\n      scale: `${transitionData.scaleX},${transitionData.scaleY}`\n    };\n    var additionalEnteringData = {\n      translateX: `0px`,\n      translateY: `0px`,\n      scale: `1,1`\n    };\n    var keyframeData = {\n      name,\n      style: {},\n      duration: 300\n    };\n    addTransformToKeepPosition(keyframeData.style, exitingAnimationData.style, additionalExitingData, true);\n    addTransformToKeepPosition(keyframeData.style, enteringAnimationData.style, additionalEnteringData, false);\n    hideComponentBetweenAnimations(keyframeData.style);\n    return keyframeData;\n  }\n});","lineCount":93,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,77,0,"exports"],[12,9,77,0],[12,10,77,0,"EntryExitTransition"],[12,29,77,0],[12,32,77,0,"EntryExitTransition"],[12,51,77,0],[13,2,123,1],[13,6,123,1,"_babelRuntimeHelpersSlicedToArray"],[13,39,123,1],[13,42,123,1,"require"],[13,49,123,1],[13,50,123,1,"_dependencyMap"],[13,64,123,1],[14,2,123,1],[14,6,123,1,"_slicedToArray"],[14,20,123,1],[14,23,123,1,"_interopDefault"],[14,38,123,1],[14,39,123,1,"_babelRuntimeHelpersSlicedToArray"],[14,72,123,1],[15,2,7,0],[15,6,7,0,"_config"],[15,13,7,0],[15,16,7,0,"require"],[15,23,7,0],[15,24,7,0,"_dependencyMap"],[15,38,7,0],[16,2,9,0],[16,6,9,6,"ExitingFinalStep"],[16,22,9,22],[16,25,9,25],[16,27,9,27],[17,2,10,0],[17,6,10,6,"EnteringStartStep"],[17,23,10,23],[17,26,10,26],[17,28,10,28],[18,2,18,0],[19,2,19,0],[20,2,20,0],[21,2,21,0],[22,2,22,0],[22,11,22,9,"addTransformToKeepPosition"],[22,37,22,35,"addTransformToKeepPosition"],[22,38,23,2,"keyframeStyleData"],[22,55,23,51],[22,57,24,2,"animationStyle"],[22,71,24,48],[22,73,25,2,"transformData"],[22,86,25,30],[22,88,26,2,"isExiting"],[22,97,26,20],[22,99,27,2],[23,4,28,2],[23,13,28,2,"_ref"],[23,17,28,2],[23,21,28,36,"Object"],[23,27,28,42],[23,28,28,43,"entries"],[23,35,28,50],[23,36,28,51,"animationStyle"],[23,50,28,65],[23,51,28,66],[23,53,28,68],[24,6,28,68],[24,10,28,68,"_ref2"],[24,15,28,68],[24,22,28,68,"_slicedToArray"],[24,36,28,68],[24,37,28,68,"default"],[24,44,28,68],[24,46,28,68,"_ref"],[24,50,28,68],[25,6,28,68],[25,10,28,14,"timestamp"],[25,19,28,23],[25,22,28,23,"_ref2"],[25,27,28,23],[26,6,28,23],[26,10,28,25,"styles"],[26,16,28,31],[26,19,28,31,"_ref2"],[26,24,28,31],[27,6,29,4],[27,10,29,8,"styles"],[27,16,29,14],[27,17,29,15,"transform"],[27,26,29,24],[27,31,29,29,"undefined"],[27,40,29,38],[27,42,29,40],[28,8,30,6],[29,8,31,6,"styles"],[29,14,31,12],[29,15,31,13,"transform"],[29,24,31,22],[29,25,31,23,"unshift"],[29,32,31,30],[29,33,31,31,"transformData"],[29,46,31,44],[29,47,31,45],[30,6,32,4],[30,7,32,5],[30,13,32,11],[31,8,33,6],[32,8,34,6,"styles"],[32,14,34,12],[32,15,34,13,"transform"],[32,24,34,22],[32,27,34,25],[32,28,34,26,"transformData"],[32,41,34,39],[32,42,34,40],[33,6,35,4],[34,6,37,4],[34,10,37,10,"newTimestamp"],[34,22,37,22],[34,25,37,25,"parseInt"],[34,33,37,33],[34,34,37,34,"timestamp"],[34,43,37,43],[34,44,37,44],[34,47,37,47],[34,48,37,48],[35,6,38,4],[35,10,38,10,"index"],[35,15,38,15],[35,18,38,18,"isExiting"],[35,27,38,27],[35,30,39,8,"Math"],[35,34,39,12],[35,35,39,13,"min"],[35,38,39,16],[35,39,39,17,"newTimestamp"],[35,51,39,29],[35,53,39,31,"ExitingFinalStep"],[35,69,39,47],[35,70,39,48],[35,71,39,49],[36,6,39,49],[36,8,40,8,"newTimestamp"],[36,20,40,20],[36,23,40,23,"EnteringStartStep"],[36,40,40,40],[36,41,40,41],[36,42,40,42],[38,6,42,4,"keyframeStyleData"],[38,23,42,21],[38,24,42,22],[38,27,42,25,"index"],[38,32,42,30],[38,34,42,32],[38,35,42,33],[38,38,42,36,"styles"],[38,44,42,42],[39,4,43,2],[40,2,44,0],[42,2,46,0],[43,2,47,0],[44,2,48,0],[45,2,49,0],[46,2,50,0],[47,2,51,0],[48,2,52,0],[48,11,52,9,"hideComponentBetweenAnimations"],[48,41,52,39,"hideComponentBetweenAnimations"],[48,42,53,2,"keyframeStyleData"],[48,59,53,51],[48,61,54,2],[49,4,55,2],[50,4,56,2],[51,4,57,2],[51,8,57,8,"opacityInStep"],[51,21,57,21],[51,24,57,24],[51,28,57,28,"Map"],[51,31,57,31],[51,32,57,48],[51,33,57,49],[52,4,59,2],[52,8,59,6,"keyframeStyleData"],[52,25,59,23],[52,26,59,24],[52,27,59,25],[52,28,59,26],[52,29,59,27,"opacity"],[52,36,59,34],[52,41,59,39,"undefined"],[52,50,59,48],[52,52,59,50],[53,6,60,4,"opacityInStep"],[53,19,60,17],[53,20,60,18,"set"],[53,23,60,21],[53,24,60,22],[53,26,60,24],[53,28,60,26],[53,29,60,27],[53,30,60,28],[54,6,61,4,"opacityInStep"],[54,19,61,17],[54,20,61,18,"set"],[54,23,61,21],[54,24,61,22],[54,26,61,24],[54,28,61,26],[54,29,61,27],[54,30,61,28],[55,4,62,2],[56,4,64,2],[56,8,64,6,"keyframeStyleData"],[56,25,64,23],[56,26,64,24],[56,28,64,26],[56,29,64,27],[56,30,64,28,"opacity"],[56,37,64,35],[56,42,64,40,"undefined"],[56,51,64,49],[56,53,64,51],[57,6,65,4,"opacityInStep"],[57,19,65,17],[57,20,65,18,"set"],[57,23,65,21],[57,24,65,22],[57,26,65,24],[57,28,65,26],[57,29,65,27],[57,30,65,28],[58,6,66,4,"opacityInStep"],[58,19,66,17],[58,20,66,18,"set"],[58,23,66,21],[58,24,66,22],[58,26,66,24],[58,28,66,26],[58,29,66,27],[58,30,66,28],[59,4,67,2],[60,4,69,2],[60,13,69,2,"_ref3"],[60,18,69,2],[60,22,69,32,"opacityInStep"],[60,35,69,45],[60,37,69,47],[61,6,69,47],[61,10,69,47,"_ref4"],[61,15,69,47],[61,22,69,47,"_slicedToArray"],[61,36,69,47],[61,37,69,47,"default"],[61,44,69,47],[61,46,69,47,"_ref3"],[61,51,69,47],[62,6,69,47],[62,10,69,14,"step"],[62,14,69,18],[62,17,69,18,"_ref4"],[62,22,69,18],[63,6,69,18],[63,10,69,20,"opacity"],[63,17,69,27],[63,20,69,27,"_ref4"],[63,25,69,27],[64,6,70,4,"keyframeStyleData"],[64,23,70,21],[64,24,70,22,"step"],[64,28,70,26],[64,29,70,27],[64,32,70,30],[65,8,71,6],[65,11,71,9,"keyframeStyleData"],[65,28,71,26],[65,29,71,27,"step"],[65,33,71,31],[65,34,71,32],[66,8,72,6,"opacity"],[67,6,73,4],[67,7,73,5],[68,4,74,2],[69,2,75,0],[70,2,77,7],[70,11,77,16,"EntryExitTransition"],[70,30,77,35,"EntryExitTransition"],[70,31,78,2,"name"],[70,35,78,14],[70,37,79,2,"transitionData"],[70,51,79,32],[70,53,80,2],[71,4,81,2],[71,8,81,8,"exitingAnimationData"],[71,28,81,28],[71,31,81,31,"structuredClone"],[71,46,81,46],[71,47,82,4,"AnimationsData"],[71,54,82,18],[71,55,82,18,"AnimationsData"],[71,69,82,18],[71,70,82,19,"transitionData"],[71,84,82,33],[71,85,82,34,"exiting"],[71,92,82,41],[71,93,83,2],[71,94,83,3],[72,4,84,2],[72,8,84,8,"enteringAnimationData"],[72,29,84,29],[72,32,84,32,"structuredClone"],[72,47,84,47],[72,48,85,4,"AnimationsData"],[72,55,85,18],[72,56,85,18,"AnimationsData"],[72,70,85,18],[72,71,85,19,"transitionData"],[72,85,85,33],[72,86,85,34,"entering"],[72,94,85,42],[72,95,86,2],[72,96,86,3],[73,4,88,2],[73,8,88,8,"additionalExitingData"],[73,29,88,44],[73,32,88,47],[74,6,89,4,"translateX"],[74,16,89,14],[74,18,89,16],[74,21,89,19,"transitionData"],[74,35,89,33],[74,36,89,34,"translateX"],[74,46,89,44],[74,50,89,48],[75,6,90,4,"translateY"],[75,16,90,14],[75,18,90,16],[75,21,90,19,"transitionData"],[75,35,90,33],[75,36,90,34,"translateY"],[75,46,90,44],[75,50,90,48],[76,6,91,4,"scale"],[76,11,91,9],[76,13,91,11],[76,16,91,14,"transitionData"],[76,30,91,28],[76,31,91,29,"scaleX"],[76,37,91,35],[76,41,91,39,"transitionData"],[76,55,91,53],[76,56,91,54,"scaleY"],[76,62,91,60],[77,4,92,2],[77,5,92,3],[78,4,94,2],[78,8,94,8,"additionalEnteringData"],[78,30,94,45],[78,33,94,48],[79,6,95,4,"translateX"],[79,16,95,14],[79,18,95,16],[79,23,95,21],[80,6,96,4,"translateY"],[80,16,96,14],[80,18,96,16],[80,23,96,21],[81,6,97,4,"scale"],[81,11,97,9],[81,13,97,11],[82,4,98,2],[82,5,98,3],[83,4,100,2],[83,8,100,8,"keyframeData"],[83,20,100,35],[83,23,100,38],[84,6,101,4,"name"],[84,10,101,8],[85,6,102,4,"style"],[85,11,102,9],[85,13,102,11],[85,14,102,12],[85,15,102,13],[86,6,103,4,"duration"],[86,14,103,12],[86,16,103,14],[87,4,104,2],[87,5,104,3],[88,4,106,2,"addTransformToKeepPosition"],[88,30,106,28],[88,31,107,4,"keyframeData"],[88,43,107,16],[88,44,107,17,"style"],[88,49,107,22],[88,51,108,4,"exitingAnimationData"],[88,71,108,24],[88,72,108,25,"style"],[88,77,108,30],[88,79,109,4,"additionalExitingData"],[88,100,109,25],[88,102,110,4],[88,106,111,2],[88,107,111,3],[89,4,113,2,"addTransformToKeepPosition"],[89,30,113,28],[89,31,114,4,"keyframeData"],[89,43,114,16],[89,44,114,17,"style"],[89,49,114,22],[89,51,115,4,"enteringAnimationData"],[89,72,115,25],[89,73,115,26,"style"],[89,78,115,31],[89,80,116,4,"additionalEnteringData"],[89,102,116,26],[89,104,117,4],[89,109,118,2],[89,110,118,3],[90,4,120,2,"hideComponentBetweenAnimations"],[90,34,120,32],[90,35,120,33,"keyframeData"],[90,47,120,45],[90,48,120,46,"style"],[90,53,120,51],[90,54,120,52],[91,4,122,2],[91,11,122,9,"keyframeData"],[91,23,122,21],[92,2,123,0],[93,0,123,1],[93,3]],"functionMap":{"names":["<global>","addTransformToKeepPosition","hideComponentBetweenAnimations","EntryExitTransition"],"mappings":"AAA;ACqB;CDsB;AEQ;CFuB;OGE;CH8C"},"hasCjsExports":false},"type":"js/module"}]}