{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./Sensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":188},"end":{"line":11,"column":30,"index":218}}],"key":"jCsiDNYCRGC49K/Yw6RxNrvQaN8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SensorContainer\", {\n    enumerable: true,\n    get: function () {\n      return SensorContainer;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _Sensor = require(_dependencyMap[2]);\n  var Sensor = _interopDefault(_Sensor);\n  var SensorContainer = /*#__PURE__*/function () {\n    function SensorContainer() {\n      (0, _classCallCheck.default)(this, SensorContainer);\n      this.nativeSensors = new Map();\n    }\n    return (0, _createClass.default)(SensorContainer, [{\n      key: \"getSensorId\",\n      value: function getSensorId(sensorType, config) {\n        return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n      }\n    }, {\n      key: \"initializeSensor\",\n      value: function initializeSensor(sensorType, config) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          var newSensor = new Sensor.default(sensorType, config);\n          this.nativeSensors.set(sensorId, newSensor);\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        return sensor.getSharedValue();\n      }\n    }, {\n      key: \"registerSensor\",\n      value: function registerSensor(sensorType, config, handler) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          return -1;\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n          sensor.listenersNumber++;\n          return sensorId;\n        }\n        return -1;\n      }\n    }, {\n      key: \"unregisterSensor\",\n      value: function unregisterSensor(sensorId) {\n        if (this.nativeSensors.has(sensorId)) {\n          var sensor = this.nativeSensors.get(sensorId);\n          if (sensor && sensor.isRunning()) {\n            sensor.listenersNumber--;\n            if (sensor.listenersNumber === 0) {\n              sensor.unregister();\n            }\n          }\n        }\n      }\n    }]);\n  }();\n});","lineCount":74,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,13,0,"Object"],[12,8,13,0],[12,9,13,0,"defineProperty"],[12,23,13,0],[12,24,13,0,"exports"],[12,31,13,0],[13,4,13,0,"enumerable"],[13,14,13,0],[14,4,13,0,"get"],[14,7,13,0],[14,18,13,0,"get"],[14,19,13,0],[15,6,13,0],[15,13,13,0,"SensorContainer"],[15,28,13,0],[16,4,13,0],[17,2,13,0],[18,2,73,1],[18,6,73,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,73,1],[18,43,73,1,"require"],[18,50,73,1],[18,51,73,1,"_dependencyMap"],[18,65,73,1],[19,2,73,1],[19,6,73,1,"_classCallCheck"],[19,21,73,1],[19,24,73,1,"_interopDefault"],[19,39,73,1],[19,40,73,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,73,1],[20,2,73,1],[20,6,73,1,"_babelRuntimeHelpersCreateClass"],[20,37,73,1],[20,40,73,1,"require"],[20,47,73,1],[20,48,73,1,"_dependencyMap"],[20,62,73,1],[21,2,73,1],[21,6,73,1,"_createClass"],[21,18,73,1],[21,21,73,1,"_interopDefault"],[21,36,73,1],[21,37,73,1,"_babelRuntimeHelpersCreateClass"],[21,68,73,1],[22,2,11,0],[22,6,11,0,"_Sensor"],[22,13,11,0],[22,16,11,0,"require"],[22,23,11,0],[22,24,11,0,"_dependencyMap"],[22,38,11,0],[23,2,11,0],[23,6,11,0,"Sensor"],[23,12,11,0],[23,15,11,0,"_interopDefault"],[23,30,11,0],[23,31,11,0,"_Sensor"],[23,38,11,0],[24,2,11,30],[24,6,13,13,"SensorContainer"],[24,21,13,28],[25,4,13,28],[25,13,13,28,"SensorContainer"],[25,29,13,28],[26,6,13,28],[26,10,13,28,"_classCallCheck"],[26,25,13,28],[26,26,13,28,"default"],[26,33,13,28],[26,41,13,28,"SensorContainer"],[26,56,13,28],[27,6,13,28],[27,11,14,10,"nativeSensors"],[27,24,14,23],[27,27,14,47],[27,31,14,51,"Map"],[27,34,14,54],[27,35,14,55],[27,36,14,56],[28,4,14,56],[29,4,14,56],[29,15,14,56,"_createClass"],[29,27,14,56],[29,28,14,56,"default"],[29,35,14,56],[29,37,14,56,"SensorContainer"],[29,52,14,56],[30,6,14,56,"key"],[30,9,14,56],[31,6,14,56,"value"],[31,11,14,56],[31,13,16,2],[31,22,16,2,"getSensorId"],[31,33,16,13,"getSensorId"],[31,34,16,14,"sensorType"],[31,44,16,36],[31,46,16,38,"config"],[31,52,16,58],[31,54,16,60],[32,8,17,4],[32,15,18,6,"sensorType"],[32,25,18,16],[32,28,18,19],[32,31,18,22],[32,34,19,6,"config"],[32,40,19,12],[32,41,19,13,"iosReferenceFrame"],[32,58,19,30],[32,61,19,33],[32,63,19,35],[32,66,20,6,"Number"],[32,72,20,12],[32,73,20,13,"config"],[32,79,20,19],[32,80,20,20,"adjustToInterfaceOrientation"],[32,108,20,48],[32,109,20,49],[33,6,22,2],[34,4,22,3],[35,6,22,3,"key"],[35,9,22,3],[36,6,22,3,"value"],[36,11,22,3],[36,13,24,2],[36,22,24,2,"initializeSensor"],[36,38,24,18,"initializeSensor"],[36,39,25,4,"sensorType"],[36,49,25,26],[36,51,26,4,"config"],[36,57,26,24],[36,59,27,42],[37,8,28,4],[37,12,28,10,"sensorId"],[37,20,28,18],[37,23,28,21],[37,27,28,25],[37,28,28,26,"getSensorId"],[37,39,28,37],[37,40,28,38,"sensorType"],[37,50,28,48],[37,52,28,50,"config"],[37,58,28,56],[37,59,28,57],[38,8,30,4],[38,12,30,8],[38,13,30,9],[38,17,30,13],[38,18,30,14,"nativeSensors"],[38,31,30,27],[38,32,30,28,"has"],[38,35,30,31],[38,36,30,32,"sensorId"],[38,44,30,40],[38,45,30,41],[38,47,30,43],[39,10,31,6],[39,14,31,12,"newSensor"],[39,23,31,21],[39,26,31,24],[39,30,31,28,"Sensor"],[39,36,31,34],[39,37,31,34,"default"],[39,44,31,34],[39,45,31,35,"sensorType"],[39,55,31,45],[39,57,31,47,"config"],[39,63,31,53],[39,64,31,54],[40,10,32,6],[40,14,32,10],[40,15,32,11,"nativeSensors"],[40,28,32,24],[40,29,32,25,"set"],[40,32,32,28],[40,33,32,29,"sensorId"],[40,41,32,37],[40,43,32,39,"newSensor"],[40,52,32,48],[40,53,32,49],[41,8,33,4],[42,8,35,4],[42,12,35,10,"sensor"],[42,18,35,16],[42,21,35,19],[42,25,35,23],[42,26,35,24,"nativeSensors"],[42,39,35,37],[42,40,35,38,"get"],[42,43,35,41],[42,44,35,42,"sensorId"],[42,52,35,50],[42,53,35,51],[43,8,36,4],[43,15,36,11,"sensor"],[43,21,36,17],[43,22,36,19,"getSharedValue"],[43,36,36,33],[43,37,36,34],[43,38,36,35],[44,6,37,2],[45,4,37,3],[46,6,37,3,"key"],[46,9,37,3],[47,6,37,3,"value"],[47,11,37,3],[47,13,39,2],[47,22,39,2,"registerSensor"],[47,36,39,16,"registerSensor"],[47,37,40,4,"sensorType"],[47,47,40,26],[47,49,41,4,"config"],[47,55,41,24],[47,57,42,4,"handler"],[47,64,42,69],[47,66,43,12],[48,8,44,4],[48,12,44,10,"sensorId"],[48,20,44,18],[48,23,44,21],[48,27,44,25],[48,28,44,26,"getSensorId"],[48,39,44,37],[48,40,44,38,"sensorType"],[48,50,44,48],[48,52,44,50,"config"],[48,58,44,56],[48,59,44,57],[49,8,46,4],[49,12,46,8],[49,13,46,9],[49,17,46,13],[49,18,46,14,"nativeSensors"],[49,31,46,27],[49,32,46,28,"has"],[49,35,46,31],[49,36,46,32,"sensorId"],[49,44,46,40],[49,45,46,41],[49,47,46,43],[50,10,47,6],[51,8,48,4],[52,8,50,4],[52,12,50,10,"sensor"],[52,18,50,16],[52,21,50,19],[52,25,50,23],[52,26,50,24,"nativeSensors"],[52,39,50,37],[52,40,50,38,"get"],[52,43,50,41],[52,44,50,42,"sensorId"],[52,52,50,50],[52,53,50,51],[53,8,51,4],[53,12,52,6,"sensor"],[53,18,52,12],[53,22,53,6,"sensor"],[53,28,53,12],[53,29,53,13,"isAvailable"],[53,40,53,24],[53,41,53,25],[53,42,53,26],[53,47,54,7,"sensor"],[53,53,54,13],[53,54,54,14,"isRunning"],[53,63,54,23],[53,64,54,24],[53,65,54,25],[53,69,54,29,"sensor"],[53,75,54,35],[53,76,54,36,"register"],[53,84,54,44],[53,85,54,45,"handler"],[53,92,54,52],[53,93,54,53],[53,94,54,54],[53,96,55,6],[54,10,56,6,"sensor"],[54,16,56,12],[54,17,56,13,"listenersNumber"],[54,32,56,28],[54,34,56,30],[55,10,57,6],[55,17,57,13,"sensorId"],[55,25,57,21],[56,8,58,4],[57,8,59,4],[58,6,60,2],[59,4,60,3],[60,6,60,3,"key"],[60,9,60,3],[61,6,60,3,"value"],[61,11,60,3],[61,13,62,2],[61,22,62,2,"unregisterSensor"],[61,38,62,18,"unregisterSensor"],[61,39,62,19,"sensorId"],[61,47,62,35],[61,49,62,37],[62,8,63,4],[62,12,63,8],[62,16,63,12],[62,17,63,13,"nativeSensors"],[62,30,63,26],[62,31,63,27,"has"],[62,34,63,30],[62,35,63,31,"sensorId"],[62,43,63,39],[62,44,63,40],[62,46,63,42],[63,10,64,6],[63,14,64,12,"sensor"],[63,20,64,18],[63,23,64,21],[63,27,64,25],[63,28,64,26,"nativeSensors"],[63,41,64,39],[63,42,64,40,"get"],[63,45,64,43],[63,46,64,44,"sensorId"],[63,54,64,52],[63,55,64,53],[64,10,65,6],[64,14,65,10,"sensor"],[64,20,65,16],[64,24,65,20,"sensor"],[64,30,65,26],[64,31,65,27,"isRunning"],[64,40,65,36],[64,41,65,37],[64,42,65,38],[64,44,65,40],[65,12,66,8,"sensor"],[65,18,66,14],[65,19,66,15,"listenersNumber"],[65,34,66,30],[65,36,66,32],[66,12,67,8],[66,16,67,12,"sensor"],[66,22,67,18],[66,23,67,19,"listenersNumber"],[66,38,67,34],[66,43,67,39],[66,44,67,40],[66,46,67,42],[67,14,68,10,"sensor"],[67,20,68,16],[67,21,68,17,"unregister"],[67,31,68,27],[67,32,68,28],[67,33,68,29],[68,12,69,8],[69,10,70,6],[70,8,71,4],[71,6,72,2],[72,4,72,3],[73,2,72,3],[74,0,72,3],[74,3]],"functionMap":{"names":["<global>","SensorContainer","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA;OCY;ECG;GDM;EEE;GFa;EGE;GHqB;EIE;GJU;CDC"},"hasCjsExports":false},"type":"js/module"}]}