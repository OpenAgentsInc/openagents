{"dependencies":[{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":48,"index":62}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"prepareUIRegistry\", {\n    enumerable: true,\n    get: function () {\n      return prepareUIRegistry;\n    }\n  });\n  var _reactNativeWorklets = require(_dependencyMap[0]);\n  var _worklet_11558610035251_init_data = {\n    code: \"function reactNativeReanimated_FrameCallbackRegistryUITs1(){const frameCallbackRegistry={frameCallbackRegistry:new Map(),activeFrameCallbacks:new Set(),previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(callId){var _this=this;const loop=function(timestamp){if(callId!==_this.nextCallId){return;}if(_this.previousFrameTimestamp===null){_this.previousFrameTimestamp=timestamp;}const delta=timestamp-_this.previousFrameTimestamp;_this.activeFrameCallbacks.forEach(function(callbackId){const callbackDetails=_this.frameCallbackRegistry.get(callbackId);const{startTime:startTime}=callbackDetails;if(startTime===null){callbackDetails.startTime=timestamp;callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:null,timeSinceFirstFrame:0});}else{callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:delta,timeSinceFirstFrame:timestamp-startTime});}});if(_this.activeFrameCallbacks.size>0){_this.previousFrameTimestamp=timestamp;requestAnimationFrame(loop);}else{_this.previousFrameTimestamp=null;}};if(this.activeFrameCallbacks.size===1&&callId===this.nextCallId){requestAnimationFrame(loop);}},registerFrameCallback:function(callback,callbackId){this.frameCallbackRegistry.set(callbackId,{callback:callback,startTime:null});},unregisterFrameCallback:function(callbackId){this.manageStateFrameCallback(callbackId,false);this.frameCallbackRegistry.delete(callbackId);},manageStateFrameCallback:function(callbackId,state){if(callbackId===-1){return;}if(state){if(!this.activeFrameCallbacks.has(callbackId)){this.activeFrameCallbacks.add(callbackId);this.runCallbacks(this.nextCallId);}}else{const callback=this.frameCallbackRegistry.get(callbackId);callback.startTime=null;this.activeFrameCallbacks.delete(callbackId);if(this.activeFrameCallbacks.size===0){this.nextCallId+=1;}}}};global._frameCallbackRegistry=frameCallbackRegistry;}\"\n  };\n  var prepareUIRegistry = (0, _reactNativeWorklets.runOnUI)(function reactNativeReanimated_FrameCallbackRegistryUITs1Factory(_ref) {\n    var _worklet_11558610035251_init_data = _ref._worklet_11558610035251_init_data;\n    var reactNativeReanimated_FrameCallbackRegistryUITs1 = function () {\n      var frameCallbackRegistry = {\n        frameCallbackRegistry: new Map(),\n        activeFrameCallbacks: new Set(),\n        previousFrameTimestamp: null,\n        nextCallId: 0,\n        runCallbacks(callId) {\n          var loop = timestamp => {\n            if (callId !== this.nextCallId) {\n              return;\n            }\n            if (this.previousFrameTimestamp === null) {\n              this.previousFrameTimestamp = timestamp;\n            }\n            var delta = timestamp - this.previousFrameTimestamp;\n            this.activeFrameCallbacks.forEach(callbackId => {\n              var callbackDetails = this.frameCallbackRegistry.get(callbackId);\n              var startTime = callbackDetails.startTime;\n              if (startTime === null) {\n                // First frame\n                callbackDetails.startTime = timestamp;\n                callbackDetails.callback({\n                  timestamp,\n                  timeSincePreviousFrame: null,\n                  timeSinceFirstFrame: 0\n                });\n              } else {\n                // Next frame\n                callbackDetails.callback({\n                  timestamp,\n                  timeSincePreviousFrame: delta,\n                  timeSinceFirstFrame: timestamp - startTime\n                });\n              }\n            });\n            if (this.activeFrameCallbacks.size > 0) {\n              this.previousFrameTimestamp = timestamp;\n              requestAnimationFrame(loop);\n            } else {\n              this.previousFrameTimestamp = null;\n            }\n          };\n\n          // runCallback() should only be called after registering a callback,\n          // so if there is only one active callback, then it means that there were\n          // zero previously and the loop isn't running yet.\n          if (this.activeFrameCallbacks.size === 1 && callId === this.nextCallId) {\n            requestAnimationFrame(loop);\n          }\n        },\n        registerFrameCallback(callback, callbackId) {\n          this.frameCallbackRegistry.set(callbackId, {\n            callback,\n            startTime: null\n          });\n        },\n        unregisterFrameCallback(callbackId) {\n          this.manageStateFrameCallback(callbackId, false);\n          this.frameCallbackRegistry.delete(callbackId);\n        },\n        manageStateFrameCallback(callbackId, state) {\n          if (callbackId === -1) {\n            return;\n          }\n          if (state) {\n            if (!this.activeFrameCallbacks.has(callbackId)) {\n              this.activeFrameCallbacks.add(callbackId);\n              this.runCallbacks(this.nextCallId);\n            }\n          } else {\n            var callback = this.frameCallbackRegistry.get(callbackId);\n            callback.startTime = null;\n            this.activeFrameCallbacks.delete(callbackId);\n            if (this.activeFrameCallbacks.size === 0) {\n              this.nextCallId += 1;\n            }\n          }\n        }\n      };\n      global._frameCallbackRegistry = frameCallbackRegistry;\n    };\n    reactNativeReanimated_FrameCallbackRegistryUITs1.__closure = {};\n    reactNativeReanimated_FrameCallbackRegistryUITs1.__workletHash = 11558610035251;\n    reactNativeReanimated_FrameCallbackRegistryUITs1.__initData = _worklet_11558610035251_init_data;\n    return reactNativeReanimated_FrameCallbackRegistryUITs1;\n  }({\n    _worklet_11558610035251_init_data\n  }));\n});","lineCount":107,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,29,0,"Object"],[7,8,29,0],[7,9,29,0,"defineProperty"],[7,23,29,0],[7,24,29,0,"exports"],[7,31,29,0],[8,4,29,0,"enumerable"],[8,14,29,0],[9,4,29,0,"get"],[9,7,29,0],[9,18,29,0,"get"],[9,19,29,0],[10,6,29,0],[10,13,29,0,"prepareUIRegistry"],[10,30,29,0],[11,4,29,0],[12,2,29,0],[13,2,2,0],[13,6,2,0,"_reactNativeWorklets"],[13,26,2,0],[13,29,2,0,"require"],[13,36,2,0],[13,37,2,0,"_dependencyMap"],[13,51,2,0],[14,2,2,48],[14,6,2,48,"_worklet_11558610035251_init_data"],[14,39,2,48],[15,4,2,48,"code"],[15,8,2,48],[16,2,2,48],[17,2,29,7],[17,6,29,13,"prepareUIRegistry"],[17,23,29,30],[17,26,29,33],[17,30,29,33,"runOnUI"],[17,50,29,40],[17,51,29,40,"runOnUI"],[17,58,29,40],[17,60,29,41],[17,69,29,41,"reactNativeReanimated_FrameCallbackRegistryUITs1Factory"],[17,125,29,41,"_ref"],[17,129,29,41],[18,4,29,41],[18,8,29,41,"_worklet_11558610035251_init_data"],[18,41,29,41],[18,44,29,41,"_ref"],[18,48,29,41],[18,49,29,41,"_worklet_11558610035251_init_data"],[18,82,29,41],[19,4,29,41],[19,8,29,41,"reactNativeReanimated_FrameCallbackRegistryUITs1"],[19,56,29,41],[19,68,29,41,"reactNativeReanimated_FrameCallbackRegistryUITs1"],[19,69,29,41],[19,71,29,47],[20,6,32,2],[20,10,32,8,"frameCallbackRegistry"],[20,31,32,54],[20,34,32,57],[21,8,33,4,"frameCallbackRegistry"],[21,29,33,25],[21,31,33,27],[21,35,33,31,"Map"],[21,38,33,34],[21,39,33,60],[21,40,33,61],[22,8,34,4,"activeFrameCallbacks"],[22,28,34,24],[22,30,34,26],[22,34,34,30,"Set"],[22,37,34,33],[22,38,34,42],[22,39,34,43],[23,8,35,4,"previousFrameTimestamp"],[23,30,35,26],[23,32,35,28],[23,36,35,32],[24,8,36,4,"nextCallId"],[24,18,36,14],[24,20,36,16],[24,21,36,17],[25,8,38,4,"runCallbacks"],[25,20,38,16,"runCallbacks"],[25,21,38,17,"callId"],[25,27,38,23],[25,29,38,25],[26,10,39,6],[26,14,39,12,"loop"],[26,18,39,16],[26,21,39,20,"timestamp"],[26,30,39,37],[26,34,39,42],[27,12,40,8],[27,16,40,12,"callId"],[27,22,40,18],[27,27,40,23],[27,31,40,27],[27,32,40,28,"nextCallId"],[27,42,40,38],[27,44,40,40],[28,14,41,10],[29,12,42,8],[30,12,43,8],[30,16,43,12],[30,20,43,16],[30,21,43,17,"previousFrameTimestamp"],[30,43,43,39],[30,48,43,44],[30,52,43,48],[30,54,43,50],[31,14,44,10],[31,18,44,14],[31,19,44,15,"previousFrameTimestamp"],[31,41,44,37],[31,44,44,40,"timestamp"],[31,53,44,49],[32,12,45,8],[33,12,47,8],[33,16,47,14,"delta"],[33,21,47,19],[33,24,47,22,"timestamp"],[33,33,47,31],[33,36,47,34],[33,40,47,38],[33,41,47,39,"previousFrameTimestamp"],[33,63,47,61],[34,12,49,8],[34,16,49,12],[34,17,49,13,"activeFrameCallbacks"],[34,37,49,33],[34,38,49,34,"forEach"],[34,45,49,41],[34,46,49,43,"callbackId"],[34,56,49,61],[34,60,49,66],[35,14,50,10],[35,18,50,16,"callbackDetails"],[35,33,50,31],[35,36,50,34],[35,40,50,38],[35,41,50,39,"frameCallbackRegistry"],[35,62,50,60],[35,63,50,61,"get"],[35,66,50,64],[35,67,50,65,"callbackId"],[35,77,50,75],[35,78,50,77],[36,14,52,10],[36,18,52,18,"startTime"],[36,27,52,27],[36,30,52,32,"callbackDetails"],[36,45,52,47],[36,46,52,18,"startTime"],[36,55,52,27],[37,14,54,10],[37,18,54,14,"startTime"],[37,27,54,23],[37,32,54,28],[37,36,54,32],[37,38,54,34],[38,16,55,12],[39,16,56,12,"callbackDetails"],[39,31,56,27],[39,32,56,28,"startTime"],[39,41,56,37],[39,44,56,40,"timestamp"],[39,53,56,49],[40,16,58,12,"callbackDetails"],[40,31,58,27],[40,32,58,28,"callback"],[40,40,58,36],[40,41,58,37],[41,18,59,14,"timestamp"],[41,27,59,23],[42,18,60,14,"timeSincePreviousFrame"],[42,40,60,36],[42,42,60,38],[42,46,60,42],[43,18,61,14,"timeSinceFirstFrame"],[43,37,61,33],[43,39,61,35],[44,16,62,12],[44,17,62,13],[44,18,62,14],[45,14,63,10],[45,15,63,11],[45,21,63,17],[46,16,64,12],[47,16,65,12,"callbackDetails"],[47,31,65,27],[47,32,65,28,"callback"],[47,40,65,36],[47,41,65,37],[48,18,66,14,"timestamp"],[48,27,66,23],[49,18,67,14,"timeSincePreviousFrame"],[49,40,67,36],[49,42,67,38,"delta"],[49,47,67,43],[50,18,68,14,"timeSinceFirstFrame"],[50,37,68,33],[50,39,68,35,"timestamp"],[50,48,68,44],[50,51,68,47,"startTime"],[51,16,69,12],[51,17,69,13],[51,18,69,14],[52,14,70,10],[53,12,71,8],[53,13,71,9],[53,14,71,10],[54,12,73,8],[54,16,73,12],[54,20,73,16],[54,21,73,17,"activeFrameCallbacks"],[54,41,73,37],[54,42,73,38,"size"],[54,46,73,42],[54,49,73,45],[54,50,73,46],[54,52,73,48],[55,14,74,10],[55,18,74,14],[55,19,74,15,"previousFrameTimestamp"],[55,41,74,37],[55,44,74,40,"timestamp"],[55,53,74,49],[56,14,75,10,"requestAnimationFrame"],[56,35,75,31],[56,36,75,32,"loop"],[56,40,75,36],[56,41,75,37],[57,12,76,8],[57,13,76,9],[57,19,76,15],[58,14,77,10],[58,18,77,14],[58,19,77,15,"previousFrameTimestamp"],[58,41,77,37],[58,44,77,40],[58,48,77,44],[59,12,78,8],[60,10,79,6],[60,11,79,7],[62,10,81,6],[63,10,82,6],[64,10,83,6],[65,10,84,6],[65,14,84,10],[65,18,84,14],[65,19,84,15,"activeFrameCallbacks"],[65,39,84,35],[65,40,84,36,"size"],[65,44,84,40],[65,49,84,45],[65,50,84,46],[65,54,84,50,"callId"],[65,60,84,56],[65,65,84,61],[65,69,84,65],[65,70,84,66,"nextCallId"],[65,80,84,76],[65,82,84,78],[66,12,85,8,"requestAnimationFrame"],[66,33,85,29],[66,34,85,30,"loop"],[66,38,85,34],[66,39,85,35],[67,10,86,6],[68,8,87,4],[68,9,87,5],[69,8,89,4,"registerFrameCallback"],[69,29,89,25,"registerFrameCallback"],[69,30,90,6,"callback"],[69,38,90,46],[69,40,91,6,"callbackId"],[69,50,91,24],[69,52,92,6],[70,10,93,6],[70,14,93,10],[70,15,93,11,"frameCallbackRegistry"],[70,36,93,32],[70,37,93,33,"set"],[70,40,93,36],[70,41,93,37,"callbackId"],[70,51,93,47],[70,53,93,49],[71,12,94,8,"callback"],[71,20,94,16],[72,12,95,8,"startTime"],[72,21,95,17],[72,23,95,19],[73,10,96,6],[73,11,96,7],[73,12,96,8],[74,8,97,4],[74,9,97,5],[75,8,99,4,"unregisterFrameCallback"],[75,31,99,27,"unregisterFrameCallback"],[75,32,99,28,"callbackId"],[75,42,99,46],[75,44,99,48],[76,10,100,6],[76,14,100,10],[76,15,100,11,"manageStateFrameCallback"],[76,39,100,35],[76,40,100,36,"callbackId"],[76,50,100,46],[76,52,100,48],[76,57,100,53],[76,58,100,54],[77,10,101,6],[77,14,101,10],[77,15,101,11,"frameCallbackRegistry"],[77,36,101,32],[77,37,101,33,"delete"],[77,43,101,39],[77,44,101,40,"callbackId"],[77,54,101,50],[77,55,101,51],[78,8,102,4],[78,9,102,5],[79,8,104,4,"manageStateFrameCallback"],[79,32,104,28,"manageStateFrameCallback"],[79,33,104,29,"callbackId"],[79,43,104,47],[79,45,104,49,"state"],[79,50,104,63],[79,52,104,65],[80,10,105,6],[80,14,105,10,"callbackId"],[80,24,105,20],[80,31,105,27],[80,33,105,29],[81,12,106,8],[82,10,107,6],[83,10,108,6],[83,14,108,10,"state"],[83,19,108,15],[83,21,108,17],[84,12,109,8],[84,16,109,12],[84,17,109,13],[84,21,109,17],[84,22,109,18,"activeFrameCallbacks"],[84,42,109,38],[84,43,109,39,"has"],[84,46,109,42],[84,47,109,43,"callbackId"],[84,57,109,53],[84,58,109,54],[84,60,109,56],[85,14,110,10],[85,18,110,14],[85,19,110,15,"activeFrameCallbacks"],[85,39,110,35],[85,40,110,36,"add"],[85,43,110,39],[85,44,110,40,"callbackId"],[85,54,110,50],[85,55,110,51],[86,14,111,10],[86,18,111,14],[86,19,111,15,"runCallbacks"],[86,31,111,27],[86,32,111,28],[86,36,111,32],[86,37,111,33,"nextCallId"],[86,47,111,43],[86,48,111,44],[87,12,112,8],[88,10,113,6],[88,11,113,7],[88,17,113,13],[89,12,114,8],[89,16,114,14,"callback"],[89,24,114,22],[89,27,114,25],[89,31,114,29],[89,32,114,30,"frameCallbackRegistry"],[89,53,114,51],[89,54,114,52,"get"],[89,57,114,55],[89,58,114,56,"callbackId"],[89,68,114,66],[89,69,114,68],[90,12,115,8,"callback"],[90,20,115,16],[90,21,115,17,"startTime"],[90,30,115,26],[90,33,115,29],[90,37,115,33],[91,12,117,8],[91,16,117,12],[91,17,117,13,"activeFrameCallbacks"],[91,37,117,33],[91,38,117,34,"delete"],[91,44,117,40],[91,45,117,41,"callbackId"],[91,55,117,51],[91,56,117,52],[92,12,118,8],[92,16,118,12],[92,20,118,16],[92,21,118,17,"activeFrameCallbacks"],[92,41,118,37],[92,42,118,38,"size"],[92,46,118,42],[92,51,118,47],[92,52,118,48],[92,54,118,50],[93,14,119,10],[93,18,119,14],[93,19,119,15,"nextCallId"],[93,29,119,25],[93,33,119,29],[93,34,119,30],[94,12,120,8],[95,10,121,6],[96,8,122,4],[97,6,123,2],[97,7,123,3],[98,6,125,2,"global"],[98,12,125,8],[98,13,125,9,"_frameCallbackRegistry"],[98,35,125,31],[98,38,125,34,"frameCallbackRegistry"],[98,59,125,55],[99,4,126,0],[99,5,126,1],[100,4,126,1,"reactNativeReanimated_FrameCallbackRegistryUITs1"],[100,52,126,1],[100,53,126,1,"__closure"],[100,62,126,1],[101,4,126,1,"reactNativeReanimated_FrameCallbackRegistryUITs1"],[101,52,126,1],[101,53,126,1,"__workletHash"],[101,66,126,1],[102,4,126,1,"reactNativeReanimated_FrameCallbackRegistryUITs1"],[102,52,126,1],[102,53,126,1,"__initData"],[102,63,126,1],[102,66,126,1,"_worklet_11558610035251_init_data"],[102,99,126,1],[103,4,126,1],[103,11,126,1,"reactNativeReanimated_FrameCallbackRegistryUITs1"],[103,59,126,1],[104,2,126,1],[104,3,29,41],[105,4,29,41,"_worklet_11558610035251_init_data"],[106,2,29,41],[106,4,126,1],[106,5,126,2],[107,0,126,3],[107,3]],"functionMap":{"names":["<global>","runOnUI$argument_0","frameCallbackRegistry.runCallbacks","loop","activeFrameCallbacks.forEach$argument_0","frameCallbackRegistry.registerFrameCallback","frameCallbackRegistry.unregisterFrameCallback","frameCallbackRegistry.manageStateFrameCallback"],"mappings":"AAA;yCC4B;ICS;mBCC;0CCU;SDsB;ODQ;KDQ;IIE;KJQ;IKE;KLG;IME;KNkB;CDI"},"hasCjsExports":false},"type":"js/module"}]}