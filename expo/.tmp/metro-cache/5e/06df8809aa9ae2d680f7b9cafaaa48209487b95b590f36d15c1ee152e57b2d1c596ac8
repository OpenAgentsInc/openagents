{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"PressableStateMachine\", {\n    enumerable: true,\n    get: function () {\n      return PressableStateMachine;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var PressableStateMachine = /*#__PURE__*/function () {\n    function PressableStateMachine() {\n      (0, _classCallCheck.default)(this, PressableStateMachine);\n      this.states = null;\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    return (0, _createClass.default)(PressableStateMachine, [{\n      key: \"setStates\",\n      value: function setStates(states) {\n        this.states = states;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.currentStepIndex = 0;\n        this.eventPayload = null;\n      }\n    }, {\n      key: \"handleEvent\",\n      value: function handleEvent(eventName, eventPayload) {\n        if (!this.states) {\n          return;\n        }\n        var step = this.states[this.currentStepIndex];\n        this.eventPayload = eventPayload || this.eventPayload;\n        if (step.eventName !== eventName) {\n          if (this.currentStepIndex > 0) {\n            // retry with position at index 0\n            this.reset();\n            this.handleEvent(eventName, eventPayload);\n          }\n          return;\n        }\n        if (this.eventPayload && step.callback) {\n          step.callback(this.eventPayload);\n        }\n        this.currentStepIndex++;\n        if (this.currentStepIndex === this.states.length) {\n          this.reset();\n        }\n      }\n    }]);\n  }();\n});","lineCount":66,"map":[[12,2,57,0,"Object"],[12,8,57,0],[12,9,57,0,"defineProperty"],[12,23,57,0],[12,24,57,0,"exports"],[12,31,57,0],[13,4,57,0,"enumerable"],[13,14,57,0],[14,4,57,0,"get"],[14,7,57,0],[14,18,57,0,"get"],[14,19,57,0],[15,6,57,0],[15,13,57,9,"PressableStateMachine"],[15,34,57,30],[16,4,57,30],[17,2,57,30],[18,2,57,33],[18,6,57,33,"_babelRuntimeHelpersClassCallCheck"],[18,40,57,33],[18,43,57,33,"require"],[18,50,57,33],[18,51,57,33,"_dependencyMap"],[18,65,57,33],[19,2,57,33],[19,6,57,33,"_classCallCheck"],[19,21,57,33],[19,24,57,33,"_interopDefault"],[19,39,57,33],[19,40,57,33,"_babelRuntimeHelpersClassCallCheck"],[19,74,57,33],[20,2,57,33],[20,6,57,33,"_babelRuntimeHelpersCreateClass"],[20,37,57,33],[20,40,57,33,"require"],[20,47,57,33],[20,48,57,33,"_dependencyMap"],[20,62,57,33],[21,2,57,33],[21,6,57,33,"_createClass"],[21,18,57,33],[21,21,57,33,"_interopDefault"],[21,36,57,33],[21,37,57,33,"_babelRuntimeHelpersCreateClass"],[21,68,57,33],[22,2,57,33],[22,6,8,6,"PressableStateMachine"],[22,27,8,27],[23,4,13,2],[23,13,13,2,"PressableStateMachine"],[23,35,13,2],[23,37,13,16],[24,6,13,16],[24,10,13,16,"_classCallCheck"],[24,25,13,16],[24,26,13,16,"default"],[24,33,13,16],[24,41,13,16,"PressableStateMachine"],[24,62,13,16],[25,6,14,4],[25,10,14,8],[25,11,14,9,"states"],[25,17,14,15],[25,20,14,18],[25,24,14,22],[26,6,15,4],[26,10,15,8],[26,11,15,9,"currentStepIndex"],[26,27,15,25],[26,30,15,28],[26,31,15,29],[27,6,16,4],[27,10,16,8],[27,11,16,9,"eventPayload"],[27,23,16,21],[27,26,16,24],[27,30,16,28],[28,4,17,2],[29,4,17,3],[29,15,17,3,"_createClass"],[29,27,17,3],[29,28,17,3,"default"],[29,35,17,3],[29,37,17,3,"PressableStateMachine"],[29,58,17,3],[30,6,17,3,"key"],[30,9,17,3],[31,6,17,3,"value"],[31,11,17,3],[31,13,19,2],[31,22,19,9,"setStates"],[31,31,19,18,"setStates"],[31,32,19,19,"states"],[31,38,19,44],[31,40,19,46],[32,8,20,4],[32,12,20,8],[32,13,20,9,"states"],[32,19,20,15],[32,22,20,18,"states"],[32,28,20,24],[33,6,21,2],[34,4,21,3],[35,6,21,3,"key"],[35,9,21,3],[36,6,21,3,"value"],[36,11,21,3],[36,13,23,2],[36,22,23,9,"reset"],[36,27,23,14,"reset"],[36,28,23,14],[36,30,23,17],[37,8,24,4],[37,12,24,8],[37,13,24,9,"currentStepIndex"],[37,29,24,25],[37,32,24,28],[37,33,24,29],[38,8,25,4],[38,12,25,8],[38,13,25,9,"eventPayload"],[38,25,25,21],[38,28,25,24],[38,32,25,28],[39,6,26,2],[40,4,26,3],[41,6,26,3,"key"],[41,9,26,3],[42,6,26,3,"value"],[42,11,26,3],[42,13,28,2],[42,22,28,9,"handleEvent"],[42,33,28,20,"handleEvent"],[42,34,28,21,"eventName"],[42,43,28,38],[42,45,28,40,"eventPayload"],[42,57,28,69],[42,59,28,71],[43,8,29,4],[43,12,29,8],[43,13,29,9],[43,17,29,13],[43,18,29,14,"states"],[43,24,29,20],[43,26,29,22],[44,10,30,6],[45,8,31,4],[46,8,33,4],[46,12,33,10,"step"],[46,16,33,14],[46,19,33,17],[46,23,33,21],[46,24,33,22,"states"],[46,30,33,28],[46,31,33,29],[46,35,33,33],[46,36,33,34,"currentStepIndex"],[46,52,33,50],[46,53,33,51],[47,8,34,4],[47,12,34,8],[47,13,34,9,"eventPayload"],[47,25,34,21],[47,28,34,24,"eventPayload"],[47,40,34,36],[47,44,34,40],[47,48,34,44],[47,49,34,45,"eventPayload"],[47,61,34,57],[48,8,36,4],[48,12,36,8,"step"],[48,16,36,12],[48,17,36,13,"eventName"],[48,26,36,22],[48,31,36,27,"eventName"],[48,40,36,36],[48,42,36,38],[49,10,37,6],[49,14,37,10],[49,18,37,14],[49,19,37,15,"currentStepIndex"],[49,35,37,31],[49,38,37,34],[49,39,37,35],[49,41,37,37],[50,12,38,8],[51,12,39,8],[51,16,39,12],[51,17,39,13,"reset"],[51,22,39,18],[51,23,39,19],[51,24,39,20],[52,12,40,8],[52,16,40,12],[52,17,40,13,"handleEvent"],[52,28,40,24],[52,29,40,25,"eventName"],[52,38,40,34],[52,40,40,36,"eventPayload"],[52,52,40,48],[52,53,40,49],[53,10,41,6],[54,10,42,6],[55,8,43,4],[56,8,45,4],[56,12,45,8],[56,16,45,12],[56,17,45,13,"eventPayload"],[56,29,45,25],[56,33,45,29,"step"],[56,37,45,33],[56,38,45,34,"callback"],[56,46,45,42],[56,48,45,44],[57,10,46,6,"step"],[57,14,46,10],[57,15,46,11,"callback"],[57,23,46,19],[57,24,46,20],[57,28,46,24],[57,29,46,25,"eventPayload"],[57,41,46,37],[57,42,46,38],[58,8,47,4],[59,8,49,4],[59,12,49,8],[59,13,49,9,"currentStepIndex"],[59,29,49,25],[59,31,49,27],[60,8,51,4],[60,12,51,8],[60,16,51,12],[60,17,51,13,"currentStepIndex"],[60,33,51,29],[60,38,51,34],[60,42,51,38],[60,43,51,39,"states"],[60,49,51,45],[60,50,51,46,"length"],[60,56,51,52],[60,58,51,54],[61,10,52,6],[61,14,52,10],[61,15,52,11,"reset"],[61,20,52,16],[61,21,52,17],[61,22,52,18],[62,8,53,4],[63,6,54,2],[64,4,54,3],[65,2,54,3],[66,0,54,3],[66,3]],"functionMap":{"names":["<global>","PressableStateMachine","PressableStateMachine#constructor","PressableStateMachine#setStates","PressableStateMachine#reset","PressableStateMachine#handleEvent"],"mappings":"AAA;ACO;ECK;GDI;EEE;GFE;EGE;GHG;EIE;GJ0B;CDC"},"hasCjsExports":false},"type":"js/module"}]}