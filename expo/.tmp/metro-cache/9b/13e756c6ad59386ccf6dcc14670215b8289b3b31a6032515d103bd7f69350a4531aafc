{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getActionFromState = getActionFromState;\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  function getActionFromState(state, options) {\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === normalizedConfig?.initialRouteName && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[state.index ?? state.routes.length - 1];\n    var current = route?.state;\n    var config = normalizedConfig?.screens?.[route?.name];\n    var params = {\n      ...route.params\n    };\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n\n    // If the screen contains a navigator, pop other screens to navigate to it\n    // This avoid pushing multiple instances of navigators onto a stack\n    //\n    // For example:\n    // - RootStack\n    //   - BottomTabs\n    //   - SomeScreen\n    //\n    // In this case, if deep linking to `BottomTabs`, we should pop `SomeScreen`\n    // Otherwise, we'll end up with 2 instances of `BottomTabs` in the stack\n    //\n    // There are 2 ways we can detect if a screen contains a navigator:\n    // - The route contains nested state in `route.state`\n    // - Nested screens are defined in the config\n    if (payload && config?.screens && Object.keys(config.screens).length) {\n      payload.pop = true;\n    }\n    while (current) {\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === config?.initialRouteName && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = {\n          ..._route.params\n        };\n        params.pop = true;\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = config?.screens?.[_route.name];\n      if (config?.screens && Object.keys(config.screens).length) {\n        params.pop = true;\n      }\n    }\n    if (payload?.params.screen || payload?.params.state) {\n      payload.pop = true;\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  var createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  var createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    var _ref2 = (0, _slicedToArray.default)(_ref, 2),\n      k = _ref2[0],\n      v = _ref2[1];\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":122,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,3,0,"exports"],[12,9,3,0],[12,10,3,0,"getActionFromState"],[12,28,3,0],[12,31,3,0,"getActionFromState"],[12,49,3,0],[13,2,98,1],[13,6,98,1,"_babelRuntimeHelpersSlicedToArray"],[13,39,98,1],[13,42,98,1,"require"],[13,49,98,1],[13,50,98,1,"_dependencyMap"],[13,64,98,1],[14,2,98,1],[14,6,98,1,"_slicedToArray"],[14,20,98,1],[14,23,98,1,"_interopDefault"],[14,38,98,1],[14,39,98,1,"_babelRuntimeHelpersSlicedToArray"],[14,72,98,1],[15,2,3,7],[15,11,3,16,"getActionFromState"],[15,29,3,34,"getActionFromState"],[15,30,3,35,"state"],[15,35,3,40],[15,37,3,42,"options"],[15,44,3,49],[15,46,3,51],[16,4,4,2],[17,4,5,2],[17,8,5,8,"normalizedConfig"],[17,24,5,24],[17,27,5,27,"options"],[17,34,5,34],[17,37,5,37,"createNormalizedConfigItem"],[17,63,5,63],[17,64,5,64,"options"],[17,71,5,71],[17,72,5,72],[17,75,5,75],[17,76,5,76],[17,77,5,77],[18,4,6,2],[18,8,6,8,"routes"],[18,14,6,14],[18,17,6,17,"state"],[18,22,6,22],[18,23,6,23,"index"],[18,28,6,28],[18,32,6,32],[18,36,6,36],[18,39,6,39,"state"],[18,44,6,44],[18,45,6,45,"routes"],[18,51,6,51],[18,52,6,52,"slice"],[18,57,6,57],[18,58,6,58],[18,59,6,59],[18,61,6,61,"state"],[18,66,6,66],[18,67,6,67,"index"],[18,72,6,72],[18,75,6,75],[18,76,6,76],[18,77,6,77],[18,80,6,80,"state"],[18,85,6,85],[18,86,6,86,"routes"],[18,92,6,92],[19,4,7,2],[19,8,7,6,"routes"],[19,14,7,12],[19,15,7,13,"length"],[19,21,7,19],[19,26,7,24],[19,27,7,25],[19,29,7,27],[20,6,8,4],[20,13,8,11,"undefined"],[20,22,8,20],[21,4,9,2],[22,4,10,2],[22,8,10,6],[22,10,10,8,"routes"],[22,16,10,14],[22,17,10,15,"length"],[22,23,10,21],[22,28,10,26],[22,29,10,27],[22,33,10,31,"routes"],[22,39,10,37],[22,40,10,38],[22,41,10,39],[22,42,10,40],[22,43,10,41,"key"],[22,46,10,44],[22,51,10,49,"undefined"],[22,60,10,58],[22,64,10,62,"routes"],[22,70,10,68],[22,71,10,69,"length"],[22,77,10,75],[22,82,10,80],[22,83,10,81],[22,87,10,85,"routes"],[22,93,10,91],[22,94,10,92],[22,95,10,93],[22,96,10,94],[22,97,10,95,"key"],[22,100,10,98],[22,105,10,103,"undefined"],[22,114,10,112],[22,118,10,116,"routes"],[22,124,10,122],[22,125,10,123],[22,126,10,124],[22,127,10,125],[22,128,10,126,"name"],[22,132,10,130],[22,137,10,135,"normalizedConfig"],[22,153,10,151],[22,155,10,153,"initialRouteName"],[22,171,10,169],[22,175,10,173,"routes"],[22,181,10,179],[22,182,10,180],[22,183,10,181],[22,184,10,182],[22,185,10,183,"key"],[22,188,10,186],[22,193,10,191,"undefined"],[22,202,10,200],[22,203,10,201],[22,205,10,203],[23,6,11,4],[23,13,11,11],[24,8,12,6,"type"],[24,12,12,10],[24,14,12,12],[24,21,12,19],[25,8,13,6,"payload"],[25,15,13,13],[25,17,13,15,"state"],[26,6,14,4],[26,7,14,5],[27,4,15,2],[28,4,16,2],[28,8,16,8,"route"],[28,13,16,13],[28,16,16,16,"state"],[28,21,16,21],[28,22,16,22,"routes"],[28,28,16,28],[28,29,16,29,"state"],[28,34,16,34],[28,35,16,35,"index"],[28,40,16,40],[28,44,16,44,"state"],[28,49,16,49],[28,50,16,50,"routes"],[28,56,16,56],[28,57,16,57,"length"],[28,63,16,63],[28,66,16,66],[28,67,16,67],[28,68,16,68],[29,4,17,2],[29,8,17,6,"current"],[29,15,17,13],[29,18,17,16,"route"],[29,23,17,21],[29,25,17,23,"state"],[29,30,17,28],[30,4,18,2],[30,8,18,6,"config"],[30,14,18,12],[30,17,18,15,"normalizedConfig"],[30,33,18,31],[30,35,18,33,"screens"],[30,42,18,40],[30,45,18,43,"route"],[30,50,18,48],[30,52,18,50,"name"],[30,56,18,54],[30,57,18,55],[31,4,19,2],[31,8,19,6,"params"],[31,14,19,12],[31,17,19,15],[32,6,20,4],[32,9,20,7,"route"],[32,14,20,12],[32,15,20,13,"params"],[33,4,21,2],[33,5,21,3],[34,4,22,2],[34,8,22,8,"payload"],[34,15,22,15],[34,18,22,18,"route"],[34,23,22,23],[34,26,22,26],[35,6,23,4,"name"],[35,10,23,8],[35,12,23,10,"route"],[35,17,23,15],[35,18,23,16,"name"],[35,22,23,20],[36,6,24,4,"path"],[36,10,24,8],[36,12,24,10,"route"],[36,17,24,15],[36,18,24,16,"path"],[36,22,24,20],[37,6,25,4,"params"],[38,4,26,2],[38,5,26,3],[38,8,26,6,"undefined"],[38,17,26,15],[40,4,28,2],[41,4,29,2],[42,4,30,2],[43,4,31,2],[44,4,32,2],[45,4,33,2],[46,4,34,2],[47,4,35,2],[48,4,36,2],[49,4,37,2],[50,4,38,2],[51,4,39,2],[52,4,40,2],[53,4,41,2],[54,4,42,2],[54,8,42,6,"payload"],[54,15,42,13],[54,19,42,17,"config"],[54,25,42,23],[54,27,42,25,"screens"],[54,34,42,32],[54,38,42,36,"Object"],[54,44,42,42],[54,45,42,43,"keys"],[54,49,42,47],[54,50,42,48,"config"],[54,56,42,54],[54,57,42,55,"screens"],[54,64,42,62],[54,65,42,63],[54,66,42,64,"length"],[54,72,42,70],[54,74,42,72],[55,6,43,4,"payload"],[55,13,43,11],[55,14,43,12,"pop"],[55,17,43,15],[55,20,43,18],[55,24,43,22],[56,4,44,2],[57,4,45,2],[57,11,45,9,"current"],[57,18,45,16],[57,20,45,18],[58,6,46,4],[58,10,46,8,"current"],[58,17,46,15],[58,18,46,16,"routes"],[58,24,46,22],[58,25,46,23,"length"],[58,31,46,29],[58,36,46,34],[58,37,46,35],[58,39,46,37],[59,8,47,6],[59,15,47,13,"undefined"],[59,24,47,22],[60,6,48,4],[61,6,49,4],[61,10,49,10,"routes"],[61,17,49,16],[61,20,49,19,"current"],[61,27,49,26],[61,28,49,27,"index"],[61,33,49,32],[61,37,49,36],[61,41,49,40],[61,44,49,43,"current"],[61,51,49,50],[61,52,49,51,"routes"],[61,58,49,57],[61,59,49,58,"slice"],[61,64,49,63],[61,65,49,64],[61,66,49,65],[61,68,49,67,"current"],[61,75,49,74],[61,76,49,75,"index"],[61,81,49,80],[61,84,49,83],[61,85,49,84],[61,86,49,85],[61,89,49,88,"current"],[61,96,49,95],[61,97,49,96,"routes"],[61,103,49,102],[62,6,50,4],[62,10,50,10,"route"],[62,16,50,15],[62,19,50,18,"routes"],[62,26,50,24],[62,27,50,25,"routes"],[62,34,50,31],[62,35,50,32,"length"],[62,41,50,38],[62,44,50,41],[62,45,50,42],[62,46,50,43],[64,6,52,4],[65,6,53,4,"Object"],[65,12,53,10],[65,13,53,11,"assign"],[65,19,53,17],[65,20,53,18,"params"],[65,26,53,24],[65,28,53,26],[66,8,54,6,"initial"],[66,15,54,13],[66,17,54,15,"undefined"],[66,26,54,24],[67,8,55,6,"screen"],[67,14,55,12],[67,16,55,14,"undefined"],[67,25,55,23],[68,8,56,6,"params"],[68,14,56,12],[68,16,56,14,"undefined"],[68,25,56,23],[69,8,57,6,"state"],[69,13,57,11],[69,15,57,13,"undefined"],[70,6,58,4],[70,7,58,5],[70,8,58,6],[71,6,59,4],[71,10,59,8,"routes"],[71,17,59,14],[71,18,59,15,"length"],[71,24,59,21],[71,29,59,26],[71,30,59,27],[71,34,59,31,"routes"],[71,41,59,37],[71,42,59,38],[71,43,59,39],[71,44,59,40],[71,45,59,41,"key"],[71,48,59,44],[71,53,59,49,"undefined"],[71,62,59,58],[71,64,59,60],[72,8,60,6,"params"],[72,14,60,12],[72,15,60,13,"initial"],[72,22,60,20],[72,25,60,23],[72,29,60,27],[73,8,61,6,"params"],[73,14,61,12],[73,15,61,13,"screen"],[73,21,61,19],[73,24,61,22,"route"],[73,30,61,27],[73,31,61,28,"name"],[73,35,61,32],[74,6,62,4],[74,7,62,5],[74,13,62,11],[74,17,62,15,"routes"],[74,24,62,21],[74,25,62,22,"length"],[74,31,62,28],[74,36,62,33],[74,37,62,34],[74,41,62,38,"routes"],[74,48,62,44],[74,49,62,45],[74,50,62,46],[74,51,62,47],[74,52,62,48,"key"],[74,55,62,51],[74,60,62,56,"undefined"],[74,69,62,65],[74,73,62,69,"routes"],[74,80,62,75],[74,81,62,76],[74,82,62,77],[74,83,62,78],[74,84,62,79,"name"],[74,88,62,83],[74,93,62,88,"config"],[74,99,62,94],[74,101,62,96,"initialRouteName"],[74,117,62,112],[74,121,62,116,"routes"],[74,128,62,122],[74,129,62,123],[74,130,62,124],[74,131,62,125],[74,132,62,126,"key"],[74,135,62,129],[74,140,62,134,"undefined"],[74,149,62,143],[74,151,62,145],[75,8,63,6,"params"],[75,14,63,12],[75,15,63,13,"initial"],[75,22,63,20],[75,25,63,23],[75,30,63,28],[76,8,64,6,"params"],[76,14,64,12],[76,15,64,13,"screen"],[76,21,64,19],[76,24,64,22,"route"],[76,30,64,27],[76,31,64,28,"name"],[76,35,64,32],[77,6,65,4],[77,7,65,5],[77,13,65,11],[78,8,66,6,"params"],[78,14,66,12],[78,15,66,13,"state"],[78,20,66,18],[78,23,66,21,"current"],[78,30,66,28],[79,8,67,6],[80,6,68,4],[81,6,69,4],[81,10,69,8,"route"],[81,16,69,13],[81,17,69,14,"state"],[81,22,69,19],[81,24,69,21],[82,8,70,6,"params"],[82,14,70,12],[82,15,70,13,"params"],[82,21,70,19],[82,24,70,22],[83,10,71,8],[83,13,71,11,"route"],[83,19,71,16],[83,20,71,17,"params"],[84,8,72,6],[84,9,72,7],[85,8,73,6,"params"],[85,14,73,12],[85,15,73,13,"pop"],[85,18,73,16],[85,21,73,19],[85,25,73,23],[86,8,74,6,"params"],[86,14,74,12],[86,17,74,15,"params"],[86,23,74,21],[86,24,74,22,"params"],[86,30,74,28],[87,6,75,4],[87,7,75,5],[87,13,75,11],[88,8,76,6,"params"],[88,14,76,12],[88,15,76,13,"path"],[88,19,76,17],[88,22,76,20,"route"],[88,28,76,25],[88,29,76,26,"path"],[88,33,76,30],[89,8,77,6,"params"],[89,14,77,12],[89,15,77,13,"params"],[89,21,77,19],[89,24,77,22,"route"],[89,30,77,27],[89,31,77,28,"params"],[89,37,77,34],[90,6,78,4],[91,6,79,4,"current"],[91,13,79,11],[91,16,79,14,"route"],[91,22,79,19],[91,23,79,20,"state"],[91,28,79,25],[92,6,80,4,"config"],[92,12,80,10],[92,15,80,13,"config"],[92,21,80,19],[92,23,80,21,"screens"],[92,30,80,28],[92,33,80,31,"route"],[92,39,80,36],[92,40,80,37,"name"],[92,44,80,41],[92,45,80,42],[93,6,81,4],[93,10,81,8,"config"],[93,16,81,14],[93,18,81,16,"screens"],[93,25,81,23],[93,29,81,27,"Object"],[93,35,81,33],[93,36,81,34,"keys"],[93,40,81,38],[93,41,81,39,"config"],[93,47,81,45],[93,48,81,46,"screens"],[93,55,81,53],[93,56,81,54],[93,57,81,55,"length"],[93,63,81,61],[93,65,81,63],[94,8,82,6,"params"],[94,14,82,12],[94,15,82,13,"pop"],[94,18,82,16],[94,21,82,19],[94,25,82,23],[95,6,83,4],[96,4,84,2],[97,4,85,2],[97,8,85,6,"payload"],[97,15,85,13],[97,17,85,15,"params"],[97,23,85,21],[97,24,85,22,"screen"],[97,30,85,28],[97,34,85,32,"payload"],[97,41,85,39],[97,43,85,41,"params"],[97,49,85,47],[97,50,85,48,"state"],[97,55,85,53],[97,57,85,55],[98,6,86,4,"payload"],[98,13,86,11],[98,14,86,12,"pop"],[98,17,86,15],[98,20,86,18],[98,24,86,22],[99,4,87,2],[100,4,88,2],[100,8,88,6],[100,9,88,7,"payload"],[100,16,88,14],[100,18,88,16],[101,6,89,4],[102,4,90,2],[104,4,92,2],[105,4,93,2],[106,4,94,2],[106,11,94,9],[107,6,95,4,"type"],[107,10,95,8],[107,12,95,10],[107,22,95,20],[108,6,96,4,"payload"],[109,4,97,2],[109,5,97,3],[110,2,98,0],[111,2,99,0],[111,6,99,6,"createNormalizedConfigItem"],[111,32,99,32],[111,35,99,35,"config"],[111,41,99,41],[111,45,99,45],[111,52,99,52,"config"],[111,58,99,58],[111,63,99,63],[111,71,99,71],[111,75,99,75,"config"],[111,81,99,81],[111,85,99,85],[111,89,99,89],[111,92,99,92],[112,4,100,2,"initialRouteName"],[112,20,100,18],[112,22,100,20,"config"],[112,28,100,26],[112,29,100,27,"initialRouteName"],[112,45,100,43],[113,4,101,2,"screens"],[113,11,101,9],[113,13,101,11,"config"],[113,19,101,17],[113,20,101,18,"screens"],[113,27,101,25],[113,31,101,29],[113,35,101,33],[113,38,101,36,"createNormalizedConfigs"],[113,61,101,59],[113,62,101,60,"config"],[113,68,101,66],[113,69,101,67,"screens"],[113,76,101,74],[113,77,101,75],[113,80,101,78,"undefined"],[114,2,102,0],[114,3,102,1],[114,6,102,4],[114,7,102,5],[114,8,102,6],[115,2,103,0],[115,6,103,6,"createNormalizedConfigs"],[115,29,103,29],[115,32,103,32,"options"],[115,39,103,39],[115,43,103,43,"Object"],[115,49,103,49],[115,50,103,50,"entries"],[115,57,103,57],[115,58,103,58,"options"],[115,65,103,65],[115,66,103,66],[115,67,103,67,"reduce"],[115,73,103,73],[115,74,103,74],[115,75,103,75,"acc"],[115,78,103,78],[115,80,103,78,"_ref"],[115,84,103,78],[115,89,103,91],[116,4,103,91],[116,8,103,91,"_ref2"],[116,13,103,91],[116,20,103,91,"_slicedToArray"],[116,34,103,91],[116,35,103,91,"default"],[116,42,103,91],[116,44,103,91,"_ref"],[116,48,103,91],[117,6,103,81,"k"],[117,7,103,82],[117,10,103,82,"_ref2"],[117,15,103,82],[118,6,103,84,"v"],[118,7,103,85],[118,10,103,85,"_ref2"],[118,15,103,85],[119,4,104,2,"acc"],[119,7,104,5],[119,8,104,6,"k"],[119,9,104,7],[119,10,104,8],[119,13,104,11,"createNormalizedConfigItem"],[119,39,104,37],[119,40,104,38,"v"],[119,41,104,39],[119,42,104,40],[120,4,105,2],[120,11,105,9,"acc"],[120,14,105,12],[121,2,106,0],[121,3,106,1],[121,5,106,3],[121,6,106,4],[121,7,106,5],[121,8,106,6],[122,0,106,7],[122,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;OCE;CD+F;mCEC;MFG;gCGC,0CC;CDG,KH"},"hasCjsExports":false},"type":"js/module"}]}