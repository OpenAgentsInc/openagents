{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":99,"index":99}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./injection","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":158},"end":{"line":4,"column":67,"index":225}}],"key":"Ri12V5UvvLPFQrEealibULxq4mg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useDOMImperativeHandle = useDOMImperativeHandle;\n  var _react = require(_dependencyMap[0]);\n  var _injection = require(_dependencyMap[1]);\n  /**\n   * A React `useImperativeHandle` like hook for DOM components.\n   *\n   */\n  function useDOMImperativeHandle(ref, init, deps) {\n    var isTargetWeb =\n    // @ts-expect-error: Added via react-native-webview\n    typeof window.ReactNativeWebView === 'undefined' &&\n    // @ts-expect-error: Added via expo/dom\n    typeof window.$$EXPO_INITIAL_PROPS === 'undefined';\n    var stubHandlerFactory = (0, _react.useCallback)(() => ({}), deps ?? []);\n\n    // This standard useImperativeHandle hook is serving for web\n    (0, _react.useImperativeHandle)(ref, isTargetWeb ? init : stubHandlerFactory, deps);\n\n    // This `globalThis._domRefProxy` is serving for native\n    (0, _react.useEffect)(() => {\n      if (!isTargetWeb) {\n        globalThis._domRefProxy = init();\n        // TODO(@kitten): Type `ReactNativeWebView` and the message data\n        // @ts-expect-error: Added via react-native-webview\n        window.ReactNativeWebView.postMessage(JSON.stringify({\n          type: _injection.REGISTER_DOM_IMPERATIVE_HANDLE_PROPS,\n          data: Object.keys(globalThis._domRefProxy)\n        }));\n      }\n      return () => {\n        if (!isTargetWeb) {\n          globalThis._domRefProxy = undefined;\n        }\n      };\n    }, deps);\n  }\n});","lineCount":43,"map":[[7,2,14,0,"exports"],[7,9,14,0],[7,10,14,0,"useDOMImperativeHandle"],[7,32,14,0],[7,35,14,0,"useDOMImperativeHandle"],[7,57,14,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,4,0],[9,6,4,0,"_injection"],[9,16,4,0],[9,19,4,0,"require"],[9,26,4,0],[9,27,4,0,"_dependencyMap"],[9,41,4,0],[10,2,10,0],[11,0,11,0],[12,0,12,0],[13,0,13,0],[14,2,14,7],[14,11,14,16,"useDOMImperativeHandle"],[14,33,14,38,"useDOMImperativeHandle"],[14,34,15,2,"ref"],[14,37,15,13],[14,39,16,2,"init"],[14,43,16,15],[14,45,17,2,"deps"],[14,49,17,23],[14,51,18,2],[15,4,19,2],[15,8,19,8,"isTargetWeb"],[15,19,19,19],[16,4,20,4],[17,4,21,4],[17,11,21,11,"window"],[17,17,21,17],[17,18,21,18,"ReactNativeWebView"],[17,36,21,36],[17,41,21,41],[17,52,21,52],[18,4,22,4],[19,4,23,4],[19,11,23,11,"window"],[19,17,23,17],[19,18,23,18,"$$EXPO_INITIAL_PROPS"],[19,38,23,38],[19,43,23,43],[19,54,23,54],[20,4,25,2],[20,8,25,8,"stubHandlerFactory"],[20,26,25,26],[20,29,25,29],[20,33,25,29,"useCallback"],[20,39,25,40],[20,40,25,40,"useCallback"],[20,51,25,40],[20,53,25,41],[20,60,25,48],[20,61,25,49],[20,62,25,50],[20,63,25,56],[20,65,25,58,"deps"],[20,69,25,62],[20,73,25,66],[20,75,25,68],[20,76,25,69],[22,4,27,2],[23,4,28,2],[23,8,28,2,"useImperativeHandle"],[23,14,28,21],[23,15,28,21,"useImperativeHandle"],[23,34,28,21],[23,36,28,22,"ref"],[23,39,28,25],[23,41,28,27,"isTargetWeb"],[23,52,28,38],[23,55,28,41,"init"],[23,59,28,45],[23,62,28,48,"stubHandlerFactory"],[23,80,28,66],[23,82,28,68,"deps"],[23,86,28,72],[23,87,28,73],[25,4,30,2],[26,4,31,2],[26,8,31,2,"useEffect"],[26,14,31,11],[26,15,31,11,"useEffect"],[26,24,31,11],[26,26,31,12],[26,32,31,18],[27,6,32,4],[27,10,32,8],[27,11,32,9,"isTargetWeb"],[27,22,32,20],[27,24,32,22],[28,8,33,6,"globalThis"],[28,18,33,16],[28,19,33,17,"_domRefProxy"],[28,31,33,29],[28,34,33,32,"init"],[28,38,33,36],[28,39,33,37],[28,40,33,38],[29,8,34,6],[30,8,35,6],[31,8,36,6,"window"],[31,14,36,12],[31,15,36,13,"ReactNativeWebView"],[31,33,36,31],[31,34,36,32,"postMessage"],[31,45,36,43],[31,46,37,8,"JSON"],[31,50,37,12],[31,51,37,13,"stringify"],[31,60,37,22],[31,61,37,23],[32,10,38,10,"type"],[32,14,38,14],[32,16,38,16,"REGISTER_DOM_IMPERATIVE_HANDLE_PROPS"],[32,26,38,52],[32,27,38,52,"REGISTER_DOM_IMPERATIVE_HANDLE_PROPS"],[32,63,38,52],[33,10,39,10,"data"],[33,14,39,14],[33,16,39,16,"Object"],[33,22,39,22],[33,23,39,23,"keys"],[33,27,39,27],[33,28,39,28,"globalThis"],[33,38,39,38],[33,39,39,39,"_domRefProxy"],[33,51,39,58],[34,8,40,8],[34,9,40,9],[34,10,41,6],[34,11,41,7],[35,6,42,4],[36,6,43,4],[36,13,43,11],[36,19,43,17],[37,8,44,6],[37,12,44,10],[37,13,44,11,"isTargetWeb"],[37,24,44,22],[37,26,44,24],[38,10,45,8,"globalThis"],[38,20,45,18],[38,21,45,19,"_domRefProxy"],[38,33,45,31],[38,36,45,34,"undefined"],[38,45,45,43],[39,8,46,6],[40,6,47,4],[40,7,47,5],[41,4,48,2],[41,5,48,3],[41,7,48,5,"deps"],[41,11,48,9],[41,12,48,10],[42,2,49,0],[43,0,49,1],[43,3]],"functionMap":{"names":["<global>","useDOMImperativeHandle","stubHandlerFactory","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCa;yCCW,eD;YEM;WCY;KDI;GFC;CDC"},"hasCjsExports":false},"type":"js/module"}]}