{"dependencies":[{"name":"./serializable","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":52,"index":67}}],"key":"HEAtJtq3tiB/J/VFN71ymR8EIJA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.__installUnpacker = __installUnpacker;\n  var _serializable = require(_dependencyMap[0]);\n  function __installUnpacker() {\n    // TODO: Add cache for synchronizables.\n    var serializer = !globalThis._WORKLET || globalThis._WORKLETS_BUNDLE_MODE ? (value, _) => (0, _serializable.createSerializable)(value) : globalThis._createSerializable;\n    function synchronizableUnpacker(synchronizableRef) {\n      var synchronizable = synchronizableRef;\n      var proxy = globalThis.__workletsModuleProxy;\n      synchronizable.__synchronizableRef = true;\n      synchronizable.getDirty = () => {\n        return proxy.synchronizableGetDirty(synchronizable);\n      };\n      synchronizable.getBlocking = () => {\n        return proxy.synchronizableGetBlocking(synchronizable);\n      };\n      synchronizable.setBlocking = valueOrFunction => {\n        var newValue;\n        if (typeof valueOrFunction === 'function') {\n          var func = valueOrFunction;\n          synchronizable.lock();\n          var prev = synchronizable.getBlocking();\n          newValue = func(prev);\n          proxy.synchronizableSetBlocking(synchronizable, serializer(newValue, undefined));\n          synchronizable.unlock();\n        } else {\n          var value = valueOrFunction;\n          newValue = value;\n          proxy.synchronizableSetBlocking(synchronizable, serializer(newValue, undefined));\n        }\n      };\n      synchronizable.lock = () => {\n        proxy.synchronizableLock(synchronizable);\n      };\n      synchronizable.unlock = () => {\n        proxy.synchronizableUnlock(synchronizable);\n      };\n      return synchronizable;\n    }\n    globalThis.__synchronizableUnpacker = synchronizableUnpacker;\n  }\n});","lineCount":47,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,6,0,"exports"],[7,9,6,0],[7,10,6,0,"__installUnpacker"],[7,27,6,0],[7,30,6,0,"__installUnpacker"],[7,47,6,0],[8,2,3,0],[8,6,3,0,"_serializable"],[8,19,3,0],[8,22,3,0,"require"],[8,29,3,0],[8,30,3,0,"_dependencyMap"],[8,44,3,0],[9,2,6,7],[9,11,6,16,"__installUnpacker"],[9,28,6,33,"__installUnpacker"],[9,29,6,33],[9,31,6,36],[10,4,7,2],[11,4,8,2],[11,8,8,8,"serializer"],[11,18,8,18],[11,21,9,4],[11,22,9,5,"globalThis"],[11,32,9,15],[11,33,9,16,"_WORKLET"],[11,41,9,24],[11,45,9,28,"globalThis"],[11,55,9,38],[11,56,9,39,"_WORKLETS_BUNDLE_MODE"],[11,77,9,60],[11,80,10,8],[11,81,10,9,"value"],[11,86,10,23],[11,88,10,25,"_"],[11,89,10,35],[11,94,10,40],[11,98,10,40,"createSerializable"],[11,111,10,58],[11,112,10,58,"createSerializable"],[11,130,10,58],[11,132,10,59,"value"],[11,137,10,64],[11,138,10,65],[11,141,11,8,"globalThis"],[11,151,11,18],[11,152,11,19,"_createSerializable"],[11,171,11,38],[12,4,13,2],[12,13,13,11,"synchronizableUnpacker"],[12,35,13,33,"synchronizableUnpacker"],[12,36,14,4,"synchronizableRef"],[12,53,14,48],[12,55,15,28],[13,6,16,4],[13,10,16,10,"synchronizable"],[13,24,16,24],[13,27,17,6,"synchronizableRef"],[13,44,17,60],[14,6,18,4],[14,10,18,10,"proxy"],[14,15,18,15],[14,18,18,18,"globalThis"],[14,28,18,28],[14,29,18,29,"__workletsModuleProxy"],[14,50,18,51],[15,6,20,4,"synchronizable"],[15,20,20,18],[15,21,20,19,"__synchronizableRef"],[15,40,20,38],[15,43,20,41],[15,47,20,45],[16,6,21,4,"synchronizable"],[16,20,21,18],[16,21,21,19,"getDirty"],[16,29,21,27],[16,32,21,30],[16,38,21,36],[17,8,22,6],[17,15,22,13,"proxy"],[17,20,22,18],[17,21,22,19,"synchronizableGetDirty"],[17,43,22,41],[17,44,22,42,"synchronizable"],[17,58,22,56],[17,59,22,57],[18,6,23,4],[18,7,23,5],[19,6,24,4,"synchronizable"],[19,20,24,18],[19,21,24,19,"getBlocking"],[19,32,24,30],[19,35,24,33],[19,41,24,39],[20,8,25,6],[20,15,25,13,"proxy"],[20,20,25,18],[20,21,25,19,"synchronizableGetBlocking"],[20,46,25,44],[20,47,25,45,"synchronizable"],[20,61,25,59],[20,62,25,60],[21,6,26,4],[21,7,26,5],[22,6,27,4,"synchronizable"],[22,20,27,18],[22,21,27,19,"setBlocking"],[22,32,27,30],[22,35,28,6,"valueOrFunction"],[22,50,28,58],[22,54,29,9],[23,8,30,6],[23,12,30,10,"newValue"],[23,20,30,26],[24,8,31,6],[24,12,31,10],[24,19,31,17,"valueOrFunction"],[24,34,31,32],[24,39,31,37],[24,49,31,47],[24,51,31,49],[25,10,32,8],[25,14,32,14,"func"],[25,18,32,18],[25,21,32,21,"valueOrFunction"],[25,36,32,64],[26,10,33,8,"synchronizable"],[26,24,33,22],[26,25,33,23,"lock"],[26,29,33,27],[26,30,33,28],[26,31,33,29],[27,10,34,8],[27,14,34,14,"prev"],[27,18,34,18],[27,21,34,21,"synchronizable"],[27,35,34,35],[27,36,34,36,"getBlocking"],[27,47,34,47],[27,48,34,48],[27,49,34,49],[28,10,35,8,"newValue"],[28,18,35,16],[28,21,35,19,"func"],[28,25,35,23],[28,26,35,24,"prev"],[28,30,35,28],[28,31,35,29],[29,10,37,8,"proxy"],[29,15,37,13],[29,16,37,14,"synchronizableSetBlocking"],[29,41,37,39],[29,42,38,10,"synchronizable"],[29,56,38,24],[29,58,39,10,"serializer"],[29,68,39,20],[29,69,39,21,"newValue"],[29,77,39,29],[29,79,39,31,"undefined"],[29,88,39,40],[29,89,40,8],[29,90,40,9],[30,10,42,8,"synchronizable"],[30,24,42,22],[30,25,42,23,"unlock"],[30,31,42,29],[30,32,42,30],[30,33,42,31],[31,8,43,6],[31,9,43,7],[31,15,43,13],[32,10,44,8],[32,14,44,14,"value"],[32,19,44,19],[32,22,44,22,"valueOrFunction"],[32,37,44,37],[33,10,45,8,"newValue"],[33,18,45,16],[33,21,45,19,"value"],[33,26,45,24],[34,10,46,8,"proxy"],[34,15,46,13],[34,16,46,14,"synchronizableSetBlocking"],[34,41,46,39],[34,42,47,10,"synchronizable"],[34,56,47,24],[34,58,48,10,"serializer"],[34,68,48,20],[34,69,48,21,"newValue"],[34,77,48,29],[34,79,48,31,"undefined"],[34,88,48,40],[34,89,49,8],[34,90,49,9],[35,8,50,6],[36,6,51,4],[36,7,51,5],[37,6,52,4,"synchronizable"],[37,20,52,18],[37,21,52,19,"lock"],[37,25,52,23],[37,28,52,26],[37,34,52,32],[38,8,53,6,"proxy"],[38,13,53,11],[38,14,53,12,"synchronizableLock"],[38,32,53,30],[38,33,53,31,"synchronizable"],[38,47,53,45],[38,48,53,46],[39,6,54,4],[39,7,54,5],[40,6,55,4,"synchronizable"],[40,20,55,18],[40,21,55,19,"unlock"],[40,27,55,25],[40,30,55,28],[40,36,55,34],[41,8,56,6,"proxy"],[41,13,56,11],[41,14,56,12,"synchronizableUnlock"],[41,34,56,32],[41,35,56,33,"synchronizable"],[41,49,56,47],[41,50,56,48],[42,6,57,4],[42,7,57,5],[43,6,59,4],[43,13,59,11,"synchronizable"],[43,27,59,25],[44,4,60,2],[45,4,62,2,"globalThis"],[45,14,62,12],[45,15,62,13,"__synchronizableUnpacker"],[45,39,62,37],[45,42,62,40,"synchronizableUnpacker"],[45,64,62,62],[46,2,63,0],[47,0,63,1],[47,3]],"functionMap":{"names":["<global>","__installUnpacker","<anonymous>","synchronizableUnpacker","synchronizable.getDirty","synchronizable.getBlocking","synchronizable.setBlocking","synchronizable.lock","synchronizable.unlock"],"mappings":"AAA;OCK;QCI,yDD;EEG;8BCQ;KDE;iCEC;KFE;iCGC;KHwB;0BIC;KJE;4BKC;KLE;GFG;CDG"},"hasCjsExports":false},"type":"js/module"}]}