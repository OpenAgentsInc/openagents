{"dependencies":[{"name":"../../src/private/featureflags/ReactNativeFeatureFlags","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0},"end":{"line":14,"column":98}}],"key":"fdTx5edELD8GYD7vaakWfKKte1Y=","exportNames":["*"],"imports":1}},{"name":"../vendor/emitter/EventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":58}}],"key":"FSJ8dBSGMPKDnoV5nqp600Oqgzc=","exportNames":["*"],"imports":1}},{"name":"../BatchedBridge/BatchedBridge","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":22},"end":{"line":17,"column":63}}],"key":"RVO988+Zv/6E/rt0hBQ7t8lVl4o=","exportNames":["*"],"imports":1}},{"name":"./TaskQueue","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":18},"end":{"line":18,"column":40}}],"key":"JdVwdRfYYIkBEefq5ZvEtZ/aHHY=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":18},"end":{"line":19,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}},{"name":"./InteractionManagerStub","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":233,"column":6},"end":{"line":233,"column":41}}],"key":"6Axl/FjQxNlPydjZVdzFgWLPoUg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _srcPrivateFeatureflagsReactNativeFeatureFlags = require(_dependencyMap[0]);\n  var ReactNativeFeatureFlags = _interopNamespace(_srcPrivateFeatureflagsReactNativeFeatureFlags);\n  var _vendorEmitterEventEmitter = require(_dependencyMap[1]);\n  var EventEmitter = _interopDefault(_vendorEmitterEventEmitter);\n  var BatchedBridge = require(_dependencyMap[2]).default;\n  var TaskQueue = require(_dependencyMap[3]).default;\n  var invariant = require(_dependencyMap[4]);\n  var _emitter = new EventEmitter.default();\n  var DEBUG_DELAY = 0;\n  var DEBUG = false;\n  var InteractionManagerImpl = {\n    Events: {\n      interactionStart: 'interactionStart',\n      interactionComplete: 'interactionComplete'\n    },\n    runAfterInteractions(task) {\n      var tasks = [];\n      var promise = new Promise(resolve => {\n        _scheduleUpdate();\n        if (task) {\n          tasks.push(task);\n        }\n        tasks.push({\n          run: resolve,\n          name: 'resolve ' + (task && task.name || '?')\n        });\n        _taskQueue.enqueueTasks(tasks);\n      });\n      return {\n        then: promise.then.bind(promise),\n        cancel: function () {\n          _taskQueue.cancelTasks(tasks);\n        }\n      };\n    },\n    createInteractionHandle() {\n      DEBUG;\n      _scheduleUpdate();\n      var handle = ++_inc;\n      _addInteractionSet.add(handle);\n      return handle;\n    },\n    clearInteractionHandle(handle) {\n      DEBUG;\n      invariant(!!handle, 'InteractionManager: Must provide a handle to clear.');\n      _scheduleUpdate();\n      _addInteractionSet.delete(handle);\n      _deleteInteractionSet.add(handle);\n    },\n    addListener: _emitter.addListener.bind(_emitter),\n    setDeadline(deadline) {\n      _deadline = deadline;\n    }\n  };\n  var _interactionSet = new Set();\n  var _addInteractionSet = new Set();\n  var _deleteInteractionSet = new Set();\n  var _taskQueue = new TaskQueue({\n    onMoreTasks: _scheduleUpdate\n  });\n  var _nextUpdateHandle = 0;\n  var _inc = 0;\n  var _deadline = -1;\n  function _scheduleUpdate() {\n    if (!_nextUpdateHandle) {\n      if (_deadline > 0) {\n        _nextUpdateHandle = setTimeout(_processUpdate, 0);\n      } else {\n        _nextUpdateHandle = setImmediate(_processUpdate);\n      }\n    }\n  }\n  function _processUpdate() {\n    _nextUpdateHandle = 0;\n    var interactionCount = _interactionSet.size;\n    _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n    _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n    var nextInteractionCount = _interactionSet.size;\n    if (interactionCount !== 0 && nextInteractionCount === 0) {\n      _emitter.emit(InteractionManager.Events.interactionComplete);\n    } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n      _emitter.emit(InteractionManager.Events.interactionStart);\n    }\n    if (nextInteractionCount === 0) {\n      while (_taskQueue.hasTasksToProcess()) {\n        _taskQueue.processNext();\n        if (_deadline > 0 && BatchedBridge.getEventLoopRunningTime() >= _deadline) {\n          _scheduleUpdate();\n          break;\n        }\n      }\n    }\n    _addInteractionSet.clear();\n    _deleteInteractionSet.clear();\n  }\n  var InteractionManager = ReactNativeFeatureFlags.disableInteractionManager() ? require(_dependencyMap[5]).default : InteractionManagerImpl;\n  var _default = InteractionManager;\n});","lineCount":130,"map":[[27,2,237,0,"Object"],[27,8,237,0],[27,9,237,0,"defineProperty"],[27,23,237,0],[27,24,237,0,"exports"],[27,31,237,0],[28,4,237,0,"enumerable"],[28,14,237,0],[29,4,237,0,"get"],[29,7,237,0],[29,18,237,0,"get"],[29,19,237,0],[30,6,237,0],[30,13,237,0,"_default"],[30,21,237,0],[31,4,237,0],[32,2,237,0],[33,2,14,0],[33,6,14,0,"_srcPrivateFeatureflagsReactNativeFeatureFlags"],[33,52,14,0],[33,55,14,0,"require"],[33,62,14,0],[33,63,14,0,"_dependencyMap"],[33,77,14,0],[34,2,14,0],[34,6,14,0,"ReactNativeFeatureFlags"],[34,29,14,0],[34,32,14,0,"_interopNamespace"],[34,49,14,0],[34,50,14,0,"_srcPrivateFeatureflagsReactNativeFeatureFlags"],[34,96,14,0],[35,2,15,0],[35,6,15,0,"_vendorEmitterEventEmitter"],[35,32,15,0],[35,35,15,0,"require"],[35,42,15,0],[35,43,15,0,"_dependencyMap"],[35,57,15,0],[36,2,15,0],[36,6,15,0,"EventEmitter"],[36,18,15,0],[36,21,15,0,"_interopDefault"],[36,36,15,0],[36,37,15,0,"_vendorEmitterEventEmitter"],[36,63,15,0],[37,2,17,0],[37,6,17,6,"BatchedBridge"],[37,19,17,19],[37,22,17,22,"require"],[37,29,17,29],[37,30,17,29,"_dependencyMap"],[37,44,17,29],[37,47,17,62],[37,48,17,63],[37,49,17,64,"default"],[37,56,17,71],[38,2,18,0],[38,6,18,6,"TaskQueue"],[38,15,18,15],[38,18,18,18,"require"],[38,25,18,25],[38,26,18,25,"_dependencyMap"],[38,40,18,25],[38,43,18,39],[38,44,18,40],[38,45,18,41,"default"],[38,52,18,48],[39,2,19,0],[39,6,19,6,"invariant"],[39,15,19,15],[39,18,19,18,"require"],[39,25,19,25],[39,26,19,25,"_dependencyMap"],[39,40,19,25],[39,43,19,37],[39,44,19,38],[40,2,25,0],[40,6,25,6,"_emitter"],[40,14,25,14],[40,17,25,17],[40,21,25,21,"EventEmitter"],[40,33,25,33],[40,34,25,33,"default"],[40,41,25,33],[40,42,28,3],[40,43,28,4],[41,2,30,0],[41,6,30,6,"DEBUG_DELAY"],[41,17,30,20],[41,20,30,23],[41,21,30,24],[42,2,31,0],[42,6,31,6,"DEBUG"],[42,11,31,18],[42,14,31,21],[42,19,31,26],[43,2,33,0],[43,6,33,6,"InteractionManagerImpl"],[43,28,33,28],[43,31,33,31],[44,4,34,2,"Events"],[44,10,34,8],[44,12,34,10],[45,6,35,4,"interactionStart"],[45,22,35,20],[45,24,35,22],[45,42,35,40],[46,6,36,4,"interactionComplete"],[46,25,36,23],[46,27,36,25],[47,4,37,2],[47,5,37,3],[48,4,43,2,"runAfterInteractions"],[48,24,43,22,"runAfterInteractions"],[48,25,43,23,"task"],[48,29,43,34],[48,31,50,4],[49,6,51,4],[49,10,51,10,"tasks"],[49,15,51,28],[49,18,51,31],[49,20,51,33],[50,6,52,4],[50,10,52,10,"promise"],[50,17,52,17],[50,20,52,20],[50,24,52,24,"Promise"],[50,31,52,31],[50,32,52,33,"resolve"],[50,39,52,52],[50,43,52,57],[51,8,53,6,"_scheduleUpdate"],[51,23,53,21],[51,24,53,22],[51,25,53,23],[52,8,54,6],[52,12,54,10,"task"],[52,16,54,14],[52,18,54,16],[53,10,55,8,"tasks"],[53,15,55,13],[53,16,55,14,"push"],[53,20,55,18],[53,21,55,19,"task"],[53,25,55,23],[53,26,55,24],[54,8,56,6],[55,8,57,6,"tasks"],[55,13,57,11],[55,14,57,12,"push"],[55,18,57,16],[55,19,57,17],[56,10,58,8,"run"],[56,13,58,11],[56,15,58,13,"resolve"],[56,22,58,20],[57,10,59,8,"name"],[57,14,59,12],[57,16,59,14],[57,26,59,24],[57,30,59,29,"task"],[57,34,59,33],[57,38,59,37,"task"],[57,42,59,41],[57,43,59,42,"name"],[57,47,59,46],[57,51,59,51],[57,54,59,54],[58,8,60,6],[58,9,60,7],[58,10,60,8],[59,8,61,6,"_taskQueue"],[59,18,61,16],[59,19,61,17,"enqueueTasks"],[59,31,61,29],[59,32,61,30,"tasks"],[59,37,61,35],[59,38,61,36],[60,6,62,4],[60,7,62,5],[60,8,62,6],[61,6,63,4],[61,13,63,11],[62,8,65,6,"then"],[62,12,65,10],[62,14,65,12,"promise"],[62,21,65,19],[62,22,65,20,"then"],[62,26,65,24],[62,27,65,25,"bind"],[62,31,65,29],[62,32,65,30,"promise"],[62,39,65,37],[62,40,65,38],[63,8,66,6,"cancel"],[63,14,66,12],[63,16,66,14],[63,25,66,14,"cancel"],[63,26,66,14],[63,28,66,26],[64,10,67,8,"_taskQueue"],[64,20,67,18],[64,21,67,19,"cancelTasks"],[64,32,67,30],[64,33,67,31,"tasks"],[64,38,67,36],[64,39,67,37],[65,8,68,6],[66,6,69,4],[66,7,69,5],[67,4,70,2],[67,5,70,3],[68,4,75,2,"createInteractionHandle"],[68,27,75,25,"createInteractionHandle"],[68,28,75,25],[68,30,75,36],[69,6,76,4,"DEBUG"],[69,11,76,9],[70,6,77,4,"_scheduleUpdate"],[70,21,77,19],[70,22,77,20],[70,23,77,21],[71,6,78,4],[71,10,78,10,"handle"],[71,16,78,16],[71,19,78,19],[71,21,78,21,"_inc"],[71,25,78,25],[72,6,79,4,"_addInteractionSet"],[72,24,79,22],[72,25,79,23,"add"],[72,28,79,26],[72,29,79,27,"handle"],[72,35,79,33],[72,36,79,34],[73,6,80,4],[73,13,80,11,"handle"],[73,19,80,17],[74,4,81,2],[74,5,81,3],[75,4,86,2,"clearInteractionHandle"],[75,26,86,24,"clearInteractionHandle"],[75,27,86,25,"handle"],[75,33,86,39],[75,35,86,41],[76,6,87,4,"DEBUG"],[76,11,87,9],[77,6,88,4,"invariant"],[77,15,88,13],[77,16,88,14],[77,17,88,15],[77,18,88,16,"handle"],[77,24,88,22],[77,26,88,24],[77,79,88,77],[77,80,88,78],[78,6,89,4,"_scheduleUpdate"],[78,21,89,19],[78,22,89,20],[78,23,89,21],[79,6,90,4,"_addInteractionSet"],[79,24,90,22],[79,25,90,23,"delete"],[79,31,90,29],[79,32,90,30,"handle"],[79,38,90,36],[79,39,90,37],[80,6,91,4,"_deleteInteractionSet"],[80,27,91,25],[80,28,91,26,"add"],[80,31,91,29],[80,32,91,30,"handle"],[80,38,91,36],[80,39,91,37],[81,4,92,2],[81,5,92,3],[82,4,96,2,"addListener"],[82,15,96,13],[82,17,96,15,"_emitter"],[82,25,96,23],[82,26,96,24,"addListener"],[82,37,96,35],[82,38,96,36,"bind"],[82,42,96,40],[82,43,96,41,"_emitter"],[82,51,96,49],[82,52,101,24],[83,4,108,2,"setDeadline"],[83,15,108,13,"setDeadline"],[83,16,108,14,"deadline"],[83,24,108,30],[83,26,108,32],[84,6,109,4,"_deadline"],[84,15,109,13],[84,18,109,16,"deadline"],[84,26,109,24],[85,4,110,2],[86,2,111,0],[86,3,111,1],[87,2,113,0],[87,6,113,6,"_interactionSet"],[87,21,113,21],[87,24,113,24],[87,28,113,28,"Set"],[87,31,113,31],[87,32,113,49],[87,33,113,50],[88,2,114,0],[88,6,114,6,"_addInteractionSet"],[88,24,114,24],[88,27,114,27],[88,31,114,31,"Set"],[88,34,114,34],[88,35,114,52],[88,36,114,53],[89,2,115,0],[89,6,115,6,"_deleteInteractionSet"],[89,27,115,27],[89,30,115,30],[89,34,115,34,"Set"],[89,37,115,37],[89,38,115,46],[89,39,115,47],[90,2,116,0],[90,6,116,6,"_taskQueue"],[90,16,116,16],[90,19,116,19],[90,23,116,23,"TaskQueue"],[90,32,116,32],[90,33,116,33],[91,4,116,34,"onMoreTasks"],[91,15,116,45],[91,17,116,47,"_scheduleUpdate"],[92,2,116,62],[92,3,116,63],[92,4,116,64],[93,2,117,0],[93,6,117,4,"_nextUpdateHandle"],[93,23,117,45],[93,26,117,48],[93,27,117,49],[94,2,118,0],[94,6,118,4,"_inc"],[94,10,118,8],[94,13,118,11],[94,14,118,12],[95,2,119,0],[95,6,119,4,"_deadline"],[95,15,119,13],[95,20,119,18],[96,2,124,0],[96,11,124,9,"_scheduleUpdate"],[96,26,124,24,"_scheduleUpdate"],[96,27,124,24],[96,29,124,27],[97,4,125,2],[97,8,125,6],[97,9,125,7,"_nextUpdateHandle"],[97,26,125,24],[97,28,125,26],[98,6,126,4],[98,10,126,8,"_deadline"],[98,19,126,17],[98,22,126,20],[98,23,126,21],[98,25,126,23],[99,8,127,6,"_nextUpdateHandle"],[99,25,127,23],[99,28,127,26,"setTimeout"],[99,38,127,36],[99,39,127,37,"_processUpdate"],[99,53,127,51],[99,56,127,68],[99,57,127,69],[100,6,128,4],[100,7,128,5],[100,13,128,11],[101,8,129,6,"_nextUpdateHandle"],[101,25,129,23],[101,28,129,26,"setImmediate"],[101,40,129,38],[101,41,129,39,"_processUpdate"],[101,55,129,53],[101,56,129,54],[102,6,130,4],[103,4,131,2],[104,2,132,0],[105,2,137,0],[105,11,137,9,"_processUpdate"],[105,25,137,23,"_processUpdate"],[105,26,137,23],[105,28,137,26],[106,4,138,2,"_nextUpdateHandle"],[106,21,138,19],[106,24,138,22],[106,25,138,23],[107,4,140,2],[107,8,140,8,"interactionCount"],[107,24,140,24],[107,27,140,27,"_interactionSet"],[107,42,140,42],[107,43,140,43,"size"],[107,47,140,47],[108,4,141,2,"_addInteractionSet"],[108,22,141,20],[108,23,141,21,"forEach"],[108,30,141,28],[108,31,141,29,"handle"],[108,37,141,35],[108,41,141,39,"_interactionSet"],[108,56,141,54],[108,57,141,55,"add"],[108,60,141,58],[108,61,141,59,"handle"],[108,67,141,65],[108,68,141,66],[108,69,141,67],[109,4,142,2,"_deleteInteractionSet"],[109,25,142,23],[109,26,142,24,"forEach"],[109,33,142,31],[109,34,142,32,"handle"],[109,40,142,38],[109,44,142,42,"_interactionSet"],[109,59,142,57],[109,60,142,58,"delete"],[109,66,142,64],[109,67,142,65,"handle"],[109,73,142,71],[109,74,142,72],[109,75,142,73],[110,4,143,2],[110,8,143,8,"nextInteractionCount"],[110,28,143,28],[110,31,143,31,"_interactionSet"],[110,46,143,46],[110,47,143,47,"size"],[110,51,143,51],[111,4,145,2],[111,8,145,6,"interactionCount"],[111,24,145,22],[111,29,145,27],[111,30,145,28],[111,34,145,32,"nextInteractionCount"],[111,54,145,52],[111,59,145,57],[111,60,145,58],[111,62,145,60],[112,6,151,4,"_emitter"],[112,14,151,12],[112,15,151,13,"emit"],[112,19,151,17],[112,20,151,18,"InteractionManager"],[112,38,151,36],[112,39,151,37,"Events"],[112,45,151,43],[112,46,151,44,"interactionComplete"],[112,65,151,63],[112,66,151,64],[113,4,152,2],[113,5,152,3],[113,11,152,9],[113,15,152,13,"interactionCount"],[113,31,152,29],[113,36,152,34],[113,37,152,35],[113,41,152,39,"nextInteractionCount"],[113,61,152,59],[113,66,152,64],[113,67,152,65],[113,69,152,67],[114,6,158,4,"_emitter"],[114,14,158,12],[114,15,158,13,"emit"],[114,19,158,17],[114,20,158,18,"InteractionManager"],[114,38,158,36],[114,39,158,37,"Events"],[114,45,158,43],[114,46,158,44,"interactionStart"],[114,62,158,60],[114,63,158,61],[115,4,159,2],[116,4,162,2],[116,8,162,6,"nextInteractionCount"],[116,28,162,26],[116,33,162,31],[116,34,162,32],[116,36,162,34],[117,6,163,4],[117,13,163,11,"_taskQueue"],[117,23,163,21],[117,24,163,22,"hasTasksToProcess"],[117,41,163,39],[117,42,163,40],[117,43,163,41],[117,45,163,43],[118,8,164,6,"_taskQueue"],[118,18,164,16],[118,19,164,17,"processNext"],[118,30,164,28],[118,31,164,29],[118,32,164,30],[119,8,165,6],[119,12,166,8,"_deadline"],[119,21,166,17],[119,24,166,20],[119,25,166,21],[119,29,167,8,"BatchedBridge"],[119,42,167,21],[119,43,167,22,"getEventLoopRunningTime"],[119,66,167,45],[119,67,167,46],[119,68,167,47],[119,72,167,51,"_deadline"],[119,81,167,60],[119,83,168,8],[120,10,170,8,"_scheduleUpdate"],[120,25,170,23],[120,26,170,24],[120,27,170,25],[121,10,171,8],[122,8,172,6],[123,6,173,4],[124,4,174,2],[125,4,175,2,"_addInteractionSet"],[125,22,175,20],[125,23,175,21,"clear"],[125,28,175,26],[125,29,175,27],[125,30,175,28],[126,4,176,2,"_deleteInteractionSet"],[126,25,176,23],[126,26,176,24,"clear"],[126,31,176,29],[126,32,176,30],[126,33,176,31],[127,2,177,0],[128,2,230,0],[128,6,230,6,"InteractionManager"],[128,24,230,24],[128,27,231,2,"ReactNativeFeatureFlags"],[128,50,231,25],[128,51,231,26,"disableInteractionManager"],[128,76,231,51],[128,77,231,52],[128,78,231,53],[128,81,233,6,"require"],[128,88,233,13],[128,89,233,13,"_dependencyMap"],[128,103,233,13],[128,106,233,40],[128,107,233,41],[128,108,233,42,"default"],[128,115,233,49],[128,118,234,6,"InteractionManagerImpl"],[128,140,235,34],[129,2,237,0],[129,6,237,0,"_default"],[129,14,237,0],[129,17,237,15,"InteractionManager"],[129,35,237,33],[130,0,237,34],[130,3]],"functionMap":{"names":["<global>","InteractionManagerImpl.runAfterInteractions","Promise$argument_0","cancel","InteractionManagerImpl.createInteractionHandle","InteractionManagerImpl.clearInteractionHandle","InteractionManagerImpl.setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;EC0C;gCCS;KDU;cEI;OFE;GDE;EIK;GJM;EKK;GLM;EMgB;GNE;AOc;CPQ;AQK;6BCI,qCD;gCEC,wCF;CRmC"},"hasCjsExports":false},"type":"js/module"}]}