{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":52},"end":{"line":5,"column":65,"index":117}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // Copyright Â© 2024 650 Industries.\n\n  'use client';\n  \"use strict\";\n\n  var _excluded = [\"get\", \"request\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.createPermissionHook = createPermissionHook;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[1]);\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[2]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[3]);\n  // These types are identical, but improves the readability for suggestions in editors\n\n  /**\n   * Get or request permission for protected functionality within the app.\n   * It uses separate permission requesters to interact with a single permission.\n   * By default, the hook will only retrieve the permission status.\n   */\n  function usePermission(methods, options) {\n    var isMounted = (0, _react.useRef)(true);\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n    var _ref = options || {},\n      _ref$get = _ref.get,\n      get = _ref$get === undefined ? true : _ref$get,\n      _ref$request = _ref.request,\n      request = _ref$request === undefined ? false : _ref$request,\n      permissionOptions = (0, _objectWithoutProperties.default)(_ref, _excluded);\n    var getPermission = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      var response;\n      if (Object.keys(permissionOptions).length > 0) {\n        response = yield methods.getMethod(permissionOptions);\n      } else {\n        response = yield methods.getMethod();\n      }\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.getMethod]);\n    var requestPermission = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      var response;\n      if (Object.keys(permissionOptions).length > 0) {\n        response = yield methods.requestMethod(permissionOptions);\n      } else {\n        response = yield methods.requestMethod();\n      }\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.requestMethod]);\n    (0, _react.useEffect)(function runMethods() {\n      if (request) requestPermission();\n      if (!request && get) getPermission();\n    }, [get, request, requestPermission, getPermission]);\n\n    // Workaround for unmounting components receiving state updates\n    (0, _react.useEffect)(function didMount() {\n      isMounted.current = true;\n      return () => {\n        isMounted.current = false;\n      };\n    }, []);\n    return [status, requestPermission, getPermission];\n  }\n\n  /**\n   * Create a new permission hook with the permission methods built-in.\n   * This can be used to quickly create specific permission hooks in every module.\n   */\n  function createPermissionHook(methods) {\n    return options => usePermission(methods, options);\n  }\n});","lineCount":85,"map":[[2,2,1,0],[4,2,3,0],[4,14,3,12],[5,2,3,13],[7,2,3,13],[7,6,3,13,"_excluded"],[7,15,3,13],[8,2,3,13,"Object"],[8,8,3,13],[8,9,3,13,"defineProperty"],[8,23,3,13],[8,24,3,13,"exports"],[8,31,3,13],[9,4,3,13,"value"],[9,9,3,13],[10,2,3,13],[11,2,3,13],[11,11,3,13,"_interopDefault"],[11,27,3,13,"e"],[11,28,3,13],[12,4,3,13],[12,11,3,13,"e"],[12,12,3,13],[12,16,3,13,"e"],[12,17,3,13],[12,18,3,13,"__esModule"],[12,28,3,13],[12,31,3,13,"e"],[12,32,3,13],[13,6,3,13,"default"],[13,13,3,13],[13,15,3,13,"e"],[14,4,3,13],[15,2,3,13],[16,2,87,0,"exports"],[16,9,87,0],[16,10,87,0,"createPermissionHook"],[16,30,87,0],[16,33,87,0,"createPermissionHook"],[16,53,87,0],[17,2,92,1],[17,6,92,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,42,92,1],[17,45,92,1,"require"],[17,52,92,1],[17,53,92,1,"_dependencyMap"],[17,67,92,1],[18,2,92,1],[18,6,92,1,"_asyncToGenerator"],[18,23,92,1],[18,26,92,1,"_interopDefault"],[18,41,92,1],[18,42,92,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,78,92,1],[19,2,92,1],[19,6,92,1,"_babelRuntimeHelpersObjectWithoutProperties"],[19,49,92,1],[19,52,92,1,"require"],[19,59,92,1],[19,60,92,1,"_dependencyMap"],[19,74,92,1],[20,2,92,1],[20,6,92,1,"_objectWithoutProperties"],[20,30,92,1],[20,33,92,1,"_interopDefault"],[20,48,92,1],[20,49,92,1,"_babelRuntimeHelpersObjectWithoutProperties"],[20,92,92,1],[21,2,92,1],[21,6,92,1,"_babelRuntimeHelpersSlicedToArray"],[21,39,92,1],[21,42,92,1,"require"],[21,49,92,1],[21,50,92,1,"_dependencyMap"],[21,64,92,1],[22,2,92,1],[22,6,92,1,"_slicedToArray"],[22,20,92,1],[22,23,92,1,"_interopDefault"],[22,38,92,1],[22,39,92,1,"_babelRuntimeHelpersSlicedToArray"],[22,72,92,1],[23,2,5,0],[23,6,5,0,"_react"],[23,12,5,0],[23,15,5,0,"require"],[23,22,5,0],[23,23,5,0,"_dependencyMap"],[23,37,5,0],[24,2,9,0],[26,2,29,0],[27,0,30,0],[28,0,31,0],[29,0,32,0],[30,0,33,0],[31,2,34,0],[31,11,34,9,"usePermission"],[31,24,34,22,"usePermission"],[31,25,35,2,"methods"],[31,32,35,53],[31,34,36,2,"options"],[31,41,36,42],[31,43,37,93],[32,4,38,2],[32,8,38,8,"isMounted"],[32,17,38,17],[32,20,38,20],[32,24,38,20,"useRef"],[32,30,38,26],[32,31,38,26,"useRef"],[32,37,38,26],[32,39,38,27],[32,43,38,31],[32,44,38,32],[33,4,39,2],[33,8,39,2,"_useState"],[33,17,39,2],[33,20,39,30],[33,24,39,30,"useState"],[33,30,39,38],[33,31,39,38,"useState"],[33,39,39,38],[33,41,39,58],[33,45,39,62],[33,46,39,63],[34,6,39,63,"_useState2"],[34,16,39,63],[34,23,39,63,"_slicedToArray"],[34,37,39,63],[34,38,39,63,"default"],[34,45,39,63],[34,47,39,63,"_useState"],[34,56,39,63],[35,6,39,9,"status"],[35,12,39,15],[35,15,39,15,"_useState2"],[35,25,39,15],[36,6,39,17,"setStatus"],[36,15,39,26],[36,18,39,26,"_useState2"],[36,28,39,26],[37,4,40,2],[37,8,40,2,"_ref"],[37,12,40,2],[37,15,40,64,"options"],[37,22,40,71],[37,26,40,75],[37,27,40,76],[37,28,40,77],[38,6,40,77,"_ref$get"],[38,14,40,77],[38,17,40,77,"_ref"],[38,21,40,77],[38,22,40,10,"get"],[38,25,40,13],[39,6,40,10,"get"],[39,9,40,13],[39,12,40,13,"_ref$get"],[39,20,40,13],[39,25,40,13,"undefined"],[39,34,40,13],[39,37,40,16],[39,41,40,20],[39,44,40,20,"_ref$get"],[39,52,40,20],[40,6,40,20,"_ref$request"],[40,18,40,20],[40,21,40,20,"_ref"],[40,25,40,20],[40,26,40,22,"request"],[40,33,40,29],[41,6,40,22,"request"],[41,13,40,29],[41,16,40,29,"_ref$request"],[41,28,40,29],[41,33,40,29,"undefined"],[41,42,40,29],[41,45,40,32],[41,50,40,37],[41,53,40,37,"_ref$request"],[41,65,40,37],[42,6,40,42,"permissionOptions"],[42,23,40,59],[42,30,40,59,"_objectWithoutProperties"],[42,54,40,59],[42,55,40,59,"default"],[42,62,40,59],[42,64,40,59,"_ref"],[42,68,40,59],[42,70,40,59,"_excluded"],[42,79,40,59],[43,4,42,2],[43,8,42,8,"getPermission"],[43,21,42,21],[43,24,42,24],[43,28,42,24,"useCallback"],[43,34,42,35],[43,35,42,35,"useCallback"],[43,46,42,35],[43,65,42,35,"_asyncToGenerator"],[43,82,42,35],[43,83,42,35,"default"],[43,90,42,35],[43,92,42,36],[43,105,42,48],[44,6,43,4],[44,10,43,8,"response"],[44,18,43,28],[45,6,44,4],[45,10,44,8,"Object"],[45,16,44,14],[45,17,44,15,"keys"],[45,21,44,19],[45,22,44,20,"permissionOptions"],[45,39,44,37],[45,40,44,38],[45,41,44,39,"length"],[45,47,44,45],[45,50,44,48],[45,51,44,49],[45,53,44,51],[46,8,45,6,"response"],[46,16,45,14],[46,25,45,23,"methods"],[46,32,45,30],[46,33,45,31,"getMethod"],[46,42,45,40],[46,43,45,41,"permissionOptions"],[46,60,45,69],[46,61,45,70],[47,6,46,4],[47,7,46,5],[47,13,46,11],[48,8,47,6,"response"],[48,16,47,14],[48,25,47,23,"methods"],[48,32,47,30],[48,33,47,31,"getMethod"],[48,42,47,40],[48,43,47,41],[48,44,47,42],[49,6,48,4],[50,6,49,4],[50,10,49,8,"isMounted"],[50,19,49,17],[50,20,49,18,"current"],[50,27,49,25],[50,29,49,27,"setStatus"],[50,38,49,36],[50,39,49,37,"response"],[50,47,49,45],[50,48,49,46],[51,6,50,4],[51,13,50,11,"response"],[51,21,50,19],[52,4,51,2],[52,5,51,3],[52,8,51,5],[52,9,51,6,"methods"],[52,16,51,13],[52,17,51,14,"getMethod"],[52,26,51,23],[52,27,51,24],[52,28,51,25],[53,4,53,2],[53,8,53,8,"requestPermission"],[53,25,53,25],[53,28,53,28],[53,32,53,28,"useCallback"],[53,38,53,39],[53,39,53,39,"useCallback"],[53,50,53,39],[53,69,53,39,"_asyncToGenerator"],[53,86,53,39],[53,87,53,39,"default"],[53,94,53,39],[53,96,53,40],[53,109,53,52],[54,6,54,4],[54,10,54,8,"response"],[54,18,54,28],[55,6,55,4],[55,10,55,8,"Object"],[55,16,55,14],[55,17,55,15,"keys"],[55,21,55,19],[55,22,55,20,"permissionOptions"],[55,39,55,37],[55,40,55,38],[55,41,55,39,"length"],[55,47,55,45],[55,50,55,48],[55,51,55,49],[55,53,55,51],[56,8,56,6,"response"],[56,16,56,14],[56,25,56,23,"methods"],[56,32,56,30],[56,33,56,31,"requestMethod"],[56,46,56,44],[56,47,56,45,"permissionOptions"],[56,64,56,73],[56,65,56,74],[57,6,57,4],[57,7,57,5],[57,13,57,11],[58,8,58,6,"response"],[58,16,58,14],[58,25,58,23,"methods"],[58,32,58,30],[58,33,58,31,"requestMethod"],[58,46,58,44],[58,47,58,45],[58,48,58,46],[59,6,59,4],[60,6,60,4],[60,10,60,8,"isMounted"],[60,19,60,17],[60,20,60,18,"current"],[60,27,60,25],[60,29,60,27,"setStatus"],[60,38,60,36],[60,39,60,37,"response"],[60,47,60,45],[60,48,60,46],[61,6,61,4],[61,13,61,11,"response"],[61,21,61,19],[62,4,62,2],[62,5,62,3],[62,8,62,5],[62,9,62,6,"methods"],[62,16,62,13],[62,17,62,14,"requestMethod"],[62,30,62,27],[62,31,62,28],[62,32,62,29],[63,4,64,2],[63,8,64,2,"useEffect"],[63,14,64,11],[63,15,64,11,"useEffect"],[63,24,64,11],[63,26,65,4],[63,35,65,13,"runMethods"],[63,45,65,23,"runMethods"],[63,46,65,23],[63,48,65,26],[64,6,66,6],[64,10,66,10,"request"],[64,17,66,17],[64,19,66,19,"requestPermission"],[64,36,66,36],[64,37,66,37],[64,38,66,38],[65,6,67,6],[65,10,67,10],[65,11,67,11,"request"],[65,18,67,18],[65,22,67,22,"get"],[65,25,67,25],[65,27,67,27,"getPermission"],[65,40,67,40],[65,41,67,41],[65,42,67,42],[66,4,68,4],[66,5,68,5],[66,7,69,4],[66,8,69,5,"get"],[66,11,69,8],[66,13,69,10,"request"],[66,20,69,17],[66,22,69,19,"requestPermission"],[66,39,69,36],[66,41,69,38,"getPermission"],[66,54,69,51],[66,55,70,2],[66,56,70,3],[68,4,72,2],[69,4,73,2],[69,8,73,2,"useEffect"],[69,14,73,11],[69,15,73,11,"useEffect"],[69,24,73,11],[69,26,73,12],[69,35,73,21,"didMount"],[69,43,73,29,"didMount"],[69,44,73,29],[69,46,73,32],[70,6,74,4,"isMounted"],[70,15,74,13],[70,16,74,14,"current"],[70,23,74,21],[70,26,74,24],[70,30,74,28],[71,6,75,4],[71,13,75,11],[71,19,75,17],[72,8,76,6,"isMounted"],[72,17,76,15],[72,18,76,16,"current"],[72,25,76,23],[72,28,76,26],[72,33,76,31],[73,6,77,4],[73,7,77,5],[74,4,78,2],[74,5,78,3],[74,7,78,5],[74,9,78,7],[74,10,78,8],[75,4,80,2],[75,11,80,9],[75,12,80,10,"status"],[75,18,80,16],[75,20,80,18,"requestPermission"],[75,37,80,35],[75,39,80,37,"getPermission"],[75,52,80,50],[75,53,80,51],[76,2,81,0],[78,2,83,0],[79,0,84,0],[80,0,85,0],[81,0,86,0],[82,2,87,7],[82,11,87,16,"createPermissionHook"],[82,31,87,36,"createPermissionHook"],[82,32,88,2,"methods"],[82,39,88,53],[82,41,89,2],[83,4,90,2],[83,11,90,10,"options"],[83,18,90,50],[83,22,91,4,"usePermission"],[83,35,91,17],[83,36,91,39,"methods"],[83,43,91,46],[83,45,91,48,"options"],[83,52,91,55],[83,53,91,56],[84,2,92,0],[85,0,92,1],[85,3]],"functionMap":{"names":["<global>","usePermission","getPermission","requestPermission","runMethods","didMount","<anonymous>","createPermissionHook"],"mappings":"AAA;ACiC;oCCQ;GDS;wCEE;GFS;IGG;KHG;YIK;WCE;KDE;GJC;CDG;OOM;SDG;wDCC;CPC"},"hasCjsExports":false},"type":"js/module"}]}