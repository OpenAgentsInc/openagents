{"dependencies":[{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":53,"index":142}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"rubberBandDecay\", {\n    enumerable: true,\n    get: function () {\n      return rubberBandDecay;\n    }\n  });\n  var _utils = require(_dependencyMap[0]);\n  var DERIVATIVE_EPS = 0.1;\n  var _worklet_7927757150876_init_data = {\n    code: \"function rubberBandDecay_reactNativeReanimated_rubberBandDecayTs1(animation,now,config){const{SLOPE_FACTOR,DERIVATIVE_EPS,VELOCITY_EPS}=this.__closure;const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const clampIndex=Math.abs(current-config.clamp[0])<Math.abs(current-config.clamp[1])?0:1;let derivative=0;if(current<config.clamp[0]||current>config.clamp[1]){derivative=current-config.clamp[clampIndex];}const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR)-derivative*config.rubberBandFactor;if(Math.abs(derivative)>DERIVATIVE_EPS){animation.springActive=true;}else if(animation.springActive){animation.current=config.clamp[clampIndex];return true;}else if(Math.abs(v)<VELOCITY_EPS){return true;}animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;return false;}\"\n  };\n  var rubberBandDecay = function rubberBandDecay_reactNativeReanimated_rubberBandDecayTs1Factory(_ref) {\n    var _worklet_7927757150876_init_data = _ref._worklet_7927757150876_init_data,\n      SLOPE_FACTOR = _ref.SLOPE_FACTOR,\n      DERIVATIVE_EPS = _ref.DERIVATIVE_EPS,\n      VELOCITY_EPS = _ref.VELOCITY_EPS;\n    var rubberBandDecay = function (animation, now, config) {\n      var lastTimestamp = animation.lastTimestamp,\n        startTimestamp = animation.startTimestamp,\n        current = animation.current,\n        velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      var clampIndex = Math.abs(current - config.clamp[0]) < Math.abs(current - config.clamp[1]) ? 0 : 1;\n      var derivative = 0;\n      if (current < config.clamp[0] || current > config.clamp[1]) {\n        derivative = current - config.clamp[clampIndex];\n      }\n      var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR) - derivative * config.rubberBandFactor;\n      if (Math.abs(derivative) > DERIVATIVE_EPS) {\n        animation.springActive = true;\n      } else if (animation.springActive) {\n        animation.current = config.clamp[clampIndex];\n        return true;\n      } else if (Math.abs(v) < VELOCITY_EPS) {\n        return true;\n      }\n      animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n      animation.velocity = v;\n      animation.lastTimestamp = now;\n      return false;\n    };\n    rubberBandDecay.__closure = {\n      SLOPE_FACTOR,\n      DERIVATIVE_EPS,\n      VELOCITY_EPS\n    };\n    rubberBandDecay.__workletHash = 7927757150876;\n    rubberBandDecay.__initData = _worklet_7927757150876_init_data;\n    return rubberBandDecay;\n  }({\n    _worklet_7927757150876_init_data,\n    SLOPE_FACTOR: _utils.SLOPE_FACTOR,\n    DERIVATIVE_EPS,\n    VELOCITY_EPS: _utils.VELOCITY_EPS\n  });\n});","lineCount":62,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"rubberBandDecay"],[10,28,7,0],[11,4,7,0],[12,2,7,0],[13,2,3,0],[13,6,3,0,"_utils"],[13,12,3,0],[13,15,3,0,"require"],[13,22,3,0],[13,23,3,0,"_dependencyMap"],[13,37,3,0],[14,2,5,0],[14,6,5,6,"DERIVATIVE_EPS"],[14,20,5,20],[14,23,5,23],[14,26,5,26],[15,2,5,27],[15,6,5,27,"_worklet_7927757150876_init_data"],[15,38,5,27],[16,4,5,27,"code"],[16,8,5,27],[17,2,5,27],[18,2,5,27],[18,6,5,27,"rubberBandDecay"],[18,21,5,27],[18,24,7,7],[18,33,7,7,"rubberBandDecay_reactNativeReanimated_rubberBandDecayTs1Factory"],[18,97,7,7,"_ref"],[18,101,7,7],[19,4,7,7],[19,8,7,7,"_worklet_7927757150876_init_data"],[19,40,7,7],[19,43,7,7,"_ref"],[19,47,7,7],[19,48,7,7,"_worklet_7927757150876_init_data"],[19,80,7,7],[20,6,29,62,"SLOPE_FACTOR"],[20,18,29,74],[20,21,29,74,"_ref"],[20,25,29,74],[20,26,29,62,"SLOPE_FACTOR"],[20,38,29,74],[21,6,33,29,"DERIVATIVE_EPS"],[21,20,33,43],[21,23,33,43,"_ref"],[21,27,33,43],[21,28,33,29,"DERIVATIVE_EPS"],[21,42,33,43],[22,6,38,27,"VELOCITY_EPS"],[22,18,38,39],[22,21,38,39,"_ref"],[22,25,38,39],[22,26,38,27,"VELOCITY_EPS"],[22,38,38,39],[23,4,38,39],[23,8,38,39,"rubberBandDecay"],[23,23,38,39],[23,35,38,39,"rubberBandDecay"],[23,36,8,2,"animation"],[23,45,8,32],[23,47,9,2,"now"],[23,50,9,13],[23,52,10,2,"config"],[23,58,10,31],[23,60,11,11],[24,6,13,2],[24,10,13,10,"lastTimestamp"],[24,23,13,23],[24,26,13,63,"animation"],[24,35,13,72],[24,36,13,10,"lastTimestamp"],[24,49,13,23],[25,8,13,25,"startTimestamp"],[25,22,13,39],[25,25,13,63,"animation"],[25,34,13,72],[25,35,13,25,"startTimestamp"],[25,49,13,39],[26,8,13,41,"current"],[26,15,13,48],[26,18,13,63,"animation"],[26,27,13,72],[26,28,13,41,"current"],[26,35,13,48],[27,8,13,50,"velocity"],[27,16,13,58],[27,19,13,63,"animation"],[27,28,13,72],[27,29,13,50,"velocity"],[27,37,13,58],[28,6,15,2],[28,10,15,8,"deltaTime"],[28,19,15,17],[28,22,15,20,"Math"],[28,26,15,24],[28,27,15,25,"min"],[28,30,15,28],[28,31,15,29,"now"],[28,34,15,32],[28,37,15,35,"lastTimestamp"],[28,50,15,48],[28,52,15,50],[28,54,15,52],[28,55,15,53],[29,6,16,2],[29,10,16,8,"clampIndex"],[29,20,16,18],[29,23,17,4,"Math"],[29,27,17,8],[29,28,17,9,"abs"],[29,31,17,12],[29,32,17,13,"current"],[29,39,17,20],[29,42,17,23,"config"],[29,48,17,29],[29,49,17,30,"clamp"],[29,54,17,35],[29,55,17,36],[29,56,17,37],[29,57,17,38],[29,58,17,39],[29,61,17,42,"Math"],[29,65,17,46],[29,66,17,47,"abs"],[29,69,17,50],[29,70,17,51,"current"],[29,77,17,58],[29,80,17,61,"config"],[29,86,17,67],[29,87,17,68,"clamp"],[29,92,17,73],[29,93,17,74],[29,94,17,75],[29,95,17,76],[29,96,17,77],[29,99,18,8],[29,100,18,9],[29,103,19,8],[29,104,19,9],[30,6,21,2],[30,10,21,6,"derivative"],[30,20,21,16],[30,23,21,19],[30,24,21,20],[31,6,22,2],[31,10,22,6,"current"],[31,17,22,13],[31,20,22,16,"config"],[31,26,22,22],[31,27,22,23,"clamp"],[31,32,22,28],[31,33,22,29],[31,34,22,30],[31,35,22,31],[31,39,22,35,"current"],[31,46,22,42],[31,49,22,45,"config"],[31,55,22,51],[31,56,22,52,"clamp"],[31,61,22,57],[31,62,22,58],[31,63,22,59],[31,64,22,60],[31,66,22,62],[32,8,23,4,"derivative"],[32,18,23,14],[32,21,23,17,"current"],[32,28,23,24],[32,31,23,27,"config"],[32,37,23,33],[32,38,23,34,"clamp"],[32,43,23,39],[32,44,23,40,"clampIndex"],[32,54,23,50],[32,55,23,51],[33,6,24,2],[34,6,26,2],[34,10,26,8,"v"],[34,11,26,9],[34,14,27,4,"velocity"],[34,22,27,12],[34,25,28,6,"Math"],[34,29,28,10],[34,30,28,11,"exp"],[34,33,28,14],[34,34,29,8],[34,36,29,10],[34,37,29,11],[34,40,29,14,"config"],[34,46,29,20],[34,47,29,21,"deceleration"],[34,59,29,33],[34,60,29,34],[34,64,29,38,"now"],[34,67,29,41],[34,70,29,44,"startTimestamp"],[34,84,29,58],[34,85,29,59],[34,88,29,62,"SLOPE_FACTOR"],[34,100,30,6],[34,101,30,7],[34,104,31,4,"derivative"],[34,114,31,14],[34,117,31,17,"config"],[34,123,31,23],[34,124,31,24,"rubberBandFactor"],[34,140,31,40],[35,6,33,2],[35,10,33,6,"Math"],[35,14,33,10],[35,15,33,11,"abs"],[35,18,33,14],[35,19,33,15,"derivative"],[35,29,33,25],[35,30,33,26],[35,33,33,29,"DERIVATIVE_EPS"],[35,47,33,43],[35,49,33,45],[36,8,34,4,"animation"],[36,17,34,13],[36,18,34,14,"springActive"],[36,30,34,26],[36,33,34,29],[36,37,34,33],[37,6,35,2],[37,7,35,3],[37,13,35,9],[37,17,35,13,"animation"],[37,26,35,22],[37,27,35,23,"springActive"],[37,39,35,35],[37,41,35,37],[38,8,36,4,"animation"],[38,17,36,13],[38,18,36,14,"current"],[38,25,36,21],[38,28,36,24,"config"],[38,34,36,30],[38,35,36,31,"clamp"],[38,40,36,36],[38,41,36,37,"clampIndex"],[38,51,36,47],[38,52,36,48],[39,8,37,4],[39,15,37,11],[39,19,37,15],[40,6,38,2],[40,7,38,3],[40,13,38,9],[40,17,38,13,"Math"],[40,21,38,17],[40,22,38,18,"abs"],[40,25,38,21],[40,26,38,22,"v"],[40,27,38,23],[40,28,38,24],[40,31,38,27,"VELOCITY_EPS"],[40,43,38,39],[40,45,38,41],[41,8,39,4],[41,15,39,11],[41,19,39,15],[42,6,40,2],[43,6,42,2,"animation"],[43,15,42,11],[43,16,42,12,"current"],[43,23,42,19],[43,26,42,22,"current"],[43,33,42,29],[43,36,42,33,"v"],[43,37,42,34],[43,40,42,37,"config"],[43,46,42,43],[43,47,42,44,"velocityFactor"],[43,61,42,58],[43,64,42,61,"deltaTime"],[43,73,42,70],[43,76,42,74],[43,80,42,78],[44,6,43,2,"animation"],[44,15,43,11],[44,16,43,12,"velocity"],[44,24,43,20],[44,27,43,23,"v"],[44,28,43,24],[45,6,44,2,"animation"],[45,15,44,11],[45,16,44,12,"lastTimestamp"],[45,29,44,25],[45,32,44,28,"now"],[45,35,44,31],[46,6,45,2],[46,13,45,9],[46,18,45,14],[47,4,46,0],[47,5,46,1],[48,4,46,1,"rubberBandDecay"],[48,19,46,1],[48,20,46,1,"__closure"],[48,29,46,1],[49,6,29,62,"SLOPE_FACTOR"],[49,18,29,74],[50,6,33,29,"DERIVATIVE_EPS"],[50,20,33,43],[51,6,38,27,"VELOCITY_EPS"],[52,4,38,39],[53,4,38,39,"rubberBandDecay"],[53,19,38,39],[53,20,38,39,"__workletHash"],[53,33,38,39],[54,4,38,39,"rubberBandDecay"],[54,19,38,39],[54,20,38,39,"__initData"],[54,30,38,39],[54,33,38,39,"_worklet_7927757150876_init_data"],[54,65,38,39],[55,4,38,39],[55,11,38,39,"rubberBandDecay"],[55,26,38,39],[56,2,38,39],[56,3,7,7],[57,4,7,7,"_worklet_7927757150876_init_data"],[57,36,7,7],[58,4,29,62,"SLOPE_FACTOR"],[58,16,29,74],[58,18,29,62,"SLOPE_FACTOR"],[58,24,29,74],[58,25,29,74,"SLOPE_FACTOR"],[58,37,29,74],[59,4,33,29,"DERIVATIVE_EPS"],[59,18,33,43],[60,4,38,27,"VELOCITY_EPS"],[60,16,38,39],[60,18,38,27,"VELOCITY_EPS"],[60,24,38,39],[60,25,38,39,"VELOCITY_EPS"],[61,2,38,39],[62,0,38,39],[62,3]],"functionMap":{"names":["<global>","rubberBandDecay"],"mappings":"AAA;OCM;CDuC"},"hasCjsExports":false},"type":"js/module"}]}