/* 
 * Chat-specific components for OpenAgents v1 replication
 * Uses Basecoat as foundation with custom chat UI elements
 */

/* Chat Container Layout */
.chat-container {
  @apply flex flex-col h-screen bg-black;
}

.chat-header {
  @apply flex items-center justify-between px-4 py-3 border-b border-gray-800;
  @apply bg-black;
}

.chat-main {
  @apply flex flex-1 overflow-hidden;
}

.chat-sidebar {
  @apply w-[280px] border-r border-gray-800 flex flex-col bg-gray-950;
}

.chat-content {
  @apply flex-1 flex flex-col;
}

/* Thread List Components */
.thread-list {
  @apply flex-1 overflow-y-auto;
}

.thread-header {
  @apply p-4 border-b border-gray-800;
}

.thread-item {
  @apply px-4 py-3 cursor-pointer hover:bg-gray-900 transition-colors;
  @apply border-b border-gray-800/50;
}

.thread-item.active {
  @apply bg-gray-900;
}

.thread-title {
  @apply text-sm font-medium text-gray-200 truncate;
}

.thread-preview {
  @apply text-xs text-gray-500 mt-1 truncate;
}

.thread-meta {
  @apply text-xs text-gray-600 mt-1;
}

.new-thread-button {
  @apply flex items-center justify-center gap-2 px-4 py-3;
  @apply border border-gray-800 hover:bg-gray-900 transition-colors;
  @apply text-gray-400 hover:text-gray-200;
}

/* Messages Area */
.messages-container {
  @apply flex-1 overflow-y-auto px-4 py-4;
  @apply bg-black;
}

.messages-wrapper {
  @apply max-w-3xl mx-auto space-y-6;
}

/* Message Components */
.message {
  @apply flex gap-3;
}

.message-avatar {
  @apply w-8 h-8 rounded-full flex-shrink-0;
  @apply flex items-center justify-center text-xs font-bold;
}

.message-avatar.user {
  @apply bg-gray-700 text-gray-200;
}

.message-avatar.assistant {
  @apply bg-blue-600 text-white;
}

.message-content {
  @apply flex-1 min-w-0;
}

.message-header {
  @apply flex items-baseline gap-2 mb-1;
}

.message-name {
  @apply text-sm font-medium text-gray-200;
}

.message-time {
  @apply text-xs text-gray-600;
}

.message-body {
  @apply text-sm text-gray-300 leading-relaxed;
}

.message-body.user {
  @apply bg-gray-800 rounded-lg px-4 py-3;
}

.message-body.assistant {
  /* Assistant messages have no background */
}

.message-actions {
  @apply flex gap-1 mt-2 opacity-0 transition-opacity;
}

.message:hover .message-actions {
  @apply opacity-100;
}

.message-action-button {
  @apply p-1.5 rounded hover:bg-gray-800 text-gray-500 hover:text-gray-300;
  @apply transition-colors text-xs;
}

/* Code Blocks in Messages */
.message-code {
  @apply bg-gray-900 rounded-md p-3 my-2 overflow-x-auto;
  @apply border border-gray-800;
}

.message-code pre {
  @apply text-xs font-mono text-gray-300;
}

.code-header {
  @apply flex items-center justify-between mb-2 pb-2 border-b border-gray-800;
}

.code-language {
  @apply text-xs text-gray-500;
}

/* Loading State */
.message-loading {
  @apply flex gap-1 p-2;
}

.loading-dot {
  @apply w-2 h-2 bg-gray-600 rounded-full;
  animation: loading-pulse 1.4s ease-in-out infinite;
}

.loading-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.loading-dot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes loading-pulse {
  0%, 60%, 100% {
    opacity: 0.3;
  }
  30% {
    opacity: 1;
  }
}

/* Chat Input Area */
.chat-input-container {
  @apply border-t border-gray-800 bg-black;
}

.chat-input-wrapper {
  @apply max-w-3xl mx-auto p-4;
}

.chat-input-form {
  @apply flex gap-2;
}

.chat-input {
  @apply flex-1 bg-gray-900 border border-gray-800 rounded-lg px-4 py-3;
  @apply text-sm text-gray-200 placeholder-gray-500;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent;
  @apply resize-none min-h-[60px] max-h-[200px];
}

.chat-send-button {
  @apply px-4 py-2 bg-blue-600 text-white rounded-lg;
  @apply hover:bg-blue-700 transition-colors;
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
  @apply flex items-center gap-2 text-sm font-medium;
}

/* Model Indicator */
.model-indicator {
  @apply px-3 py-1 bg-gray-900 border border-gray-800 rounded-full;
  @apply text-xs text-gray-400 flex items-center gap-2;
}

.model-indicator-dot {
  @apply w-2 h-2 bg-green-500 rounded-full;
}

/* File Upload Area (visual only) */
.file-upload-area {
  @apply border-2 border-dashed border-gray-800 rounded-lg p-4 mb-3;
  @apply text-center text-sm text-gray-500;
  @apply hover:border-gray-700 transition-colors;
}

/* System Messages */
.message-system {
  @apply text-center py-2;
}

.message-system-text {
  @apply inline-block px-3 py-1 bg-gray-900 rounded-full;
  @apply text-xs text-gray-500;
}

/* Error Messages */
.message-error {
  @apply bg-red-900/20 border border-red-800 rounded-lg p-3;
  @apply text-sm text-red-400;
}

/* Empty State */
.empty-state {
  @apply flex flex-col items-center justify-center h-full;
  @apply text-gray-500 text-sm;
}

.empty-state-icon {
  @apply w-12 h-12 mb-3 text-gray-700;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .chat-sidebar {
    @apply hidden;
  }
  
  .messages-wrapper {
    @apply px-2;
  }
}