<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenAgents</title>
  <link rel="stylesheet" href="index.css">
</head>

<body>
  <div id="flow-container">
    <svg id="flow-svg" class="flow-svg"></svg>
  </div>
  <div id="flow-controls">
    <div id="view-mode-switcher">
      <button id="view-flow-btn" class="active" title="Flow View (Ctrl+1)">Flow</button>
      <button id="view-tb-btn" title="TB View (Ctrl+2)">TB</button>
    </div>
    <button id="reset-btn" title="Reset View">Reset</button>
    <span id="zoom-level">100%</span>
  </div>

  <!-- TB Category Tree -->
  <div id="tb-category-tree" class="hidden">
    <div class="tb-tree-header">
      <span class="tb-tree-label">Task Categories</span>
      <div class="tb-tree-actions">
        <button id="tb-tree-expand" class="small" title="Expand all">+</button>
        <button id="tb-tree-collapse" class="small" title="Collapse all">−</button>
        <button id="tb-tree-close" class="small" title="Close">×</button>
      </div>
    </div>
    <div id="tb-tree-content" class="tb-tree-content"></div>
  </div>

  <!-- TB Output Viewer -->
  <div id="tb-output-viewer" class="hidden">
    <div class="tb-output-header">
      <span class="tb-output-label">Agent Output</span>
      <div class="tb-output-actions">
        <button id="tb-output-clear" class="small" title="Clear output">Clear</button>
        <button id="tb-output-copy" class="small" title="Copy to clipboard">Copy</button>
        <button id="tb-output-close" class="small" title="Close">×</button>
      </div>
    </div>
    <div id="tb-output-content" class="tb-output-content"></div>
  </div>

  <!-- TB Run Controls -->
  <div id="tb-controls">
    <div class="tb-controls-header">
      <span class="tb-label">Terminal-Bench</span>
      <span id="tb-status" class="tb-status">Ready</span>
    </div>
    <div class="tb-controls-body">
      <input type="text" id="tb-suite-path" placeholder="Suite path..." value="./tasks/terminal-bench-2.json">
      <div class="tb-buttons">
        <button id="tb-load-btn" title="Load Suite (Ctrl+L)">Load</button>
        <button id="tb-start-btn" title="Start Run (Ctrl+T)" class="primary">Start</button>
        <button id="tb-stop-btn" title="Stop Run (Ctrl+X)" class="danger" disabled>Stop</button>
      </div>
    </div>
    <div id="tb-task-selector" class="tb-task-selector hidden">
      <div class="tb-task-header">
        <span id="tb-suite-name">No suite loaded</span>
        <button id="tb-select-all" class="small">All</button>
        <button id="tb-select-none" class="small">None</button>
      </div>
      <div id="tb-task-list" class="tb-task-list"></div>
    </div>
  </div>

  <script type="module" src="index.js"></script>
</body>

</html>
