{% macro auth_scripts() %}
<script>
  function showAuthError(message) {
    const errorDiv = document.getElementById("auth-error");
    const errorMessage = document.getElementById("auth-error-message");
    if (errorDiv && errorMessage) {
      errorMessage.textContent = message;
      errorDiv.classList.remove("hidden");
    }
  }

  function clearAuthError() {
    const errorDiv = document.getElementById("auth-error");
    if (errorDiv) {
      errorDiv.classList.add("hidden");
    }
  }

  function handleAuthError(error) {
    // Common error messages
    const errorMessages = {
      invalid_request: "Invalid request. Please try again.",
      invalid_credentials: "Invalid email or password.",
      email_exists: "An account with this email already exists.",
      password_mismatch: "Passwords do not match.",
      weak_password:
        "Password must be at least 8 characters long and include a number.",
      network_error: "Network error. Please check your connection.",
      server_error: "Server error. Please try again later.",
    };

    // Get user-friendly message or use raw error
    const message = errorMessages[error] || error;
    showAuthError(message);
  }
</script>
{% endmacro %}
